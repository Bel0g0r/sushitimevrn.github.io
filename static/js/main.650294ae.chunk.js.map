{"version":3,"sources":["panels/catalog/OneProduct.js","panels/Cart/CartHome.js","panels/Promokode/ConditionsPromokode.js","StartPageVKapp.js","panels/ProfileUser/UserOrderList.js","panels/ProfileUser/OrderTypeList.js","panels/ProfileUser/OrderShowDeail.js","panels/Notice/index.js","panels/ProfileUser/UserInfo.js","panels/catalog/CatalogProduct.js","panels/catalog/CategoryList.js","panels/Cart/Dilivery.js","panels/Cart/DiliveryAddress.js","panels/Cart/GetOneAddress.js","panels/Cart/GetOneAddressOff.js","panels/Cart/AffiliateList.js","panels/Cart/GetOneAffiliateAddress.js","panels/preorder/index.js","panels/noPreorder/index.js","panels/Cart/PaymentsPage.js","panels/Cart/NewOrderServer.js","panels/Cart/GiftScale.js","panels/SearchResultProductBlock.js","panels/Cart/GiftVariandModal.js","panels/Promokode/PromokodeModal.js","panels/Promokode/PromokodeInput.js","panels/Persik.js","panels/Nopersik.js","panels/Profile.js","panels/Promokode/FunctionCHeckPromokode/GetAllPriceBasketDontTopping.js","panels/Promokode/FunctionCHeckPromokode/ConditionPromokodeFunction.js","index.js","panels/Cart/ButtonEbee.js","panels/NumberFormatFN.js","panels/Promokode/FunctionCHeckPromokode/getPriceProductBasket.js","panels/global/index.js","panels/catalog/ButtonInCart.js","img/persik.png","panels/catalog/ProductList.js","panels/Cart/FormNewAddress.js","panels/Promokode/FunctionCHeckPromokode/PromokodeClass.js","panels/Promokode/FunctionCHeckPromokode/FunctionCheckedBasketPromokode.js"],"names":["escapeHtmlDecode","text","replace","OneProduct","product","idCategory","number_format","number","decimals","dec_point","separator","n","isFinite","prec","Math","abs","sep","dec","s","k","pow","round","toFixed","toFixedFix","split","length","Array","join","productList","ClickProduct","setCart","setProductModal","getButtonInCartProduct","ProductCat","map","typeProduct","idTypeProduct","key","id_Product","className","id","type_product","ArrayMod","ListMod","Object","keys","VisualList","datas","src","mod_img","getModyficateBlock","modyficate","href","id_Category","onClick","e","preventDefault","alt","title","img","console","log","global","Metrika","Markers","active","ym","marker","Product_Weight","weight","Product_WeightType","weight_type","description","type_info","price_discount","style","fontWeight","fontSize","marginRight","old_price","new_price","price","getPriceProducts","getProductDiv","osName","platform","GetCartHome","props","state","activePanel","popout","LoadDopProduct","this","setState","LoadStatus","setPopout","a","PopupLoadDop","bind","loadingStatusPromokodeActive","PresetsDopProductList","list","ListPresets","count","typeCount","textAlign","overflow","float","width","marginLeft","paddingRight","PrRecommend","ProductsListsRecommend","AllPr","arrayProduct","AllPrCart","ProductList","compare","b","orders","Pr","showAll","ListDopProduct","sort","show","forEach","v","id_tovar","id_category","position","bottom","CartProducts","typeProduct2","setCarts","display","paddingBottom","height","minWidth","DopProductList","getButtonDopProduct","setDopProduct","getCountDopProductIcon","DopProductUserSet","Prod","alls","idProduct","counts","Buttons","margin","getCartVisual","Products","DataPromokodeDiscountProduct","results","cartProduct","idProducts","marginBottom","clear","color","allSumDiscount","BasketPromoDiscount","arrayProductDiscount","ProductId","ProductData","countProduct","getButtonNavigation","typeNav","action","ButtonBlock","data-to","IOS","header","icon","sumCart","GetPresetsVisual","ProductListRecommend","showModal","activeGift","setActiveGifts","PromokodeActiveStatus","theme","sumBasket","opacity","size","getOneStepCart","DopProductListVisual","ListProductRecommend","PromokodeData","PromokodeErrorInfo","dataPromokodeDiscoun","userSystemInfo","userInfo","getUserSystemInfo","addressDefault","setAddressDefault","AffiliateDefault","setAffiliateDefault","checkedTypeDilivery","setTypeDilivery","commentary","setComment","countPerson","setStates","setDeliveryDataItogs","getDeliveryDataPriceItogAffiliate","hideModals","DataDeliveryInfo","DataDeliveryInfoPay","stretched","level","SalePoints","getReloadInfODeliveryPay","setOkNewOrderView","React","Component","ConditionsPromokod","typeReturn","promokodeErrorInfo","ReturnData","showIconError","errorSum","countSum","styles","TextInfoMini","BoldText","errorProduct","status","message","backgroundColor","padding","TextInfoMiniOk","TextInfoMiniError","titleChildBlock","require","App","parseQueryString","string","slice","queryParam","kvp","value","reduce","query","AudioInfo","ReloadBasket","Audio","countReloadBasket","Notice","CountNotice","CountNoticeNoView","typeOrderGetText","typeOrderGet","numberOrderShow","listOrderUser","ParamStart","products","loadingCatalog","activeStory","activePanelOrders","loadingPage","user","error","dataUser","cart","countCartProduct","dopPresets","imgListPresets","typePay","activeModal","formNewAddressData","formEditAddressData","listAddressGlobal","listAffiliateGlobal","priceDelivery","minSumOrder","minSumFreeDelivery","errorOrderFinal","DeliveryPriceItog","DeliveryAddressOKCity","addressOrderInfoUser","newOrderStats","StatusLoadSlide","slideHeaderArray","slideIndex","StatusNotification","CityListBind","typeOrderDate","SelectDatePreorder","SelectTimePreorder","settingsFilterSearch","typeSearch","activeHashPageProduct","activeProductHash","activeCategoryHash","promokodeData","promokodeActive","promokodeError","errorTimeActive","countTimeActive","onStoryChange","onChange","data","undefined","ConditionsPromokodFunction","PromokodeReloadStatus","handleSetPromokodeErrorInfo","getBasketPromokodeActive","handleSetAddDiscountPromokodeData","getSumItogButton","handleReturnBasketSum","handleConditionPromokodeBasket","search","axios","method","url","ApiKey","responseType","then","ListCitySelect","catch","err","idUsers","CountNoticeNoCheck","result","type","idNotice","getNotice","getCartDB","as","bs","currentTarget","dataset","story","aa","sumCartItog","CPr","getSumCartOnDiscount","SumDopsProduct","document","cookie","vk_platform","headers","typeSlide","getTypeSlideGet","setSlideArray","listSlide","ArraySlide","StatusReloadBasketData","JSON","stringify","ArraySlides","Bullets","AutoPlays","SliderVisual","maxWidth","autoplay","slideWidth","bullets","getSlideHeaderArray","setTimeout","reloadSlideHeaderSetTime","connect","sendPromise","response","is_allowed","PushClick","AllNotice","setNotice","setNoticeServer","DeleteNotifi","OffPushNotyfication","OnPushNotyfication","getStatusNotificate","setUser","getCityUser","productsRecommend","listRecommend","MetrikaAction","fetchData","setInterval","getIntervalCart","setHashDataReload","setModalsPay","setModal","setModalsPayError","setOkNewOrderViewHandl","setFailNewOrderViewHandl","setFailNewOrderView","window","addEventListener","task","i","dataOld","dataNew","ListProduct","setCountCartVisal","ListDopPresets","listPresetProduct","imgPresetProduct","id_user","loading","ia","listProduct","errorInfo","ListOld","ListNew","ListPresetsOld","ListPresetsNew","DopPresetsData","statusBasket","statusPresets","ReloadBasketDataFN","PlayInfoAudio","ListDopOld","ListDopNew","ReloadBasketDataDopPresets","audio","stop","play","setUserSystem","JsonBasket","basketJson","tE","push","countPlus","setcountCartProduct","noAdd","cartProducts","setcountCartProductVar","splice","setDataServer","btoa","encodeURI","setCartServer","HashParam","location","hash","newHeight","screen","send","setHashNew","setPageModalProductHash","ProductArray","def","defaultChecked","name","some","queryParams","modal","onClose","right","dynamicContentHeight","caption","actions","sumItogBasket","setActiveGift","closeModal","ErrorPromokode","handleSetPromokodeError","handleSetActiveStatusPromokode","PromokodeDate","handleSetDataPromokode","handleDeactivatePromokodes","getFilterBlockModal","settlingHeight","background","osname","countNoticeView","tabbar","selected","data-story","label","getInfoSearchStatus","getSuccesOrderPage","getFailOrderPage","userData","setTypeOrderList","left","addon","setOrderShowNumber","listOrderUserSet","idOrderDetail","OrderDatas","ProductsLists","sliderHeader","getSliderGalery","asideContent","after","varSearch","noShadow","getDeliveryDataPriceItog","setTypeOrderDate","comments","getNotificationPage","go","dataUsers","setStatusNotification","setShowUserOrderList","UserOrderList","loadOrders","before","getAllGroups","OrderTypeList","getOrderUserSystem","countOrder","reduceRight","arr","last","index","coll","concat","typeNumber","iconsD","countOrders","ListOrder","ReverceList","dataOrder","keyOrder","CurrentOrder","statusY","status_order","delete_order","summaOrders","sum_order","date","time","id_order","getOrderType","getNowOrder","getOldOrder","getCancelledOrder","getOneTypeOrders","OrderShowDetail","ststusReturn","statusOld","statusReal","ststusReturns","Order","pre_order","date_pre_order","m","sale_price","product_price","Price_sales","discount_amount","Discount","indicator","cost","product_title","price_product","title_product","title_gift_product","dilivery","dilivery_type","Address","dilivery_adres","PriceDeli","dilivery_price","TextDel","affiliate","affiliate_info","promo_status","PromoInfo","promo_code","promo_info","point_out","point_in","OrderId","setRepeatOrder","alert","StatusIcon","getStatusIconText","detailText","getStatusOrderReal","getStatusOrderText","status_order_real","payment","type_pay","getPerson","person","getInfoPointsOrder","getInfoPreorderBlock","getInfoPromokod","promo","getOrderComposition","getOrderDopComposition","dopProductList","getOrderGiftComposition","giftProductList","getOrderDeliveryInfo","getComment","Comment","getRepeatOrder","statusView","Data","setNoticeData","getImagesNotice","dangerouslySetInnerHTML","__html","NoteNotice","UserInfo","them","fetchedUser","photo_200","city","first_name","last_name","getInfoUserNoneAuth","point","checked","textDecoration","linkSocSeti","target","getPanelProfil","CatalogProduct","OPT","useEffect","CategoryList","hndlClick","aP","productModal","setActiveCategory","ActiveCategory","panelCategory","searchProduct","getHashProductPageActive","ButOk","id_CartPr","getCountButton","getInCarts","DataKombo","AllProduct","res","ArrK","d","dp","ip","arrp","marginTop","multiline","FeaturesData","defs","getFeaturesData","Features","getWeightProduct","ModalProductInfo","Loadings","ClickBack","ProductInfo","komboPoduct","getKomboProductData","getFeaturesBlock","featuresProduct","GetCategorys","ClickCategory","ShowCategory","Title","onClickProduct","productsLists","idCategorys","nameCategory","GetBrandPanels","imgCategory","phonenumberCollVisual","phonenumberColl","classNameDivCategory","blueBackground","Dilivery","UserCard","phone","email","CheckSMSCode","phoneValue","codeValue","resultVerificationCode","tooltip","snackbar","showBTNNewAddress","showFormNewAddress","openBase","phone_number","getPhoneUserVK","layout","fill","phoneVerification","VerificationCode","idUserVK","event","types","values_count","top","placeholder","getValueInputCode","checkVerificationCode","defaultValue","getValueInputPhone","setVerificationPhone","getButtonTypeOrder","typeDelivery","DataInfos","getButtonTypeDilivery","getListAddress","getListAffiliate","getPreorderBlock","getCountPersonInput","getCommentsTextarea","setShowBTNNewAddress","showModals","getCommentsData","Param","getNoneCartProduct","getInfoUserAuth","getOkListAddress","DiliveryAddress","listAddress","listAddressOff","addressOk","dataAddress","getAddressUserSystem","AddressEdit","delUpdate","id_UserVK","getFormNewAddress","ListAddressNoDelivery","listAddressGlobalOff","getAddressUsers","listAddressU","DataSetAddress","street","home","diliveryData","priceDilivery","min_sum_order","min_sum_free_dilivery","setDataDiliveryPrice","setAddressInfoUsers","keyId","setDataDeliveryPrice","setAddressEdit","AddresInfo","NumberAddress","dataAddressOff","dataAddress2","keyId2","getListAddressVisual","GetOneAddress","AddressN","closePopout","comment","addressInfo","result_add","autoclose","deletedAddress","podezd","etaj","kvartira","openDefault","getAddressFull","getAddressTitle","defaultCheckedR","GetOneAddressOff","disabled","AffiliateList","listAffiliate","addressAffiliateOk","dataAffiliate","id_City","listOffAffiliate","getAddressAffiliate","GetOneAffiliateAddress","operating_mode","Preorder","loadBlockPreorder","listDatePreorder","onChangeS","getDateList","ListDate","getSelectTime","ListTimes","timeList","ListTime","times","false","getSelectDate","getBlockPreorder","NoPreorder","loadBlockOrder","getBlocknoPreorder","PaymentsPage","value2","statusNewOrder","options","points","step","min","max","Number","setPointsDefaultsSale","String","justifyContent","sum","checkTypeDiliveryInfo","checkPreorderActive","DataOrder","DataAddressDelivery","getAddressDelivery","DataAddressAffiliate","AddressDelivery","idAffiliatePickup","PointsSale","DeliverySum","Comments","DopInfo","giftData","dateObj","Date","getCountsTimeBonus","getDate","getMountsDate","getMonth","getUTCFullYear","PriceInfoVisual","getSumCartItogo","DataOrderInfo","getDataOrder","getPageOkOrderSet","sumItog","showModalPayment","returnPlaceholderPreorder","checkPreorderType","checkMinSummaCart","NewOrderServer","infoNewOrder","typePayment","getElementById","contentWindow","postMessage","idNewOrder","sumPaymentItog","idPointsPaymentToken","ScaleGift","Options","bottomLabel","giftsList","useState","GiftDataServer","setGiftsList","CityIdSystem","getWidthScale","MaxValue","settingsScale","max_summa","NowValue","getCountNoSum","NoSum","AllGiftStep","ListGift","min_price","dataGift","sumProduct","min_sum","getSumActiveGift","ready","View","imagePassive","image","flexDirection","alignItems","onPress","borderRadius","shadow","textGiftNoSum","paddingVertical","flexWrap","borderBottomColor","borderBottomWidth","borderTop","URLCite","paddingLeft","trim","type_product_text","paddingTop","count_product","borderTopColor","borderTopWidth","marginVertical","textGiftNoSumText","getGiftNoSum","zIndex","backgroundImage","backgroundSize","h2","textTransform","borderWidth","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","shadowOff","flex","alignSelf","SearchResultProductBlock","clrStatus","getArrayCategoryProduct","statusText","getStatusSearch","getProductSearchResult","GiftVariantModal","URL_SITE","statusLoading","setStatusLoading","getGiftInfo","Promise","resolve","reject","params","ActiveIndicateLoading","ListGifts","OneGift","val","num","OneGifts","activeBlock","BlockListGifts","BlockListGiftsActive","BlockImg","textWrap","TextBlockProduct","BlockTitle","ViewDescription","blockButtonSet","fontFamily","ReturnValue","paddingHorizontal","NumberFormatPrice","FlatListData","scrollEnabled","containerContent","centeredViewActive","centeredView","PressableClose","ChildBlock","BorderRadiusBox","centeredViewWindow","modalView","topIndicator","modalContent","TitleModal","modalTextTitle","ChildModal","containerHeader","alignContent","borderTopLeftRadius","borderTopRightRadius","headerContent","Modal","borderColor","border","boxSizing","productBlock","marginHorizontal","ViewPrice","TypeInfo","ViewTypeInfo","styleImgModyficate","PromokodeModal","statusLoadingPromokode","setstatusLoadingPromokode","kode","setKode","setValue","FlatListDataActivePromo","promokodeInfo","getPromokodeActive","CityData","idUser","handleActivePromokode","idCity","ReultServer","PromokodeInput","promokodeInput","promokodeInputError","promokodeInputSuccess","buttonsSuccess","buttonsError","textSuccess","textError","refreshInputButton","textRefreshButton","lineHeight","codeInputDefault","codeInputSuccess","codeInputError","ProfileUserPage","setActivePanel","to","setActivePanels","GetAllPriceBasketDontTopping","basket","allProducts","PromoData","returnBolean","AllSum","Bolean","typeProducts","lenght","statusTypeProduct","numberArr","dataProduct","numb","SumProduct","GetPriceProductBasketNumber","StatePromokodeActive","setStatePromokodeActive","DiscountProductBoolean","AllPriceDontTopping","dop_settings","summa_min_active","SumRet","ReactDOM","render","accounts","clickmap","trackLinks","accurateTrackBounce","webvisor","version","ButtonEbee","children","Shadows","overflowHidden","allButtonStyle","lButton","xlButton","xxlButton","getSizeButton","noActiveButton","getTypeButton","GetPriceProductBasketVisual","stylePrice","styleNewPrice","styleOldPrice","priceBlock","PriceBlock","Newprice","Oldprice","GetPriceProductBasketPromokodeVisual","SuccesProduct","NumberArrayKeyProduct","item","id_product","sumPriceSale","sumPriceDef","returnBoleanDiscount","SumReturn","GetTypePriceProductBasket","PriceText","textDecorationLine","ii","ButtonInCart","module","exports","ReverceCatalog","SearchProductTitle","DSr","Objs","retr","oneProduct","array","testInput","SearchProductDescription","SearchProductType","ListIdProduct","re","mod","testType","str","toLowerCase","comparePrice","ArrayProducts","ClickProductF","ReverceStatus","SearchText","CatalogLists","ArrayPr","ShowProductCategory","nameCategorys","resGetSets","GetSets","SearchState","names","GetSushi","GetRoli","GetNoneCat","ResPrVal","ResultCategoryReturn","FormNewAddress","streetSearch","entrance","flat","streetCityVisual","streetName","streetList","pauseLoadStreet","addressItems","statusChech","minValue","valPls","onInput","getStreetList","setStreetList","S","idC","nameStreet","city_users_id","ListCityOrigin","listCity","ListCitys","ListOption","Localitytype","LocalityName","LocalityId","typeStreet","minHeight","setStreetCityAdres","typeLocality","idLocality","saveNewAddress","saveEditAddress","getOkStreetNameValue","getFormSetStreetName","getOkStreetNameValueEdit","getFormSetStreetNameEdit","getEditForm","getNulledForm","PromokodeClass","Product","type_price","countProductBasket","Type_Product","countProductListBasket","return_default","countReturnNext","parseFloat","proc_Sum","go_sale_ok","sale_type","sale","getSalePromoOK","categoryId","productInfo","difference","handleSetProductArrayPromokode","ResultCHeckPromokode","getPriceFromPromokode","getTypeProductData","ProductDataAll","Returns","ReturnBasketArray","AllDiscount","AllPrice","TypeProductData","ReturnResult","PriceDef","PriceDiscount","SumResult","ArrayPush","sumDiscount","type_summa_check","Check1","Check2","DispatchData","sumPreorderToppting","handleReturnSumBasket"],"mappings":"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","file":"static/js/main.650294ae.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Div } from '@vkontakte/vkui';\r\n//import {Initializer as YM} from 'react-yandex-metrika';\r\nimport ym from 'react-yandex-metrika';\r\n\r\n\r\nfunction escapeHtmlDecode(text) {\r\n    return text\r\n        .replace(/&amp;/g, \"&\")\r\n        .replace(/&lt;/g, \"<\")\r\n        .replace(/&gt;/g, \">\")\r\n        .replace(/&quot;/g, \"\\\"\")\r\n        .replace(/&#039;/g, \"'\");\r\n}\r\n\r\nexport default function OneProduct({product,idCategory, ClickProduct, setCart, setProductModal, getButtonInCartProduct}) {\r\n// console.log('ут должна функция должна быть',ClickProduct);\r\n    // const ArrayProducts = product.map(oneProduct =>\r\n    //     //<OneProduct key={oneProduct.id} product={oneProduct} />\r\n    //     <Div className=\"blockProduct\" key={\"id_product_\"+oneProduct.id_Product}>\r\n    //         <Div className=\"imgPrewieProduct\"><img alt={oneProduct.title} src={oneProduct.img}/></Div><Div className=\"titleProduct\">{oneProduct.title}</Div><Div className=\"DescrProduct\">{oneProduct.description}</Div><Div className=\"priceProductBig\">Стоимость <span className=\"priceProduct\">{oneProduct.price} руб.</span></Div>\r\n    //     </Div>\r\n    // );\r\n\r\n    // console.log(key);\r\n\r\n    function escapeHtml(text) {\r\n        var map = {\r\n            '&': '&amp;',\r\n            '<': '&lt;',\r\n            '>': '&gt;',\r\n            '\"': '&quot;',\r\n            \"'\": '&#039;'\r\n        };\r\n\r\n        return text.replace(/[&<>\"']/g, function(m) { return map[m]; });\r\n    }\r\n\r\n\r\n    function number_format(number, decimals, dec_point, separator ) {\r\n        number = (number + '').replace(/[^0-9+\\-Ee.]/g, '');\r\n        var n = !isFinite(+number) ? 0 : +number,\r\n            prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),\r\n            sep = (typeof separator === 'undefined') ? ',' : separator ,\r\n            dec = (typeof dec_point === 'undefined') ? '.' : dec_point,\r\n            s = '',\r\n            toFixedFix = function(n, prec) {\r\n                var k = Math.pow(10, prec);\r\n                return '' + (Math.round(n * k) / k)\r\n                    .toFixed(prec);\r\n            };\r\n        // Фиксим баг в IE parseFloat(0.55).toFixed(0) = 0;\r\n        s = (prec ? toFixedFix(n, prec) : '' + Math.round(n))\r\n            .split('.');\r\n        if (s[0].length > 3) {\r\n            s[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\r\n        }\r\n        if ((s[1] || '')\r\n            .length < prec) {\r\n            s[1] = s[1] || '';\r\n            s[1] += new Array(prec - s[1].length + 1)\r\n                .join('0');\r\n        }\r\n        return s.join(dec);\r\n    }\r\n\r\n    function getWeightProduct(Product_Weight,Product_WeightType){\r\n        if(Product_WeightType != 'л'){\r\n            return(\r\n                number_format(Product_Weight,'0','.', ' ')+' '+Product_WeightType\r\n            );\r\n        }else{\r\n            return(\r\n                Product_Weight+' '+Product_WeightType\r\n            );\r\n        }\r\n    }\r\n\r\n    function getModyficateBlock(ArrayMod){\r\n        var ListMod = Object.keys(ArrayMod);\r\n        if(ListMod.length <=0){\r\n            return \"\";\r\n        }else{\r\n            var VisualList = ListMod.map((datas,keys)=>{\r\n                return (<div key={keys} className=\"ModyficateProduct\"><img src={ArrayMod[datas].mod_img} /></div>);\r\n            });\r\n            return(\r\n                <div className=\"ModyficateBlock\">{VisualList}</div>\r\n            );\r\n        }\r\n    }\r\n\r\n    function getProductDiv(productList,idCategory,ClickProduct,setCart,setProductModal ,getButtonInCartProduct){\r\n\r\n         //console.log(ClickProduct,'в корзину функция');\r\n        var ProductCat = productList;\r\n\r\n        const WeightProduct = '';\r\n\r\n\r\n\r\n        const ArrayProducts = ProductCat.map((typeProduct,idTypeProduct) =>\r\n            <Div\r\n                key={\"blockProducts_\"+typeProduct.id_Product+\"_\"+idTypeProduct}\r\n                className=\"blockProduct\"\r\n                id={\"id_product_\"+typeProduct.id_Product+\"_type_\"+typeProduct.type_product}\r\n            >\r\n                {getModyficateBlock(typeProduct.modyficate)}\r\n                <Div className=\"imgPrewieProduct\">\r\n                    {/*<a href={\"//vk.com/app7145362_328965469#getPageProduct&idCategory=\"+typeProduct.id_Category+\"&idProduct=\"+typeProduct.id_Product+\"\"} onClick={(e) => e.preventDefault()}>*/}\r\n                        <a href={\"//vk.com/app7785654_328965469#getPageProduct&idCategory=\"+typeProduct.id_Category+\"&idProduct=\"+typeProduct.id_Product+\"\"} onClick={(e) => e.preventDefault()}>\r\n\r\n                        <img\r\n                            alt={typeProduct.title}\r\n                            src={typeProduct.img}\r\n                            onClick={() => {\r\n                                ClickProduct('Panels_Product');\r\n                                setProductModal([typeProduct]);\r\n                                console.log('Нажали на фотку', ProductCat, idTypeProduct);\r\n                                try {\r\n                                    if (global.Metrika.Markers[3].active == '1') {\r\n                                        ym('reachGoal', global.Metrika.Markers[3].marker);\r\n                                    }\r\n                                }catch (e) {\r\n\r\n                                }\r\n                                //console.log('reachGoal',global.Metrika.Markers[3].marker);\r\n                                // {ym(global.Metrika.idCounter, 'reachGoal', global.Metrika.Markers[3].marker)}\r\n                            }\r\n                            }\r\n                        />\r\n                    </a>\r\n                </Div>\r\n                <Div className=\"titleProduct\">\r\n                    {/*{escapeHtmlDecode(typeProduct.title)}*/}\r\n                    <span className=\"titleProductOne\">{escapeHtmlDecode(typeProduct.title)}</span>\r\n                    <span className=\"redTextP\">\r\n                        {getWeightProduct(typeProduct.weight,typeProduct.weight_type)}\r\n                    </span>\r\n                    <div className=\"clr\"></div>\r\n                </Div>\r\n                <Div className=\"DescrProduct\">\r\n                    {escapeHtmlDecode(typeProduct.description)}\r\n                    <div>\r\n                    </div>\r\n                    {typeProduct.type_info != '' ?\r\n                        <div className=\"WeightBlock\">\r\n                            {typeProduct.type_info}\r\n                        </div>\r\n                        :\r\n                        \"\"\r\n                    }\r\n                </Div>\r\n                <Div className=\"priceProductBig\">\r\n\r\n                        {getPriceProducts(typeProduct)}\r\n\r\n                    {getButtonInCartProduct(typeProduct,setCart)}\r\n                </Div>\r\n            </Div>\r\n        );\r\n\r\n\r\n        return ArrayProducts;\r\n    }\r\n\r\n    function getPriceProducts(typeProduct){\r\n        if(!(\"price_discount\" in typeProduct) || typeProduct.price_discount === false){\r\n            return (<span className=\"priceProduct\">\r\n                {number_format(typeProduct.price,'0','.',' ')} ₽\r\n                </span>\r\n            );\r\n        }else{\r\n            return(\r\n                <span className=\"priceProduct\">\r\n                    <s className=\"old_price_style\" style={{fontWeight:\"460\",fontSize:\"0.9em\",marginRight:\"5px\"}}>{number_format(typeProduct.price_discount.old_price,'0','.',' ')} ₽</s>\r\n                    {number_format(typeProduct.price_discount.new_price,'0','.',' ')} ₽\r\n                </span>\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return(\r\n        getProductDiv(product,idCategory,ClickProduct, setCart , setProductModal, getButtonInCartProduct)\r\n    );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport {Div, View, Panel, Separator, PanelHeader, Group, Button, CellButton, HeaderButton, platform, IOS, Tooltip, HorizontalScroll, Placeholder } from '@vkontakte/vkui';\r\nimport axios from \"axios\";\r\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\r\nimport Icon56MarketOutline from '@vkontakte/icons/dist/56/market_outline';\r\nimport Dilivery from \"./Dilivery\";\r\n\r\nimport './styleCart.css';\r\n\r\nimport ButtonCart from \"../catalog/ButtonInCart\";\r\nimport PaymentsPage from \"./PaymentsPage\";\r\nimport {ScaleGift} from \"./GiftScale\";\r\nimport {\r\n    GetPriceProductBasketPromokodeVisual,\r\n    GetPriceProductBasketVisual\r\n} from \"../Promokode/FunctionCHeckPromokode/getPriceProductBasket\";\r\n\r\nconst osName = platform();\r\n\r\n\r\nclass GetCartHome extends React.Component {\r\n\r\n    constructor (props)\r\n    {\r\n        super(props);\r\n        this.state = {\r\n            activePanel:\"home\",\r\n            popout:null,\r\n            LoadDopProduct:this.props.LoadDopProduct\r\n            //popout:\"<ScreenSpinner size='large' />\",\r\n        }\r\n    }\r\n\r\n    ActivePanels(e){\r\n        this.setState({activePanel: e});\r\n    }\r\n\r\n    componentDidMount() {\r\n        async function PopupLoadDop(LoadStatus,setPopout){\r\n            if(LoadStatus === true) {\r\n                setPopout();\r\n            }else {\r\n                setPopout(null);\r\n            }\r\n        }\r\n\r\n        async function loadingStatusPromokodeActive() {\r\n            console.log('Изменилось кол-во товаров в корзине или статус активации промокода');\r\n        }\r\n\r\n        PopupLoadDop(this.state.LoadDopProduct,this.setPopout.bind(this));\r\n        loadingStatusPromokodeActive();\r\n    }\r\n\r\n\r\n    ReloadDeliveryPay(){\r\n\r\n    }\r\n\r\n    GetPresetsVisual(){\r\n        if(Object.keys(this.props.PresetsDopProductList.list).length >0){\r\n            const ListPresets = this.props.PresetsDopProductList.list.map((datas,number)=>{\r\n                return(\r\n                    <div key={number+'PresetsTitle'}>{datas.title} -  {datas.count} {datas.typeCount}</div>\r\n                );\r\n            });\r\n            return(\r\n                <Group\r\n                title=\"В заказ так же входит\"\r\n                    style={{textAlign:\"center\",overflow: \"hidden\"}}>\r\n                    <img src={this.props.PresetsDopProductList.img}\r\n                         style={{\r\n                             float: \"left\",\r\n                             width: \"35%\",\r\n                             marginLeft:\"3%\",\r\n                             marginRight:\"3%\"\r\n                         }}\r\n                    />\r\n                    <Div style={{textAlign:\"left\",\"lineHeight\":\"2.1em\",paddingRight:\"0\"}}>{ListPresets}</Div>\r\n                </Group>\r\n            );\r\n        }else{\r\n            //console.log('oo',Object.keys(this.props.PresetsDopProductList.list).length);\r\n            return('');\r\n        }\r\n    }\r\n\r\n    ListProductRecommend(){\r\n        //console.log('Запускаемся');\r\n\r\n        let PrRecommend = this.props.ProductsListsRecommend;\r\n        let AllPr = this.props.arrayProduct;\r\n        let AllPrCart = this.props.ProductList;\r\n\r\n        console.log(AllPrCart);\r\n\r\n        function compare(a, b) {\r\n            if (a.orders < b.orders) {\r\n                return -1;\r\n            }\r\n            if (a.orders > b.orders) {\r\n                return 1;\r\n            }\r\n            // a должно быть равным b\r\n            return 0;\r\n        }\r\n\r\n        function comparePrice(Pr){\r\n            //console.log(Pr);\r\n            return Pr.sort(compare)\r\n        }\r\n\r\n        let showAll = 0;\r\n\r\n\r\n            const ListDopProduct = comparePrice(PrRecommend).map(\r\n                (datas,number) => {\r\n                    let show = true;\r\n\r\n                    AllPrCart.forEach((v,n)=>{\r\n                        if(v.id_Product == datas.id_tovar){\r\n                            show = false;\r\n                        }\r\n                    });\r\n                    if(show === true) {\r\n                        showAll++;\r\n                        return (\r\n                            <div className=\"BlockOneDopProductCart\" key={datas.id_tovar}>\r\n                                <div className=\"imgDopProductBlock\">\r\n                                    <img src={AllPr[datas.id_category].ProductList[datas.id_tovar][0].img}/>\r\n                                </div>\r\n                                <div className=\"titleDopProductBlock\">\r\n                                    {AllPr[datas.id_category].ProductList[datas.id_tovar][0].title}\r\n                                </div>\r\n                                <div className=\"priceDopProductBlock WeightFontBold\">\r\n                                    {AllPr[datas.id_category].ProductList[datas.id_tovar][0].price} ₽\r\n                                </div>\r\n                                <div className=\"buttonDopProductBlock\" style={{position:\"relative\"}}>\r\n                                    <div className=\"priceProductBigRecommend\" style={{width:\"100%\",bottom:-8,textAlign:\"center\"}}>\r\n                                        <ButtonCart CartProducts={AllPrCart} typeProduct2={AllPr[datas.id_category].ProductList[datas.id_tovar][0]}\r\n                                                    setCarts={this.props.setCart.bind(this)}/>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                        );\r\n                    }else{\r\n                        return false;\r\n                    }\r\n                }\r\n            );\r\n\r\n\r\n        if(showAll > 0) {\r\n            return (\r\n                <Group title=\"Добавить к заказу\">\r\n                    <HorizontalScroll>\r\n                        <div key=\"AllDopProductBlock\"\r\n                             style={{display:\"flex\",paddingBottom:\"20px\"}}\r\n                        >{ListDopProduct}\r\n                            <div style={{display:\"block\",width:\"20px\",height:\"2px\",minWidth:\"2px\"}}></div>\r\n                        </div>\r\n                        <div className=\"clr\"></div>\r\n                    </HorizontalScroll>\r\n\r\n                </Group>\r\n            );\r\n        }else{\r\n            return (false);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    DopProductListVisual(){\r\n        //console.log('Запускаемся');\r\n        if(Object.keys(this.props.DopProductList).length > 0) {\r\n            const ListDopProduct = Object.keys(this.props.DopProductList).map(\r\n                (datas,number) => {\r\n                    return (\r\n                        <div className=\"BlockOneDopProductCart\" key={datas}>\r\n                            <div className=\"imgDopProductBlock\">\r\n                                <img src={\"//суши-тайм.рф\"+this.props.DopProductList[datas].img} />\r\n                            </div>\r\n                            <div className=\"titleDopProductBlock\">\r\n                                {this.props.DopProductList[datas].title}\r\n                            </div>\r\n                            <div className=\"priceDopProductBlock WeightFontBold\">\r\n                                {this.props.DopProductList[datas].price} ₽\r\n                            </div>\r\n                            <div className=\"buttonDopProductBlock\">\r\n                                {this.getButtonDopProduct(\r\n                                    this.props.DopProductList[datas].id,\r\n                                    this.props.setDopProduct.bind(this),\r\n                                    this.getCountDopProductIcon(\r\n                                        this.props.DopProductList[datas].id,\r\n                                        this.props.DopProductUserSet\r\n                                    ),\r\n                                    this.props.DopProductList[datas].price\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    );\r\n                }\r\n            );\r\n\r\n            return (\r\n                <Group title=\"Дополнительно\">\r\n                    <HorizontalScroll>\r\n                        <div key=\"AllDopProductBlock\"\r\n                             style={{display:\"flex\",paddingBottom:\"20px\"}}\r\n                        >{ListDopProduct}\r\n                            <div style={{display:\"block\",width:\"20px\",height:\"2px\",minWidth:\"2px\"}}></div>\r\n                        </div>\r\n                        <div className=\"clr\"></div>\r\n                    </HorizontalScroll>\r\n\r\n                </Group>\r\n            );\r\n        }else{\r\n            return (\"\");\r\n        }\r\n    }\r\n\r\n    getCountDopProductIcon(Prod,alls){\r\n        //console.log(Prod,alls);\r\n        if(Prod in alls){\r\n            return alls[Prod].count;\r\n        }else{\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    getButtonDopProduct(idProduct,setCart,counts = 0,price){\r\n        const Buttons =\r\n            <div className=\"CounterInCart\" style={{float:\"none\",margin:\"auto\",display:\"block\",width:\"132px\"}}>\r\n                <div className=\"minus\" onClick={() => {\r\n                this.setState({\"LoadDopProduct\":true});\r\n                    setCart(idProduct,'-',price);\r\n                }}>\r\n                    -\r\n                </div>\r\n                {counts}\r\n                <div className=\"pluse\" onClick={() => {\r\n                    this.setState({\"LoadDopProduct\":true});\r\n                    setCart(idProduct,'+',price);}\r\n                }>\r\n                    +\r\n                </div>\r\n            </div>;\r\n\r\n        return Buttons;\r\n    }\r\n\r\n    setPopout(e){\r\n        if(e === ''){\r\n            // useState(<ScreenSpinner size='large' />);\r\n            this.setState({popout: '<ScreenSpinner size=\\'large\\' />'});\r\n        }else{\r\n            // useState(e);\r\n            this.setState({popout: e});\r\n        }\r\n    }\r\n\r\n\r\n    render(){\r\n        function setPopout(e){\r\n            if(e === ''){\r\n                // useState(<ScreenSpinner size='large' />);\r\n                this.setState({popout: '<ScreenSpinner size=\\'large\\' />'});\r\n            }else{\r\n                // useState(e);\r\n                this.setState({popout: e});\r\n            }\r\n        }\r\n\r\n       function go(e){\r\n         setActivePanel(e);\r\n         // setActivePanel(e.currentTarget.dataset.to);\r\n       };\r\n\r\n       function setActivePanel(e){\r\n           // useState(e);\r\n          // this.setState({activePanel: e});\r\n           this.ActivePanels(e);\r\n       }\r\n\r\n       function  getCartVisual(id, Products,setCart,PromokodeActiveStatus = false,DataPromokodeDiscountProduct = []){\r\n\r\n           //setPopout(null);\r\n            if(Products.length<=0){\r\n                return(<div style={{\"textAlign\":\"center\",\"padding\":\"5px 10px\",\"marginTop\":\"30px\"}}><h2>Корзина пуста</h2><p>К сожалению, для того чтобы что-то заказать, Вам нужно положить этот товар в корзину!</p></div>);\r\n            }else {\r\n\r\n                var results = Products.map((cartProduct,idProducts) =>\r\n                    <div className=\"ProductInCartBlock\" key={\"blockProducts_\"+idProducts}>\r\n                        <div\r\n\r\n                        className=\"blockProduct\"\r\n                        style={{\r\n                            \"width\": \" 100%\",\r\n                            \"margin\": \"5% 0\",\r\n                            \"padding\": \"0%\",\r\n                            \"float\":\"none\",\r\n                            marginBottom:10\r\n                        }}\r\n                        >\r\n                            <div className=\"imgPrewieProduct\">\r\n                                <img src={cartProduct.img}/>\r\n                            </div>\r\n                            <div className=\"titleProduct\">\r\n                                {/*{escapeHtmlDecode(typeProduct.title)}*/}\r\n                                {cartProduct.title} <span className=\"redTextP\">{cartProduct.type_info}</span>\r\n                            </div>\r\n                            <div className=\"DescrProduct2\">\r\n                                {cartProduct.description}\r\n                            </div>\r\n                            <div style={{clear:\"both\"}}>\r\n                                {/*Товаров: {cartProduct.count} <br/>*/}\r\n                                <span className=\"priceProduct\">{getPriceProducts(cartProduct,DataPromokodeDiscountProduct)}</span>\r\n                                <div className=\"priceProductBig\"style={{width:\"100%\",bottom:-8}}>\r\n                                    <ButtonCart\r\n                                        CartProducts={Products}\r\n                                        typeProduct2={cartProduct}\r\n                                        setCarts={setCart.bind(this)}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <Separator style={{ margin: '20px 0' }} />\r\n                    </div>\r\n                );\r\n\r\n                return(<div className=\"CartBlockProducts\">{results}</div>);\r\n\r\n            }\r\n        }\r\n\r\n        function getDiliveryData(){\r\n            return (<div><h2>Доставка</h2></div>);\r\n        }\r\n\r\n\r\n        function getPriceProducts(cartProduct,DataPromokodeDiscountProduct){\r\n          // console.log(cartProduct);\r\n            if(!(\"price_discount\" in cartProduct) || cartProduct.price_discount === false){\r\n                return (<span className=\"WeightFontBold\">\r\n                {/*{cartProduct.count * cartProduct.price} ₽*/}\r\n                        {DataPromokodeDiscountProduct.allSumDiscount > 0\r\n                            ?\r\n                            <GetPriceProductBasketPromokodeVisual\r\n                                BasketPromoDiscount={DataPromokodeDiscountProduct.arrayProductDiscount}\r\n                                ProductId={cartProduct.id_Product} typeProduct={cartProduct.type_product}\r\n                                ProductData={cartProduct}\r\n                                countProduct={cartProduct.count}\r\n                            />\r\n                            :\r\n                            <GetPriceProductBasketVisual\r\n                                ProductData={cartProduct}\r\n                                countProduct={cartProduct.count}\r\n                            />\r\n                        }\r\n                </span>\r\n                );\r\n            }else{\r\n                return(\r\n                    <span className=\"WeightFontBold\">\r\n                    <s className=\"old_price_style\" style={{fontWeight:\"460\",fontSize:\"0.9em\",marginRight:\"5px\",color:\"#c2c2c2\"}}>{cartProduct.count * cartProduct.price_discount.old_price} ₽</s>\r\n                        {cartProduct.count * cartProduct.price_discount.new_price} ₽\r\n                </span>\r\n                );\r\n            }\r\n        }\r\n\r\n\r\n\r\n        function getButtonNavigation(typeNav, action){\r\n\r\n           switch(typeNav){\r\n               case\"1\": var ButtonBlock = <div className=\"ButtonPanelNavigation\"><button className=\"activeButons\" onClick={()=> {action({activePanel: \"home\"});}}>В корзине</button> <button onClick={()=> {action({activePanel: \"dilivery\"});}} data-to=\"dilivery\">Оформление</button> <button onClick={()=> {action({activePanel: \"order\"});}}>Оплата</button></div>;break;\r\n               case\"2\": var ButtonBlock = <div className=\"ButtonPanelNavigation\"><button onClick={()=> {action({activePanel: \"home\"});}}>В корзине</button> <button className=\"activeButons\" onClick={()=> {action({activePanel: \"dilivery\"});}} data-to=\"dilivery\">Оформление</button> <button onClick={()=> {action({activePanel: \"order\"});}}>Оплата</button></div>;break;\r\n               case\"3\": var ButtonBlock = <div className=\"ButtonPanelNavigation\"><button onClick={()=> {action({activePanel: \"home\"});}}>В корзине</button> <button onClick={()=> {action({activePanel: \"dilivery\"});}} data-to=\"dilivery\">Оформление</button> <button className=\"activeButons\" onClick={()=> {action({activePanel: \"order\"});}}>Оплата</button></div>; break;\r\n           }\r\n\r\n           return(\r\n               <HorizontalScroll>\r\n                   {ButtonBlock}\r\n               </HorizontalScroll>\r\n           );\r\n        }\r\n\r\n        function getOneStepCartNone(){\r\n           return(\r\n               <Panel id=\"home\">\r\n\r\n                   <Placeholder\r\n                       icon={<Icon56MarketOutline />}\r\n                       action={false}\r\n\r\n                   >\r\n                       <h2>Корзина пуста</h2>\r\n                       <p>Для совершения заказа, положите в нее хотя-бы 1 товар</p>\r\n                   </Placeholder>\r\n\r\n               </Panel>\r\n           );\r\n        }\r\n\r\n        function getPromokodeInfo(dataPromokode,promokodeErrorInfo){\r\n\r\n           if(promokodeErrorInfo !== null) {\r\n               if (\"showIconError\" in promokodeErrorInfo) {\r\n                   if (promokodeErrorInfo.showIconError === true) {\r\n                       if(promokodeErrorInfo.errorSum.countSum>0){\r\n                           return (<div><p>Необходимо товаров еще на: {promokodeErrorInfo.errorSum.countSum} ₽</p><p>Управление</p></div>)\r\n                       }else{\r\n                           return \"Ошибка активации промокода!\"\r\n                       }\r\n                   }\r\n               }\r\n           }\r\n\r\n           if(dataPromokode !== null){\r\n               return (\"ИНФОРМАЦИЯ О ПРОМОКОДЕ \"+dataPromokode.promokodeInfo.kode)\r\n           }else{\r\n               return \"ИНФОРМАЦИЯ О ПРОМОКОДЕ \";\r\n           }\r\n        }\r\n\r\n        function getOneStepCart(ProductList,setCart,sumCart,setState,GetPresetsVisual,DopProductList,ProductListRecommend,showModal,activeGift = false, setActiveGifts = ()=>{}, PromokodeActiveStatus = false, promokodeData = null,promokodeErrorInfo = null, DataPromokodeDiscountProduct = []){\r\n           return (\r\n               <Panel id=\"home\" >\r\n               <PanelHeader theme=\"light\"> {getButtonNavigation('1', setState.bind(this))}</PanelHeader>\r\n                   <Group>\r\n                       <ScaleGift\r\n                           sumBasket={sumCart}\r\n                           activeGift={activeGift}\r\n                           showModal={showModal.bind(this)}\r\n                           setActiveGifts={setActiveGifts}\r\n                           PromokodeActiveStatus={PromokodeActiveStatus}\r\n\r\n                       />\r\n                   </Group>\r\n               <Group title=\"Товары\">\r\n                    <Div className=\"CartBlockProductsOneStep\">\r\n                    {getCartVisual(\"homes\", ProductList, setCart.bind(),PromokodeActiveStatus,DataPromokodeDiscountProduct)}\r\n                        <div style={{clear:\"both\"}}></div>\r\n                    </Div>\r\n                </Group>\r\n                   {ProductListRecommend}\r\n                   {GetPresetsVisual}\r\n                   {DopProductList}\r\n                   {/*<Group style={{backgroundColor:\"#ff7300\",}}>*/}\r\n                   {/*    <p style={{textAlign:\"center\",padding:\"10px 0\",color:\"#ffffff\"}} onClick={()=>{showModal(\"MODAL_PROMOKODE\")}}>{*/}\r\n                   {/*        PromokodeActiveStatus ?*/}\r\n                   {/*            getPromokodeInfo(promokodeData,promokodeErrorInfo)*/}\r\n                   {/*            :*/}\r\n                   {/*            \"АКТИВИРОВАТЬ ПРОМОКОД\"*/}\r\n                   {/*    }</p>*/}\r\n                   {/*</Group>*/}\r\n                <Group>\r\n                    {DataPromokodeDiscountProduct.allSumDiscount > 0 ?\r\n                        <Div className=\"SumItogOneSTepCart\">\r\n                            <div style={{fontSize:14,opacity:0.8,color:\"#252622\"}}>Сумма итого: <span className=\"OrangeColor\"><s>{DataPromokodeDiscountProduct.allSumDiscount+sumCart} ₽</s></span></div>\r\n\r\n                           <div className=\"SumItogOneSTepCart\"> С учетом скидки: <span className=\"OrangeColor\">{sumCart} ₽</span></div>\r\n                        </Div>\r\n                        :\r\n                        <Div className=\"SumItogOneSTepCart\">Сумма итого: <span className=\"OrangeColor\">{sumCart} ₽</span></Div>}\r\n                </Group>\r\n                <Div>\r\n                    <Button size=\"xl\" onClick={()=> {setState({activePanel: \"dilivery\"});}} data-to=\"dilivery\">К оформлению</Button></Div>\r\n               </Panel>\r\n        );\r\n        }\r\n\r\n\r\n\r\n        return(\r\n            <View\r\n                activePanel={this.state.activePanel}\r\n                className={\r\n                    osName === IOS ?\r\n                        \"IOSCLASSCSS\"\r\n                        :\r\n                        \"AndroidCLASSCSS\"\r\n                }\r\n                popout={this.state.popout}\r\n                header={this.props.ProductList.length<=0\r\n                    ?\r\n                    false\r\n                    :\r\n                    true\r\n                }\r\n            >\r\n\r\n\r\n                    {this.props.ProductList.length<=0 ? getOneStepCartNone() :\r\n\r\n                        getOneStepCart(\r\n                            this.props.ProductList,\r\n                            this.props.setCart.bind(),\r\n                            this.props.sumCart,\r\n                            this.setState.bind(this),\r\n                            this.GetPresetsVisual(),\r\n                            this.DopProductListVisual(),\r\n                            this.ListProductRecommend(),\r\n                            this.props.showModal.bind(this),\r\n                            this.props.activeGift,\r\n                            this.props.setActiveGifts,\r\n                            this.props.PromokodeActiveStatus,\r\n                            this.props.PromokodeData,\r\n                            this.props.PromokodeErrorInfo,\r\n                            this.props.dataPromokodeDiscoun\r\n                        )\r\n                    }\r\n\r\n                <Panel id=\"dilivery\">\r\n                    <PanelHeader theme=\"light\">{getButtonNavigation('2', this.setState.bind(this))}</PanelHeader>\r\n                    <Dilivery\r\n                        userSystemInfo={this.props.userSystemInfo}\r\n                        userInfo={this.props.userInfo}\r\n                        getUserSystemInfo={this.props.getUserSystemInfo.bind()}\r\n\r\n                        addressDefault={this.props.addressDefault}\r\n                        setAddressDefault={this.props.setAddressDefault.bind(this)}\r\n\r\n                        AffiliateDefault={this.props.AffiliateDefault}\r\n                        setAffiliateDefault={this.props.setAffiliateDefault.bind(this)}\r\n\r\n                        checkedTypeDilivery={this.props.checkedTypeDilivery}\r\n                        setTypeDilivery={this.props.setTypeDilivery.bind(this)}\r\n\r\n                        commentary={this.props.commentary}\r\n                        setComment={this.props.setComment.bind(this)}\r\n\r\n                        countPerson={this.props.countPerson}\r\n\r\n                        setStates={this.props.setStates.bind(this)}\r\n                        setDeliveryDataItogs={this.props.setDeliveryDataItogs.bind(this)}\r\n                        getDeliveryDataPriceItogAffiliate={this.props.getDeliveryDataPriceItogAffiliate.bind(this)}\r\n\r\n                        /*Для вычисления суммы бесплатной доставки*/\r\n                        sumCart={this.props.sumCart}\r\n\r\n                        setPopout={this.setState.bind(this)}\r\n                        ProductList={this.props.ProductList}\r\n\r\n                        showModal={this.props.showModal.bind(this)}\r\n                        hideModals={this.props.hideModals.bind(this)}\r\n\r\n                        DataDeliveryInfo={this.props.DataDeliveryInfoPay}\r\n\r\n                    />\r\n                    <Div style={{display: 'flex'}}>\r\n                        <Button size=\"l\" stretched level=\"secondary\"  style={{ marginRight: 8 }} className=\"activeButons\" onClick={()=> {this.setState({activePanel: \"home\"});}}>В корзину</Button>\r\n                        <Button size=\"l\" stretched className=\"activeButons\" onClick={()=> {this.setState({activePanel: \"order\"});}}>К оплате</Button>\r\n                    </Div>\r\n                </Panel>\r\n                <Panel id=\"order\">\r\n                    <PanelHeader theme=\"light\">{getButtonNavigation('3', this.setState.bind(this))}</PanelHeader>\r\n                    <PaymentsPage\r\n                        userSystemInfo={this.props.userSystemInfo}\r\n                        userInfo={this.props.userInfo}\r\n                        SalePoints={this.props.SalePoints}\r\n                        setStates={this.props.setStates.bind(this)}\r\n                        sumCart={this.props.sumCart}\r\n                        checkedTypeDilivery={this.props.checkedTypeDilivery}\r\n                        addressDefault={this.props.addressDefault}\r\n\r\n                        showModal={this.props.showModal.bind(this)}\r\n\r\n\r\n                        DataDeliveryInfo={this.props.DataDeliveryInfoPay}\r\n\r\n                        getReloadInfODeliveryPay={this.props.checkedTypeDilivery ? this.props.getDeliveryDataPriceItogAffiliate.bind(this) : this.props.setDeliveryDataItogs.bind(this)}\r\n\r\n\r\n                        action={this.setState.bind(this)}\r\n\r\n                        setOkNewOrderView={this.props.setOkNewOrderView.bind(this)}\r\n\r\n                        activeGift={this.props.activeGift}\r\n\r\n                    />\r\n                    <Div style={{display: 'flex'}}>\r\n                        <Button size=\"l\" level=\"secondary\" stretched style={{ marginRight: 8 }} className=\"activeButons\" onClick={()=> {this.setState({activePanel: \"dilivery\"});}} data-to=\"dilivery\">К оформлению</Button>\r\n\r\n                    </Div>\r\n                </Panel>\r\n            </View>\r\n        );\r\n\r\n    };\r\n\r\n}\r\n\r\nexport default GetCartHome;","import React from 'react';\r\n\r\nexport const ConditionsPromokod = ({typeReturn = 1, promokodeErrorInfo})=>{\r\n\r\n    // const promokodeErrorInfo = useSelector(state => state.post.promokodeErrorInfo);\r\n\r\n    const getCHeckSum = ()=>{\r\n        if(promokodeErrorInfo.showIconError && promokodeErrorInfo.errorSum.countSum>0){\r\n            return (<div style={styles.TextInfoMini}><p>Для активации промокода необходимо добавить товаров на сумму:</p> <p style={styles.BoldText}>{promokodeErrorInfo.errorSum.countSum} ₽</p></div>);\r\n        }else{\r\n            return false;\r\n        }\r\n    };\r\n\r\n\r\n    const getCheckDiscountOtherProduct = ()=>{\r\n        console.log(promokodeErrorInfo);\r\n        if(promokodeErrorInfo.showIconError && promokodeErrorInfo.errorProduct.status === true){\r\n            return (<div style={styles.TextInfoMini}><p>{promokodeErrorInfo.errorProduct.message}</p></div>);\r\n        }else{\r\n            return false;\r\n\r\n        }\r\n    };\r\n\r\n\r\n    let ReturnData = false;\r\n\r\n    switch (typeReturn) {\r\n        case 1:\r\n            ReturnData = getCHeckSum();\r\n            break;\r\n        case 2:\r\n            ReturnData = getCheckDiscountOtherProduct();\r\n            break;\r\n        default: ReturnData = false;\r\n    }\r\n\r\n\r\n    return (ReturnData);\r\n};\r\n\r\n\r\nconst styles = {\r\n    BoldText:{\r\n        fontWeight:\"bold\"\r\n    },\r\n    TextInfoMini:{\r\n        backgroundColor:\"#ff7300\",\r\n        fontSize: 14,\r\n        color:\"#FFFFFF\",\r\n        textAlign: \"center\",\r\n        padding:5,\r\n        margin: \"10px 0\"\r\n    },\r\n    TextInfoMiniOk:{\r\n        backgroundColor:\"#FFFFFF\",\r\n        fontSize: 14,\r\n        color:\"#333333\",\r\n        textAlign: \"center\",\r\n        padding:\"5px 2px\"\r\n    },\r\n    TextInfoMiniError:{\r\n        backgroundColor:\"red\",\r\n        fontSize: 14,\r\n        color:\"#FFFFFF\",\r\n        textAlign: \"center\",\r\n        padding:\"5px 2px\"\r\n    },\r\n    titleChildBlock:{\r\n        fontWeight:\"bold\",\r\n        fontSize:16,\r\n        marginBottom:10\r\n    },\r\n};","import React, {useState} from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport axios from \"axios\";\r\nimport View from '@vkontakte/vkui/dist/components/View/View';\r\nimport {platform, IOS, Group, Cell, ModalRoot,Radio, ModalPage, ModalPageHeader, HeaderButton, Placeholder, Button, Gallery, Switch} from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Icon28BlockOutline from '@vkontakte/icons/dist/28/block_outline';\r\n\r\n\r\nimport Icon56ErrorOutline from '@vkontakte/icons/dist/56/error_outline';\r\nimport Icon56CheckCircleOutline from '@vkontakte/icons/dist/56/check_circle_outline';\r\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\r\n\r\nimport UserOrderList from './panels/ProfileUser/UserOrderList';\r\nimport OrderTypeList from './panels/ProfileUser/OrderTypeList';\r\nimport OrderShowDeail from './panels/ProfileUser/OrderShowDeail';\r\n\r\n\r\nimport Notice from './panels/Notice/index';\r\nimport Icon24Filter from '@vkontakte/icons/dist/24/filter';\r\n\r\nimport ButtonCart from  \"./panels/catalog/ButtonInCart\";\r\n\r\n\r\nimport {Div, Epic, Tabbar, TabbarItem, Panel, PanelHeader, Search} from '@vkontakte/vkui';\r\n//import Icon28Messages from '@vkontakte/icons/dist/28/messages';\r\nimport Icon24Note from '@vkontakte/icons/dist/24/note';\r\nimport Icon28Search from '@vkontakte/icons/dist/28/search';\r\nimport Icon28Notifications from '@vkontakte/icons/dist/28/notifications';\r\nimport Icon28User from '@vkontakte/icons/dist/28/user';\r\nimport Icon28MarketOutline from '@vkontakte/icons/dist/28/market_outline';\r\n// import Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport AppHome from \"./panels/Profile\";\r\nimport CatalogProduct from \"./panels/catalog/CatalogProduct\";\r\nimport SearchResultProductBlock from './panels/SearchResultProductBlock';\r\n\r\nimport './panels/catalog/product.css';\r\nimport GetCartHome from \"./panels/Cart/CartHome\";\r\n\r\nimport ym from 'react-yandex-metrika';\r\nimport {GiftVariantModal} from \"./panels/Cart/GiftVariandModal\";\r\nimport {PromokodeModal} from \"./panels/Promokode/PromokodeModal\";\r\nimport {ConditionsPromokodFunction} from \"./panels/Promokode/FunctionCHeckPromokode/ConditionPromokodeFunction\";\r\nimport {\r\n    getBasketPromokodeActive,\r\n    getSumItogButton\r\n} from \"./panels/Promokode/FunctionCHeckPromokode/FunctionCheckedBasketPromokode\";\r\n\r\nrequire('./panels/global/index.js');\r\n\r\nclass App extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            AudioInfo:{\r\n                ReloadBasket: new Audio('//суши-тайм.рф/audio/ReloadBasketInfo2.mp3')\r\n            },\r\n\r\n            countReloadBasket:0,\r\n\r\n            Notice:[],\r\n            CountNotice:0,\r\n            CountNoticeNoView:null,\r\n\r\n            typeOrderGetText:'Текущие заказы',\r\n            typeOrderGet:'now',\r\n            numberOrderShow:0,\r\n            listOrderUser:[],\r\n\r\n            ParamStart:false,\r\n            products:[],\r\n            DopProductList:[],\r\n            DopProductUserSet:{},\r\n            LoadDopProduct:false,\r\n            loadingCatalog:false,\r\n            activeStory: 'catalog',\r\n            activePanelOrders:\"ListTypeOrder\",\r\n            loadingPage: true,\r\n            user:[],\r\n            userSystemInfo:{error:true,dataUser:\"\"},\r\n            cart:[],\r\n            countCartProduct:'',\r\n\r\n            dopPresets: [],\r\n            imgListPresets: false,\r\n\r\n            addressDefault:null,\r\n            AffiliateDefault:0,\r\n            checkedTypeDilivery:0,\r\n            commentary:\"\",\r\n            typePay:1,\r\n            countPerson:1,\r\n            SalePoints:0,\r\n            sumCart:0,\r\n            activeModal:null,\r\n            formNewAddressData:'',\r\n            formEditAddressData:'',\r\n\r\n            listAddressGlobal:[],\r\n            listAffiliateGlobal:[],\r\n\r\n            priceDelivery:0,\r\n            minSumOrder:1,\r\n            minSumFreeDelivery:0,\r\n\r\n            //Если сумма корзины меньше необходимой для заказа\r\n            errorOrderFinal:false,\r\n            //Если сумма корзины меньше бесплатной доставки\r\n            DeliveryPriceItog:false,\r\n\r\n            //Доставка на адрес возможна, сли false, то не возможна\r\n            DeliveryAddressOKCity:true,\r\n\r\n            //Адрес, для отображения в последнем блоке корзины\r\n            addressOrderInfoUser:'',\r\n            newOrderStats:false,\r\n\r\n            StatusLoadSlide:false,\r\n            slideHeaderArray:[],\r\n            slideIndex: 0,\r\n\r\n            StatusNotification:false,\r\n\r\n            CityListBind:[],\r\n\r\n            typeOrderDate:true,\r\n            SelectDatePreorder:null,\r\n            SelectTimePreorder:null,\r\n\r\n            settingsFilterSearch:{\r\n                typeSearch: global.settingsFilterSearch.typeSearch\r\n            },\r\n\r\n            activeHashPageProduct:false,\r\n            activeProductHash:{},\r\n            activeCategoryHash:\"38\",\r\n            activeGift:false,\r\n\r\n            promokodeData:null, // данные промокода\r\n            promokodeActive:false, // статус активности промокода\r\n            promokodeError:{\r\n                status:false,\r\n                message:null\r\n            }, //ошибка промокода, для вывода в модалке\r\n            promokodeErrorInfo:{\r\n                errorSum:{\r\n                    countSum:0\r\n                },\r\n                errorTimeActive:{\r\n                    countTimeActive:0\r\n                },\r\n                showIconError:false\r\n            }, // описание и условия ошибок по промокоду для модалки и корзины\r\n            dataPromokodeDiscoun:{\r\n                allSumDiscount:0,\r\n                arrayProductDiscount:[]\r\n            }, // данные о скидке по промокоду и товарах по промокоду\r\n\r\n\r\n        };\r\n        this.onStoryChange = this.onStoryChange.bind(this);\r\n        this.onChange = this.onChange.bind(this);\r\n    }\r\n\r\n    handleSetAddDiscountPromokodeData(data){\r\n        if(data === null || data === undefined || data === ''){\r\n            this.setState({dataPromokodeDiscoun:{\r\n                    allSumDiscount:0,\r\n                    arrayProductDiscount:[]\r\n                }});\r\n        }else{\r\n            this.setState({dataPromokodeDiscoun:data});\r\n        }\r\n    }\r\n\r\n    handleReturnBasketSum(e){\r\n        this.setState({sumCart:e})\r\n    }\r\n\r\n    async handleConditionPromokodeBasket(){\r\n        let PromokodeReloadStatus = await ConditionsPromokodFunction(this.state.promokodeData,this.state.cart, this.state.products);\r\n        console.log('После обработки данные по промокоду такие ',PromokodeReloadStatus);\r\n        await this.handleSetPromokodeErrorInfo(PromokodeReloadStatus)\r\n        this.state.promokodeActive && !PromokodeReloadStatus.showIconError ? await getBasketPromokodeActive(false, this.state.cart, this.state.products, this.state.promokodeData, this.handleSetAddDiscountPromokodeData.bind(this)) : await getBasketPromokodeActive(true,this.state.cart, this.state.products, this.state.promokodeData, this.handleSetAddDiscountPromokodeData.bind(this)) ;\r\n        getSumItogButton(this.state.promokodeErrorInfo,this.state.promokodeActive,this.state.sumCart,this.state.dataPromokodeDiscoun, this.handleReturnBasketSum.bind(this));\r\n    }\r\n\r\n    handleSetPromokodeError(data){\r\n        this.setState({promokodeError:data})\r\n    }\r\n\r\n    async handleSetActiveStatusPromokode(data){\r\n        await this.setState({promokodeActive:data});\r\n        this.handleConditionPromokodeBasket();\r\n    }\r\n\r\n    handleSetDataPromokode(data){\r\n        this.setState({promokodeData:data})\r\n    }\r\n\r\n    handleSetPromokodeErrorInfo(data){\r\n\r\n        let newData = {\r\n            errorSum:{\r\n                countSum:0\r\n            },\r\n            errorTimeActive:{\r\n                countTimeActive:0\r\n            },\r\n            showIconError:false\r\n        };\r\n        if(data === null || data === false){\r\n            this.setState({promokodeErrorInfo:newData})\r\n        }else{\r\n            this.setState({promokodeErrorInfo:data})\r\n        }\r\n\r\n    }\r\n\r\n    handleDeactivatePromokodes(){\r\n        this.setState({\r\n            promokodeData:null, // данные промокода\r\n            promokodeActive:false, // статус активности промокода\r\n            promokodeError:{\r\n                status:false,\r\n                message:null\r\n            }, //ошибка промокода, для вывода в модалке\r\n            promokodeErrorInfo:{\r\n                errorSum:{\r\n                    countSum:0\r\n                },\r\n                errorTimeActive:{\r\n                    countTimeActive:0\r\n                },\r\n                showIconError:false\r\n            }, // описание и условия ошибок по промокоду для модалки и корзины\r\n            dataPromokodeDiscoun:{\r\n                allSumDiscount:0,\r\n                arrayProductDiscount:[]\r\n            },\r\n        })\r\n    }\r\n\r\n    onChange (e) {\r\n        this.setState({ search: e});\r\n    }\r\n\r\n    setActiveGift (e){\r\n        this.setState({activeGift:e});\r\n    }\r\n\r\n\r\n\r\n    getCityUser(){\r\n        axios({\r\n            method:'get',\r\n            url:'https://суши-тайм.рф/api/getCity&apiKey='+global.ApiKey,\r\n            responseType:'text'\r\n        })\r\n            .then(({data})=>{\r\n                if(\"error\" in data){\r\n\r\n                }else{\r\n                    this.state.ListCitySelect = data.list;\r\n                    global.CityListBind = data.list;\r\n                    console.log('Установили города',global.CityListBind);\r\n                }\r\n            })\r\n            .catch((err) =>{\r\n                console.log('Ошибка получения городов',err);\r\n            });\r\n    }\r\n\r\n    getNotice(idUsers){\r\n        axios({\r\n            method:'get',\r\n            url:'https://суши-тайм.рф/api/getNotice&idUserVK='+idUsers+'&apiKey='+global.ApiKey,\r\n            responseType:'text'\r\n        })\r\n            .then(({data})=>{\r\n                if(\"error\" in data){\r\n                    //console.log('Получили уведомления',data);\r\n                    this.state.CountNotice = null;\r\n                    this.state.CountNoticeNoView = null;\r\n                    this.state.Notice = [];\r\n                }else{\r\n                    if((this.state.CountNoticeNoView !== data.CountNoticeNoCheck) || (this.state.CountNotice !== data.CountNotice)) {\r\n                        this.state.Notice = data.result;\r\n                        this.state.CountNotice = data.CountNotice;\r\n                        this.state.CountNoticeNoView = data.CountNoticeNoCheck;\r\n                        console.log('Получили уведомления', this.state.Notice);\r\n                    }\r\n                }\r\n            })\r\n            .catch((err) =>{\r\n                console.log('Ошибка получения уведомлений', err);\r\n            });\r\n    }\r\n\r\n\r\n    setNoticeServer(type,idNotice){\r\n        var idUsers = this.state.user.id;\r\n        axios({\r\n            method:'get',\r\n            url:'https://суши-тайм.рф/api/setNoticeStatus&idUserVK='+idUsers+'&idNotice='+idNotice+'&typeSet='+type+'&apiKey='+global.ApiKey,\r\n            responseType:'text'\r\n        })\r\n            .then(({data})=>{\r\n                if(\"error\" in data){\r\n                    console.log('Получили уведомления',data);\r\n                }else{\r\n                    this.getNotice(idUsers);\r\n                    console.log('Получили уведомления',data);\r\n                }\r\n            })\r\n            .catch((err) =>{\r\n                console.log('Ошибка получения уведомлений', err);\r\n            });\r\n    }\r\n\r\n    getInfoSearchStatus(){\r\n        if(global.settingsFilterSearch.typeProduct === false){\r\n            return \"\";\r\n        }else{\r\n            return \"вкл\";\r\n        }\r\n    }\r\n\r\n    parseQueryString = (string) => {\r\n        string = string.replace(/&amp;/gi, '&');\r\n        return string.slice(1).split('&')\r\n            .map((queryParam) => {\r\n                let kvp = queryParam.split('=');\r\n                return {key: kvp[0], value: kvp[1]}\r\n            })\r\n            .reduce((query, kvp) => {\r\n                query[kvp.key] = kvp.value;\r\n                return query\r\n            }, {})\r\n    };\r\n\r\n\r\n    setOkNewOrderView(){\r\n        console.log('Показать окно');\r\n        if(this.state.newOrderStats) {\r\n            this.getCartDB(this.state.user.id,this.state.countReloadBasket);\r\n            this.setState({activeStory: 'newOrderInfo',\r\n                typeOrderDate:true,\r\n                SelectDatePreorder:null,\r\n                SelectTimePreorder:null,\r\n                DopProductUserSet:{}\r\n            });\r\n            this.getUserSystemInfo(this.state.user.id);\r\n        }else{\r\n            console.log('Ну не совсем');\r\n        }\r\n    }\r\n\r\n    setFailNewOrderView(){\r\n        console.log('Показать окно');\r\n        this.getCartDB(this.state.user.id,this.state.countReloadBasket);\r\n        this.setState({activeStory: 'newOrderInfoFail',\r\n            typeOrderDate:true,\r\n            SelectDatePreorder:null,\r\n            SelectTimePreorder:null,\r\n            DopProductUserSet:{}\r\n        });\r\n        this.getUserSystemInfo(this.state.user.id);\r\n    }\r\n\r\n    setShowUserOrderList(){\r\n        this.setState({activeStory: 'UserOrderList'});\r\n    }\r\n\r\n    setTypeOrderList(as,bs){\r\n        this.setState({\r\n            typeOrderGetText:as,\r\n            typeOrderGet:bs,\r\n            activePanelOrders: 'OrdersListUserType'\r\n        });\r\n    }\r\n\r\n\r\n    getSuccesOrderPage(){\r\n        return(\r\n            <Placeholder stretched\r\n                         icon={<Icon56CheckCircleOutline />}\r\n                         action={<Button size=\"l\" level=\"tertiary\" onClick={()=>{this.setState({\r\n                             typeOrderGetText:\"Текущие заказы\",\r\n                             typeOrderGet:\"now\",\r\n                             activePanelOrders: 'OrdersListUserType',\r\n                             activeStory: 'UserOrderList'\r\n                         });}}>Узнать статус заказа</Button>}\r\n\r\n            >\r\n                <h2>Ваш заказ принят</h2>\r\n                <p>Мы приняли Ваш заказ и отправили его в производство. Узнать детали заказа Вы можете по ссылке</p>\r\n            </Placeholder>\r\n        );\r\n    }\r\n\r\n    getFailOrderPage(){\r\n        return(\r\n            <Placeholder stretched\r\n                         icon={<Icon28BlockOutline />}\r\n\r\n            >\r\n                <h2>Оплата не прошла</h2>\r\n                <p>К сожалению, мы не смогли принять Ваш заказ</p>\r\n            </Placeholder>\r\n        );\r\n    }\r\n\r\n    getDeliveryDataPriceItog(){\r\n        if(this.state.minSumOrder < this.state.sumCart){\r\n            this.setState({errorOrderFinal:false});\r\n            if(this.state.minSumFreeDelivery <= this.state.sumCart){\r\n                // ##Доставка бесплатная\r\n                this.setState({DeliveryPriceItog:false});\r\n            }else{\r\n                // Доставка платная\r\n                this.setState({DeliveryPriceItog:true});\r\n            }\r\n        }else{\r\n            this.setState({errorOrderFinal:true});\r\n        }\r\n        //console.log('Выполнили перерасчет ',this.state.minSumFreeDelivery+' < '+this.state.sumCart);\r\n    }\r\n\r\n\r\n    getDeliveryDataPriceItogAffiliate(){\r\n        this.setState({\r\n            priceDelivery: 0,\r\n            minSumOrder: 1,\r\n            minSumFreeDelivery: 0\r\n        });\r\n\r\n        if(this.state.sumCart > 1){\r\n            this.setState({errorOrderFinal:false});\r\n            if(this.state.sumCart > 0){\r\n                // ##Доставка бесплатная\r\n                this.setState({DeliveryPriceItog:false});\r\n            }else{\r\n                // Доставка платная\r\n                this.setState({DeliveryPriceItog:true});\r\n            }\r\n        }else{\r\n            this.setState({errorOrderFinal:true});\r\n        }\r\n        //console.log('Выполнили перерасчет на самовывоз');\r\n    }\r\n\r\n    onStoryChange (e) {\r\n        this.setState({ activeStory: e.currentTarget.dataset.story })\r\n    }\r\n\r\n    setcountCartProduct(e,aa = false){\r\n        if(e == 0){e = '';}\r\n        if(aa === false) {\r\n            this.setState({\r\n                countCartProduct: e\r\n            });\r\n        }\r\n\r\n        var sumCartItog = 0;\r\n        this.state.cart.map((CPr)=>{\r\n                sumCartItog += this.getSumCartOnDiscount(CPr);\r\n            }\r\n        );\r\n\r\n        var SumDopsProduct = 0;\r\n        if(Object.keys(this.state.DopProductUserSet).length > 0){\r\n\r\n            Object.keys(this.state.DopProductUserSet).map((id,n)=>{\r\n                    SumDopsProduct += this.state.DopProductUserSet[id].count*(this.state.DopProductUserSet[id].price*1)\r\n            });\r\n        }\r\n\r\n        //console.log(SumDopsProduct);\r\n        this.setState({sumCart:sumCartItog+SumDopsProduct});\r\n\r\n        document.cookie = \"cart = \"+this.state.cart;\r\n        this.handleConditionPromokodeBasket();\r\n    }\r\n\r\n    getSumCartOnDiscount(typeProduct){\r\n        if(!(\"price_discount\" in typeProduct) || typeProduct.price_discount === false){\r\n            return (typeProduct.price*typeProduct.count);\r\n        }else{\r\n            return(typeProduct.price_discount.new_price*typeProduct.count);\r\n        }\r\n    }\r\n\r\n    setComment(e){\r\n        this.setState({\r\n            commentary:e\r\n        });\r\n    }\r\n\r\n    setUser(e){\r\n        this.setState({user:e});\r\n    }\r\n\r\n    setUserSystem(e){\r\n        this.setState({userSystemInfo:{error:false,dataUser:e}});\r\n    }\r\n\r\n    getTypeSlideGet(){\r\n        switch(this.state.ParamStart.vk_platform){\r\n            case\"desktop_web\": return \"desktop\";break;\r\n            default: return \"mobile\";\r\n        }\r\n    }\r\n\r\n\r\n    getSlideHeaderArray(){\r\n        if(this.state.ParamStart === false){\r\n\r\n        }else {\r\n            //console.log(this.state.ParamStart);\r\n            axios('https://суши-тайм.рф/api/getSlideHeader&apiKey='+global.ApiKey,\r\n                {\r\n                    method: 'POST',\r\n                    headers: {'Content-Type': 'application/x-www-form-urlencoded'},\r\n                    data: {\r\n                        typeSlide: this.getTypeSlideGet(),\r\n                    },\r\n                    responseType: 'text'\r\n                })\r\n                .then(({data}) => {\r\n                    if (\"error\" in data) {\r\n                        this.setSlideArray([], false);\r\n                        // console.log(data.error, '|', data.errorInfo);\r\n                    } else {\r\n                        //console.log(data.listSlide);\r\n                        this.setSlideArray(data.listSlide, true);\r\n                    }\r\n                })\r\n                .catch(({err}) => {\r\n                    console.log(\"ERROR: ---Получение слайдов---  \", err);\r\n                });\r\n        }\r\n    }\r\n\r\n    setSlideArray(ArraySlide,status){\r\n        if(status === true) {\r\n            var ststusSlideData = this.StatusReloadBasketData(JSON.stringify(this.state.slideHeaderArray),JSON.stringify(ArraySlide));\r\n            if(ststusSlideData === true) {\r\n                this.setState({slideHeaderArray: ArraySlide});\r\n                if (this.state.StatusLoadSlide === false) {\r\n                    this.setState({StatusLoadSlide: true});\r\n                }\r\n            }\r\n\r\n        }else{\r\n            if (this.state.StatusLoadSlide === true) {\r\n                this.setState({StatusLoadSlide: false});\r\n            }\r\n        }\r\n    }\r\n\r\n    getSliderGalery(){\r\n        var ArraySlides = Object.keys(this.state.slideHeaderArray);\r\n        var Bullets = \"dark\";\r\n        var AutoPlays = \"7000\";\r\n        var countNumber = ArraySlides.length;\r\n        if(ArraySlides.length <= 1){Bullets = false;AutoPlays = false;}\r\n        if(this.state.StatusLoadSlide === true & ArraySlides.length > 0) {\r\n            var SliderVisual = ArraySlides.map((datas,keys) => {\r\n                //console.log(datas);\r\n                return (<img key={keys} src={this.state.slideHeaderArray[datas].img} style={{maxWidth:\"100%\"}}/>);\r\n            });\r\n\r\n            return (\r\n                <Gallery\r\n                    autoplay={AutoPlays}\r\n                    //slideIndex={this.state.slideIndex}\r\n                    //onEnd={()=>{this.setState({\"slideIndex\":0})}}\r\n                    slideWidth=\"100%\"\r\n                    style={{width:\"100%\",height: \"auto\"}}\r\n                    bullets={Bullets}\r\n                >\r\n                    {SliderVisual}\r\n                </Gallery>\r\n            );\r\n        }else{\r\n            return(\r\n                \"\"\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n    reloadSlideHeaderSetTime(){\r\n        this.getSlideHeaderArray();\r\n        setTimeout(this.reloadSlideHeaderSetTime.bind(this),5000);\r\n    }\r\n\r\n\r\n\r\n\r\n    ///////Уведомления PUSH\r\n\r\n    getStatusNotificate(){\r\n        connect.sendPromise(\"VKWebAppCallAPIMethod\", {\"method\": \"apps.isNotificationsAllowed\", \"params\": {\"user_id\": \"328965469\",\"v\":\"5.103\",\"access_token\":\"a07170c1a07170c1a07170c1c4a01c7753aa071a07170c1fdf9a8b9585d7876a020ecbf\"}})\r\n            .then((datas)=> {\r\n                this.setState({StatusNotification: datas.response.is_allowed});\r\n            })\r\n            .catch((err)=>{\r\n                this.setState({StatusNotification: false});\r\n            });\r\n    }\r\n\r\n    setStatusNotification(e){\r\n        this.setState({StatusNotification:e});\r\n    }\r\n\r\n    DeleteNotifi(idNotice){\r\n        // this.Notice[idNotice]\r\n        delete this.state.Notice[idNotice];\r\n        // Object.keys(this.state.Notice).splice(idNotice, 1);\r\n    }\r\n\r\n\r\n    getNotificationPage(){\r\n        return(\r\n            <Notice\r\n                StatusNotification={this.state.StatusNotification}\r\n                PushClick={this.PushClick.bind(this)}\r\n                setState={this.setState.bind(this)}\r\n\r\n                AllNotice={this.state.Notice}\r\n\r\n                setNotice={this.setNoticeServer.bind(this)}\r\n                DeleteNotifi={this.DeleteNotifi.bind(this)}\r\n            />\r\n        );\r\n    }\r\n\r\n    PushClick(){\r\n        if(this.state.StatusNotification === true ){\r\n            this.OffPushNotyfication();\r\n        }else{\r\n            this.OnPushNotyfication();\r\n        }\r\n    }\r\n\r\n    OffPushNotyfication(){\r\n        connect.sendPromise(\"VKWebAppDenyNotifications\", {})\r\n            .then((datas)=>{\r\n                this.setState({StatusNotification: false});\r\n            })\r\n            .catch((err)=> {\r\n                    this.setState({StatusNotification: false});\r\n                }\r\n            );\r\n    }\r\n\r\n    OnPushNotyfication(){\r\n        connect.sendPromise(\"VKWebAppAllowNotifications\", {})\r\n            .then((datas)=>{\r\n                this.getStatusNotificate();\r\n            })\r\n            .catch((err)=> {\r\n                    this.getStatusNotificate();\r\n                }\r\n            );\r\n    }\r\n\r\n    ///////\r\n\r\n    componentDidMount() {\r\n        this.getCityUser();\r\n        this.getStatusNotificate();\r\n        async function fetchData(setUser,getCartDB,getUserSystemInfo,getNotice,countReloadBasket) {\r\n            const user = await connect.sendPromise('VKWebAppGetUserInfo');\r\n            setUser(user);\r\n            //setPopout(null);\r\n            //setModal(MODAL_CARD_MONEY_SEND);\r\n            //console.log('...','Получили данные пользователя',user.id);\r\n            getCartDB(user.id,countReloadBasket);\r\n            getNotice(user.id);\r\n            getUserSystemInfo(user.id);\r\n        }\r\n\r\n        axios({\r\n            method:'get',\r\n            // url:'https://суши-тайм.рф/test.json',\r\n            // url:'https://суши-тайм.рф/test2.json',\r\n            url:'https://суши-тайм.рф/api/Catalog&apiKey='+global.ApiKey+'&idCategoryKeyArray=true&idProductKeyArray=true',\r\n            responseType:'text'\r\n        }).then(({ data }) => {\r\n            //console.log(\"Пришли данные \",data.list);\r\n            this.setState({\r\n                // products: data.list[0].ProductList\r\n                products: data.list,\r\n                productsRecommend: data.listRecommend,\r\n                Metrika: data.MetrikaAction,\r\n                loadingCatalog:true\r\n            });\r\n            global.Metrika = data.MetrikaAction;\r\n            //console.log(this.state.Metrika);\r\n            console.log(global.Metrika);\r\n        })\r\n            .catch((err) => {\r\n                console.log(\"ERROR: ------  \",err);\r\n            });\r\n\r\n\r\n        fetchData(this.setUser.bind(this),this.getCartDB.bind(this),this.getUserSystemInfo.bind(this),this.getNotice.bind(this),this.state.countReloadBasket);\r\n        this.reloadSlideHeaderSetTime();\r\n            setInterval(function() {this.getIntervalCart(1)}.bind(this), 3000);\r\n            setInterval(function() {this.getNotice(this.state.user.id)}.bind(this), 3000);\r\n            this.setHashDataReload(this);\r\n\r\n        const setModalsPay = this.setModal.bind(this,null);\r\n        const setModalsPayError = this.setModal.bind(this,null);\r\n        const setStatesPay = ()=>{this.setState({newOrderStats:true});};\r\n\r\n        const setOkNewOrderViewHandl= this.setOkNewOrderView.bind(this);\r\n        const setFailNewOrderViewHandl= this.setFailNewOrderView.bind(this);\r\n\r\n        window.addEventListener('message',function(e){\r\n            if(typeof(e.data) === 'object'){\r\n                //console.log(e.data);\r\n                if(\"task\" in e.data){\r\n                    var task = e.data['task'];\r\n                    console.log(\"Статус оплаты - \",task);\r\n                    if(task == 'successPaymentOk'){\r\n                        console.log('Оплата произведена успешно!');\r\n                        setModalsPay(1);\r\n                        setStatesPay();\r\n                        setOkNewOrderViewHandl();\r\n                    }\r\n                    if(task == 'failPaymentError'){\r\n                        console.log('Оплата была отменена!');\r\n                        setModalsPayError(2);\r\n                        setFailNewOrderViewHandl();\r\n                    }\r\n                }else{\r\n\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    statusOrderPaymentResult(a = null){\r\n        if(a == '1'){this.setModal(null);}\r\n        if(a == '2'){this.setModal(null);}\r\n    }\r\n\r\n    getIntervalCart(i){\r\n        this.getCartDB(this.state.user.id,this.state.countReloadBasket);\r\n        // console.log('Запустили получение корзины '+i);\r\n        i++;\r\n        // setTimeout(function() {this.getIntervalCart(i)}.bind(this), 3000);\r\n    }\r\n\r\n    StatusReloadBasketData(dataOld,dataNew){\r\n        if(dataOld === dataNew){return false;}else{return true;}\r\n    }\r\n\r\n\r\n    ReloadBasketDataFN(ListProduct){\r\n       // console.log('Обновили корзину');\r\n        this.setState({\r\n            // products: data.list[0].ProductList\r\n            cart: ListProduct,\r\n            loadingPage: false\r\n        });\r\n        this.setCountCartVisal();\r\n    }\r\n\r\n\r\n    ReloadBasketDataDopPresets(ListDopPresets){\r\n        if(ListDopPresets !== false){\r\n            this.setState({\r\n                // products: data.list[0].ProductList\r\n                dopPresets: ListDopPresets.listPresetProduct,\r\n                imgListPresets: ListDopPresets.imgPresetProduct\r\n            });\r\n        }else{\r\n            this.setState({\r\n                // products: data.list[0].ProductList\r\n                dopPresets: [],\r\n                imgListPresets: false\r\n            });\r\n        }\r\n    }\r\n\r\n    getCartDB(id_user,countReloadBasket = 0){\r\n\r\n        if(countReloadBasket>0){\r\n           // console.log('Ну вроде как работает, но нет');\r\n        }else {\r\n            if (this.state.loading === false) {\r\n                this.setState({loading: true});\r\n                var ia = this.state.countReloadBasket+1;\r\n                this.setState({countReloadBasket:ia});\r\n               // console.log('АХАХАХ блять ',ia);\r\n            }\r\n\r\n        }\r\n\r\n        axios({\r\n            method:'get',\r\n            url:'https://суши-тайм.рф/api/getBasketVK&apiKey='+global.ApiKey+'&updateBasket=1minute&id_user_vk='+id_user,\r\n            responseType:'text'\r\n        }).then(({ data }) => {\r\n            //console.log(\"Пришли данные \",data);\r\n            if(\"error\" in data){\r\n                data.listProduct = [];\r\n                console.log(data.error,'|',data.errorInfo);\r\n            }\r\n\r\n            if(data.listProduct === null){\r\n                data.listProduct = [];\r\n            }\r\n\r\n            var ListOld = JSON.stringify(this.state.cart);\r\n            var ListNew = JSON.stringify(data.listProduct);\r\n            var ListPresetsOld = JSON.stringify(this.state.dopPresets);\r\n\r\n            var ListPresetsNew = JSON.stringify(data.DopPresetsData);\r\n            if(ListPresetsNew == 'false'){\r\n                ListPresetsNew = '[]';\r\n            }else{\r\n                ListPresetsNew = JSON.stringify(data.DopPresetsData.listPresetProduct)\r\n            }\r\n\r\n            var statusBasket = this.StatusReloadBasketData(ListOld,ListNew);\r\n            var statusPresets = this.StatusReloadBasketData(ListPresetsOld,ListPresetsNew);\r\n\r\n            if(statusBasket === true) {\r\n                this.ReloadBasketDataFN(data.listProduct);\r\n                this.PlayInfoAudio('ReloadBasket');\r\n                this.handleConditionPromokodeBasket();\r\n            }\r\n\r\n            if(\"DopProductList\" in data) {\r\n                var ListDopOld = JSON.stringify(this.state.DopProductList);\r\n                var ListDopNew = JSON.stringify(data.DopProductList);\r\n\r\n                var statusDopProduct = this.StatusReloadBasketData(ListDopOld,ListDopNew);\r\n\r\n                if(statusDopProduct === true) {\r\n                    this.setState({\"DopProductList\": data.DopProductList});\r\n                    //console.log(ListDopOld,ListDopNew,'|||||',data.DopProductList);\r\n                }else{\r\n                   // console.log(ListDopOld,ListDopNew,'|||||',data.DopProductList);\r\n                }\r\n            }\r\n\r\n            if(statusPresets === true || ListPresetsNew ===false) {\r\n                this.ReloadBasketDataDopPresets(data.DopPresetsData);\r\n                //console.log('АХАХАХ блять ',ListPresetsNew,' -|-|-|- ',ListPresetsOld);\r\n            }\r\n\r\n\r\n\r\n        })\r\n            .catch(({err}) => {\r\n                console.log(\"ERROR: ------  \",err);\r\n            });\r\n\r\n    }\r\n\r\n    PlayInfoAudio(a){\r\n            if (this.audio) {\r\n                // this.audio.pause();\r\n                this.audio.stop();\r\n            }\r\n            switch (a) {\r\n                case\"ReloadBasket\":\r\n                   // this.audio = this.state.AudioInfo.ReloadBasket;\r\n                    this.state.AudioInfo.ReloadBasket.play();\r\n                    //alert('Запуск звука');\r\n                    break;\r\n            }\r\n    }\r\n\r\n\r\n    getUserSystemInfo(id_user){\r\n        this.setState({loading: true});\r\n\r\n        axios({\r\n            method:'get',\r\n            url:'https://суши-тайм.рф/api/Users&apiKey='+global.ApiKey+'&updateUserSystemInfo=one&idUserVK='+id_user,\r\n            responseType:'text'\r\n        }).then(({ data }) => {\r\n            //console.log(\"Пришли данные \",data);\r\n            if(\"error\" in data){\r\n\r\n                console.log(data.error,'|',data.errorInfo);\r\n            }else{\r\n                this.setUserSystem(data.list[0]);\r\n            }\r\n\r\n            this.setState({\r\n                loadingPage: false\r\n            });\r\n            //console.log(\"userSystemInfo\",this.state.userSystemInfo);\r\n        })\r\n            .catch(({err}) => {\r\n                console.log(\"ERROR: ------  \",err);\r\n            });\r\n        //setUserSystem(e);\r\n    }\r\n\r\n\r\n    setCartServer(id_user,JsonBasket){\r\n        //console.log(JsonBasket,'___А_А_АА_А_А_А_');\r\n        axios('https://суши-тайм.рф/api/setBasketVK&apiKey='+global.ApiKey+'&id_user_vk='+id_user,\r\n            {\r\n            method: 'POST',\r\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n            data: {\r\n                basketJson: JsonBasket,\r\n            },\r\n            responseType:'text'\r\n        })\r\n            .then(({ data }) => {\r\n                if(\"error\" in data){\r\n                    console.log(data.error,'|',data.errorInfo);\r\n                }\r\n            })\r\n            .catch(({err}) => {\r\n                console.log(\"ERROR: ---Отправка корзины---  \",err);\r\n            });\r\n    }\r\n\r\n    setCart(e,tE = '+'){\r\n        //console.log('Товар в корзине, вот этот ',e);\r\n        //this.setState({cart:e});\r\n        const counts = this.state.cart.length;\r\n        if(tE == '+'){\r\n            //Добавляем товар\r\n            if(counts<=0) {\r\n               // console.log('Добавляем Новый товар в корзину');\r\n                this.state.cart.push(e);\r\n                const countPlus = counts;\r\n                this.state.cart[countPlus].count = 1;\r\n                this.setcountCartProduct(1);\r\n            }else{\r\n               // console.log('В принципи верно, но цикл не тот', counts);\r\n                var noAdd = true;\r\n\r\n                this.state.cart.map((cartProducts,key)=>\r\n                    {if(cartProducts.id_Product === e.id_Product && cartProducts.type_product===e.type_product){\r\n                       // console.log('Добавляем еще такой же товар');\r\n                        this.state.cart[key].count = this.state.cart[key].count + 1;\r\n                        setcountCartProductVar = setcountCartProductVar+this.state.cart[key].count;\r\n                        noAdd =false;\r\n                    }\r\n                    }\r\n                );\r\n\r\n                if(noAdd === true){\r\n                   // console.log('Добавляем новый товар, так как тагого же нет');\r\n                    this.state.cart.push(e);\r\n                    const countPlus = counts;\r\n                    this.state.cart[countPlus].count = 1;\r\n                    setcountCartProductVar++;\r\n                }\r\n\r\n            }\r\n        }else{\r\n            //Удаляем товар\r\n            if(counts<=0) {\r\n\r\n            }else{\r\n                var noAdd = true;\r\n                this.state.cart.map((cartProducts,key)=>\r\n                    {if(cartProducts.id_Product === e.id_Product && cartProducts.type_product===e.type_product){\r\n                       // console.log('Удаляем товар 1 товар с этим id и типом');\r\n                        if( this.state.cart[key].count<=1){\r\n                            // delete this.state.cart[key];\r\n                            this.state.cart.splice(key, 1);\r\n                        }else{\r\n                            this.state.cart[key].count = this.state.cart[key].count - 1;\r\n                            setcountCartProductVar = setcountCartProductVar+this.state.cart[key].count;\r\n                            noAdd =false;\r\n                        }\r\n                    }\r\n                    }\r\n                );\r\n            }\r\n\r\n        }\r\n\r\n        var setcountCartProductVar = 0;\r\n        this.state.cart.map((CPr)=>\r\n        {setcountCartProductVar = setcountCartProductVar+CPr.count}\r\n        );\r\n        this.setcountCartProduct(setcountCartProductVar);\r\n        var setDataServer = btoa(encodeURI(JSON.stringify(this.state.cart)));\r\n       // console.log('Вот это отправляем на сервер',setDataServer);\r\n        this.setCartServer(this.state.user.id,setDataServer);\r\n    }\r\n\r\n    setDopProduct(id,type = '+',price){\r\n        const counts = this.state.DopProductUserSet.length;\r\n        switch(type){\r\n            case \"+\":\r\n                if(counts<=0){\r\n                    this.state.DopProductUserSet[id] = {\"count\":1,\"price\":price};\r\n                }else{\r\n                    if(id in this.state.DopProductUserSet) {\r\n                        this.state.DopProductUserSet[id].count++;\r\n                    }else{\r\n                        this.state.DopProductUserSet[id] = {\"count\":1,\"price\":price};\r\n                    }\r\n                }\r\n                break;\r\n            case \"-\":\r\n                if(counts<=0){\r\n\r\n                }else{\r\n                    if(id in this.state.DopProductUserSet) {\r\n                        if(this.state.DopProductUserSet[id].count == 1){\r\n                            //this.state.DopProductUserSet.splice(id, 1);\r\n                            delete this.state.DopProductUserSet[id];\r\n                        }else{\r\n                            this.state.DopProductUserSet[id].count--;\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n        }\r\n        console.log(this.state.DopProductUserSet);\r\n\r\n        this.setcountCartProduct(0,true);\r\n\r\n        if(!(id in this.state.DopProductUserSet) || this.state.DopProductUserSet[id].count <=0){\r\n            this.setState({\"LoadDopProduct\":false});\r\n            return 0;\r\n        }else{\r\n            this.setState({\"LoadDopProduct\":false});\r\n            return this.state.DopProductUserSet[id].count;\r\n        }\r\n\r\n\r\n        //this.setState({\"DopProductUserSet\":a});\r\n    }\r\n\r\n\r\n    setCountCartVisal(){\r\n       // this.getCartDB(this.state.user.id);\r\n        var setcountCartProductVar = 0;\r\n        this.state.cart.map((CPr)=>\r\n            {setcountCartProductVar = setcountCartProductVar+CPr.count;\r\n            }\r\n        );\r\n        this.setcountCartProduct(setcountCartProductVar);\r\n    }\r\n\r\n    setTypeDilivery(e){\r\n        this.setState({checkedTypeDilivery:e});\r\n       // console.log('По дефолту адрес теперь ',e);\r\n    }\r\n\r\n    setTypeOrderDate(e){\r\n        this.setState({typeOrderDate:e});\r\n       // console.log('По дефолту адрес теперь ',e);\r\n    }\r\n\r\n    setAddressDefault(e){\r\n        if(e === 'del'){\r\n            e = 0;\r\n        }\r\n        this.setState({addressDefault:e});\r\n        //console.log('По дефолту адрес теперь ',e);\r\n        //Обновляем условия доставки на 3  шаг корзины\r\n    }\r\n\r\n    setAffiliateDefault(e){\r\n        this.state.AffiliateDefault = e;\r\n       // console.log('По дефолту адрес теперь ',e);\r\n    }\r\n\r\n    setModal(e){\r\n        this.setState({activeModal:e});\r\n    }\r\n\r\n    setOrderShowNumber(a){\r\n        this.setState({numberOrderShow:a,\r\n            activePanelOrders:'OrderShowDetails'});\r\n    }\r\n\r\n    listOrderUserSet(a){\r\n       // console.log(a,'Ну блин');\r\n        this.setState({listOrderUser:a});\r\n    }\r\n\r\n    setHashDataReload(){\r\n\r\n      const HashParam =  this.parseQueryString(window.location.hash);\r\n      // const ParthParam =  this.parseQueryString(window.location.url);\r\n      //   const queryParams = this.parseQueryString(window.location.search);\r\n       // const queryParams =  new URLSearchParams(window.location.search);\r\n      //   const queryParams = this.getURLParams();\r\n      //   console.log('Парметры приняты - - - - -',HashParam);\r\n\r\n\r\n\r\n        var height=window.screen.height;\r\n        var newHeight = height*0.7;\r\n        //console.log('Какого хрена',newHeight);\r\n\r\n        connect.send(\"VKWebAppResizeWindow\", {\"height\": newHeight});\r\n\r\n        if('noticePageReload' in HashParam){\r\n            this.state.loadingCatalog = false;\r\n            this.setHashNew('notifications');\r\n        }\r\n\r\n\r\n        if('getPageProduct' in HashParam){\r\n            // this.state.loadingCatalog = false;\r\n            // this.setHashNew('notifications');\r\n            console.log('Показать модалку товара - ',HashParam.idProduct, 'из категории - ',HashParam.idCategory);\r\n\r\n            this.state.loadingCatalog === true ?\r\n               this.setPageModalProductHash(this.state.products,HashParam.idCategory,HashParam.idProduct)\r\n                :\r\n                setTimeout(()=>{ this.setHashDataReload(this)},300)\r\n\r\n            //setTimeout(()=>{ console.log(this.state.products,' товары тут');},2000)\r\n\r\n        }\r\n    }\r\n\r\n\r\n    setPageModalProductHash(ProductArray,idCategory,idProduct){\r\n\r\n        console.log(this.state.products, ' товары тут');\r\n\r\n        if(idCategory in ProductArray){\r\n            if(\"ProductList\" in ProductArray[idCategory]){\r\n                if(idProduct in ProductArray[idCategory].ProductList) {\r\n                    if(\"0\" in ProductArray[idCategory].ProductList[idProduct]){\r\n                        console.log(ProductArray[idCategory].ProductList[idProduct][0]);\r\n                        this.setState({\r\n                            activeHashPageProduct:true,\r\n                            activeProductHash:ProductArray[idCategory].ProductList[idProduct],\r\n                            activeCategoryHash:idCategory}\r\n                            )\r\n                    }else{\r\n                        console.log('Тип 0 не найден');\r\n                    }\r\n                }else{\r\n                    console.log('IdProduct не найден');\r\n                }\r\n            }else{\r\n                console.log('ProductList не найден');\r\n            }\r\n        }else{\r\n            console.log('idCategory не найден');\r\n        }\r\n\r\n        console.log('Все шаги пройдены - но какая то лажа');\r\n    }\r\n\r\n    setHashNew(a){\r\n        setTimeout(function() {\r\n            //console.log('Устанавливаем нулевой ХЕШ');\r\n            this.setState({activeStory:a});\r\n            connect.send(\"VKWebAppSetLocation\", {\"location\": \"notice\"});\r\n            this.setState({loadingCatalog:true});\r\n        }.bind(this), 1000);\r\n    }\r\n\r\n    getFilterBlockModal(def){\r\n\r\n        var defs = {0:\"\",1:\"\"};\r\n        defs[def] = \"defaultChecked\";\r\n\r\n        return(\r\n            <div>\r\n                <Group\r\n                    title=\"Искать\"\r\n                >\r\n                    <Cell>\r\n                        <Radio\r\n                            defaultChecked={global.settingsFilterSearch.typeSearch === 0 ? true : false}\r\n                            name=\"typeSearch\" value=\"0\"\r\n                            description=\"Поиск по наименованию товара\"\r\n                            onClick={() => {\r\n                                var some = {...this.state.settingsFilterSearch}\r\n                                some.typeSearch = 0;\r\n                                this.setState({some})\r\n                                global.settingsFilterSearch.typeSearch = 0;\r\n                                // console.log(some);\r\n                                //console.log(global.settingsFilterSearch);\r\n                            }}\r\n                        >По названиям</Radio>\r\n                        <Radio\r\n                            defaultChecked={global.settingsFilterSearch.typeSearch === 1 ? true : false}\r\n                            name=\"typeSearch\"\r\n                            value=\"1\"\r\n                            description=\"Поиск по описанию товара\"\r\n                                onClick={() => {\r\n                                    var some = {...this.state.settingsFilterSearch}\r\n                                    some.typeSearch = 1;\r\n                                    global.settingsFilterSearch.typeSearch = 1;\r\n                                    this.setState({some})\r\n                                    //console.log(global.settingsFilterSearch);\r\n                                }}\r\n                        >По составу</Radio>\r\n                    </Cell>\r\n                </Group>\r\n                <Group\r\n                    title=\"Тип товара\"\r\n                >\r\n                    <Cell>\r\n                        <Radio\r\n                            defaultChecked={global.settingsFilterSearch.typeProduct === false ? true : false}\r\n                            name=\"typeSearchProduct\" value=\"0\"\r\n                            onClick={() => {\r\n                                global.settingsFilterSearch.typeProduct = false;\r\n                                // console.log(some);\r\n                                //console.log(global.settingsFilterSearch);\r\n                            }}\r\n                        >Все</Radio>\r\n                        <Radio\r\n                            defaultChecked={global.settingsFilterSearch.typeProduct === \"new\" ? true : false}\r\n                            name=\"typeSearchProduct\"\r\n                            value=\"new\"\r\n                                onClick={() => {\r\n                                    global.settingsFilterSearch.typeProduct = \"new\";\r\n                                    //console.log(global.settingsFilterSearch);\r\n                                }}\r\n                        >Новинки</Radio>\r\n                        <Radio\r\n                            defaultChecked={global.settingsFilterSearch.typeProduct === \"hot\" ? true : false}\r\n                            name=\"typeSearchProduct\"\r\n                            value=\"hot\"\r\n                                onClick={() => {\r\n                                    global.settingsFilterSearch.typeProduct = \"hot\";\r\n                                    //console.log(global.settingsFilterSearch);\r\n                                }}\r\n                        >Горячие</Radio>\r\n                        <Radio\r\n                            defaultChecked={global.settingsFilterSearch.typeProduct === \"burn\" ? true : false}\r\n                            name=\"typeSearchProduct\"\r\n                            value=\"burn\"\r\n                                onClick={() => {\r\n                                    global.settingsFilterSearch.typeProduct = \"burn\";\r\n                                    //console.log(global.settingsFilterSearch);\r\n                                }}\r\n                        >Острые</Radio>\r\n                        <Radio\r\n                            defaultChecked={global.settingsFilterSearch.typeProduct === \"vegan\" ? true : false}\r\n                            name=\"typeSearchProduct\"\r\n                            value=\"vegan\"\r\n                                onClick={() => {\r\n                                    global.settingsFilterSearch.typeProduct = \"vegan\";\r\n                                    //console.log(global.settingsFilterSearch);\r\n                                }}\r\n                        >Вегетарианские</Radio>\r\n                        <Radio\r\n                            defaultChecked={global.settingsFilterSearch.typeProduct === \"sweet\" ? true : false}\r\n                            name=\"typeSearchProduct\"\r\n                            value=\"sweet\"\r\n                                onClick={() => {\r\n                                    global.settingsFilterSearch.typeProduct = \"sweet\";\r\n                                    //console.log(global.settingsFilterSearch);\r\n                                }}\r\n                        >Десерт</Radio>\r\n                    </Cell>\r\n                </Group>\r\n                <Group>\r\n                <Cell></Cell>\r\n                </Group>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    stateRadio(a){\r\n        var some = {...this.state.settingsFilterSearch}\r\n        some.typeSearch = a;\r\n        this.setState({some});\r\n    }\r\n\r\n    render () {\r\n        const queryParams = this.parseQueryString(window.location.search);\r\n        const hashParams = this.parseQueryString(window.location.hash);\r\n\r\n        //this.setHashDataReload(hashParams);\r\n        //console.log(hashParams);\r\n        // console.log(noticePage);\r\n\r\n        if(this.state.ParamStart === false) {\r\n            //console.log(\"State = false, но \", queryParams);\r\n        }\r\n\r\n        if(this.state.ParamStart === false) {\r\n            this.state.ParamStart = queryParams;\r\n        }\r\n\r\n        // this.setState({\"ParamStart\":this.parseQueryString(window.location.search)});\r\n        // console.log('Параметры запуска ',this.state.ParamStart,' А URL такой ',window.location.search);\r\n\r\n        const modal = (\r\n            <ModalRoot activeModal={this.state.activeModal}>\r\n                <ModalPage\r\n                    id=\"MODAL_GIFTS\"\r\n                    onClose={() => this.setModal(null)}\r\n                    header={\r\n                        <ModalPageHeader\r\n                            right={<HeaderButton onClick={()=> {this.setModal(null)}}>Отмена</HeaderButton>}\r\n                        >\r\n                            Выбрать подарок\r\n                        </ModalPageHeader>\r\n                    }\r\n                    //icon={<Icon56MoneyTransferOutline />}\r\n                    title=\"Выбрать подарок\"\r\n                    dynamicContentHeight=\"true\"\r\n                    caption=\"\"\r\n                    actions={[{\r\n                        title: '',\r\n                        type: 'primary',\r\n                        action: () => {\r\n                            this.setModal(null);\r\n                        }\r\n                    }]}\r\n                >\r\n                    {/*{this.state.formNewAddressData}*/}\r\n                    <GiftVariantModal\r\n\r\n                        sumItogBasket={this.state.sumCart}\r\n                        setActiveGifts={this.setActiveGift.bind(this)}\r\n                        activeGift={this.state.activeGift}\r\n                        closeModal={this.setModal.bind(this)}\r\n\r\n                    />\r\n                </ModalPage>\r\n\r\n\r\n                <ModalPage\r\n                    id=\"MODAL_PROMOKODE\"\r\n                    onClose={() => this.setModal(null)}\r\n                    header={\r\n                        <ModalPageHeader\r\n                            right={<HeaderButton onClick={()=> {this.setModal(null)}}>Отмена</HeaderButton>}\r\n                        >\r\n\r\n                        </ModalPageHeader>\r\n                    }\r\n                    //icon={<Icon56MoneyTransferOutline />}\r\n                    title=\"Промокод\"\r\n                    dynamicContentHeight=\"true\"\r\n                    caption=\"\"\r\n                    actions={[{\r\n                        title: '',\r\n                        type: 'primary',\r\n                        action: () => {\r\n                            this.setModal(null);\r\n                        }\r\n                    }]}\r\n                >\r\n                    {/*{this.state.formNewAddressData}*/}\r\n                    <PromokodeModal\r\n                        ErrorPromokode={this.state.promokodeError}\r\n                        handleSetPromokodeError={this.handleSetPromokodeError.bind(this)}\r\n\r\n                        PromokodeActiveStatus={this.state.promokodeActive}\r\n                        handleSetActiveStatusPromokode={this.handleSetActiveStatusPromokode.bind(this)}\r\n\r\n                        PromokodeDate={this.state.promokodeData}\r\n                        handleSetDataPromokode={this.handleSetDataPromokode.bind(this)}\r\n\r\n                        promokodeErrorInfo={this.state.promokodeErrorInfo}\r\n                        handleSetPromokodeErrorInfo={this.handleSetPromokodeErrorInfo.bind(this)}\r\n\r\n                        closeModal={this.setModal.bind(this)}\r\n                        handleDeactivatePromokodes={this.handleDeactivatePromokodes.bind(this)}\r\n\r\n                    />\r\n                </ModalPage>\r\n\r\n\r\n                <ModalPage\r\n                    id=\"MODAL_NEWADDRESS\"\r\n                    onClose={() => this.setModal(null)}\r\n                    header={\r\n                        <ModalPageHeader\r\n                            right={<HeaderButton onClick={()=> {this.setModal(null)}}>Отмена</HeaderButton>}\r\n                        >\r\n                            Добавить адрес\r\n                        </ModalPageHeader>\r\n                    }\r\n                    //icon={<Icon56MoneyTransferOutline />}\r\n                    title=\"Добавление адреса\"\r\n                    dynamicContentHeight=\"true\"\r\n                    caption=\"\"\r\n                    actions={[{\r\n                        title: '',\r\n                        type: 'primary',\r\n                        action: () => {\r\n                            this.setModal(null);\r\n                        }\r\n                    }]}\r\n                >\r\n                    {this.state.formNewAddressData}\r\n                </ModalPage>\r\n\r\n                <ModalPage\r\n                    id=\"MODAL_EditADDRESS\"\r\n                    onClose={() => this.setModal(null)}\r\n                    header={\r\n                        <ModalPageHeader\r\n                            right={<HeaderButton onClick={()=> {this.setModal(null)}}>Отмена</HeaderButton>}\r\n                        >\r\n                            Редактировать адрес\r\n                        </ModalPageHeader>\r\n                    }\r\n                    //icon={<Icon56MoneyTransferOutline />}\r\n                    title=\"Редактирование адреса\"\r\n                    dynamicContentHeight=\"true\"\r\n                    caption=\"\"\r\n                    actions={[{\r\n                        title: '',\r\n                        type: 'primary',\r\n                        action: () => {\r\n                            this.setModal(null);\r\n                        }\r\n                    }]}\r\n                >\r\n                    {this.state.formEditAddressData}\r\n                </ModalPage>\r\n\r\n                <ModalPage\r\n                    id=\"MODAL_Filter_Catalog\"\r\n                    onClose={() => this.setModal(null)}\r\n                    header={\r\n                        <ModalPageHeader\r\n                            right={<HeaderButton onClick={()=> {this.setModal(null)}}>Готово</HeaderButton>}\r\n                        >\r\n                            Фильтры\r\n                        </ModalPageHeader>\r\n                    }\r\n                    //icon={<Icon56MoneyTransferOutline />}\r\n                    title=\"Фильтры\"\r\n                    dynamicContentHeight=\"true\"\r\n                    caption=\"\"\r\n                    actions={[{\r\n                        title: '',\r\n                        type: 'primary',\r\n                        action: () => {\r\n                            this.setModal(null);\r\n                        }\r\n                    }]}\r\n                >\r\n                    {this.getFilterBlockModal(this.state.settingsFilterSearch.typeSearch)}\r\n                </ModalPage>\r\n                <ModalPage\r\n                    id=\"MODAL_PAYMENT_FORM\"\r\n                    onClose={() => this.setModal(null)}\r\n                    settlingHeight={100}\r\n                    actions={[{\r\n                        title: '',\r\n                        type: 'primary',\r\n                        action: () => {\r\n                            this.setModal(null);\r\n                        }\r\n                    }]}\r\n                >\r\n                    <div style={{\"position\":\"fixed\",\"width\":\"100%\",\"height\":\"100%\",\"top\":\"0\",\"left\":0}}>\r\n                        <iframe name=\"framePayments\" id=\"framePayments\" style={{width:\"100%\",height:\"100%\",background:\"#ffffff\"}}\r\n                                src={\"https://суши-тайм.рф/api/testPageSBRPay&apiKey=\"+global.ApiKey+\"\"}\r\n                        />\r\n                    </div>\r\n                    <div style={{height:\"800px\"}}></div>\r\n\r\n                </ModalPage>\r\n            </ModalRoot>\r\n        );\r\n\r\n        const osname = platform();\r\n\r\n        if(this.state.CountNoticeNoView === 0 || this.state.CountNoticeNoView === null){\r\n            var countNoticeView = '';\r\n        }else{\r\n            var countNoticeView = this.state.CountNoticeNoView;\r\n        }\r\n\r\n        return (\r\n            <Epic activeStory={this.state.activeStory} tabbar={\r\n                <Tabbar>\r\n                    <TabbarItem\r\n                        onClick={this.onStoryChange}\r\n                        selected={this.state.activeStory === 'catalog'}\r\n                        data-story=\"catalog\"\r\n                        text=\"Каталог\"\r\n                    ><Icon24Note /></TabbarItem>\r\n                    <TabbarItem\r\n                        onClick={this.onStoryChange}\r\n                        selected={this.state.activeStory === 'discover'}\r\n                        label={this.getInfoSearchStatus()}\r\n                        data-story=\"discover\"\r\n                        text=\"Поиск\"\r\n                    ><Icon28Search /></TabbarItem>\r\n                    <TabbarItem\r\n                        onClick={this.onStoryChange}\r\n                        selected={this.state.activeStory === 'cart'}\r\n                        data-story=\"cart\"\r\n                        label={this.state.countCartProduct}\r\n                        text=\"Корзина\"\r\n                    ><Icon28MarketOutline /></TabbarItem>\r\n                    <TabbarItem\r\n                        onClick={this.onStoryChange}\r\n                        selected={this.state.activeStory === 'notifications'}\r\n                        data-story=\"notifications\"\r\n                        label={countNoticeView}\r\n                        text=\"Уведомления\"\r\n                    ><Icon28Notifications /></TabbarItem>\r\n                    <TabbarItem\r\n                        onClick={this.onStoryChange}\r\n                        selected={this.state.activeStory === 'user'}\r\n                        data-story=\"user\"\r\n                        text=\"Профиль\"\r\n                    ><Icon28User /></TabbarItem>\r\n                </Tabbar>\r\n            }>\r\n                <View id=\"newOrderInfo\" activePanel=\"newOrders\" header={false}>\r\n                    <Panel id=\"newOrders\">\r\n                        {/*<PanelHeader noShadow={true}>Каталог товаров</PanelHeader>*/}\r\n                        {this.getSuccesOrderPage()}\r\n                    </Panel>\r\n                </View>\r\n                <View id=\"newOrderInfoFail\" activePanel=\"newOrdersFail\" header={false}>\r\n                    <Panel id=\"newOrdersFail\">\r\n                        {/*<PanelHeader noShadow={true}>Каталог товаров</PanelHeader>*/}\r\n                        {this.getFailOrderPage()}\r\n                    </Panel>\r\n                </View>\r\n\r\n\r\n                <View id=\"UserOrderList\" activePanel={this.state.activePanelOrders} >\r\n                    <Panel id=\"ListTypeOrder\">\r\n                        <PanelHeader\r\n                            theme=\"light\"\r\n                        >\r\n                            Мои заказы\r\n                        </PanelHeader>\r\n                        <UserOrderList\r\n                            userData={this.state.user}\r\n                            setTypeOrderList={this.setTypeOrderList.bind(this)}\r\n                        />\r\n                    </Panel>\r\n                    <Panel id=\"OrdersListUserType\">\r\n                        <PanelHeader\r\n                            theme=\"light\"\r\n                            left={<HeaderButton onClick={() => this.setState({activePanelOrders: 'ListTypeOrder'})}>{osname === IOS ?\r\n                                <Icon28ChevronBack/> : <Icon24Back/>}</HeaderButton>}\r\n                            addon={<HeaderButton onClick={() => this.setState({activePanelOrders: 'ListTypeOrder'})}>Назад</HeaderButton>}\r\n                        >\r\n                            {this.state.typeOrderGetText}\r\n                        </PanelHeader>\r\n                        <OrderTypeList\r\n                            userData={this.state.user}\r\n                            typeOrderGet={this.state.typeOrderGet}\r\n                            setOrderShowNumber={this.setOrderShowNumber.bind(this)}\r\n                            listOrderUserSet={this.listOrderUserSet.bind(this)}\r\n                        />\r\n                    </Panel>\r\n                    <Panel id=\"OrderShowDetails\">\r\n                        <PanelHeader\r\n                            theme=\"light\"\r\n                            left={<HeaderButton onClick={() => this.setState({activePanelOrders: 'OrdersListUserType'})}>{osname === IOS ?\r\n                                <Icon28ChevronBack/> : <Icon24Back/>}</HeaderButton>}\r\n                            addon={<HeaderButton onClick={() => this.setState({activePanelOrders: 'OrdersListUserType'})}>Назад</HeaderButton>}\r\n                        >\r\n                            {\"Заказ №\"+ this.state.numberOrderShow}\r\n                        </PanelHeader>\r\n                        <OrderShowDeail\r\n                            idOrderDetail={this.state.numberOrderShow}\r\n                            OrderDatas={this.state.listOrderUser[this.state.numberOrderShow]}\r\n                            userData={this.state.user}\r\n                        />\r\n                    </Panel>\r\n                </View>\r\n\r\n\r\n\r\n                <View id=\"catalog\" activePanel=\"catalog\" header={false} modal={modal}>\r\n                    <Panel id=\"catalog\">\r\n                        {/*<PanelHeader noShadow={true}>Каталог товаров</PanelHeader>*/}\r\n                        {\r\n                            this.state.loadingCatalog\r\n                                ?\r\n                                <CatalogProduct\r\n                                    setCart={this.setCart.bind(this)}\r\n                                    CartProducts={this.state.cart}\r\n                                    ProductsLists={this.state.products}\r\n                                    ProductsListsRecommend={this.state.productsRecommend}\r\n                                    sliderHeader={this.getSliderGalery.bind(this)}\r\n                                    queryParams={queryParams}\r\n\r\n                                    showModal={this.setModal.bind(this)}\r\n                                    hideModals={this.setModal.bind(this,null)}\r\n\r\n                                    activeProductHash={this.state.activeProductHash}\r\n                                    activeCategoryHash={this.state.activeCategoryHash}\r\n                                    activeHashPageProduct={this.state.activeHashPageProduct}\r\n                                />\r\n                                :\r\n                                <ScreenSpinner />\r\n                        }\r\n                    </Panel>\r\n                </View>\r\n                <View id=\"discover\" activePanel=\"discover\" modal={modal}>\r\n                    <Panel id=\"discover\">\r\n                        <PanelHeader>Поиск товаров</PanelHeader>\r\n                        <Cell\r\n                            className=\"BoxCellSearch\"\r\n                            asideContent={\r\n                                <Icon24Filter\r\n                                    onClick={\r\n                                        ()=>{this.setModal('MODAL_Filter_Catalog');}\r\n                                    }\r\n                                />}\r\n                        >\r\n                            <Search\r\n                                value={this.state.search}\r\n                                onChange={this.onChange}\r\n                                after={null}\r\n                            />\r\n                        </Cell>\r\n                        <SearchResultProductBlock\r\n                            setCart={this.setCart.bind(this)}\r\n                            arrayProduct={this.state.products}\r\n                            varSearch={this.state.search}\r\n                            showModal={this.setModal.bind(this)}\r\n                            hideModals={this.setModal.bind(this,null)}\r\n                            CartProducts={this.state.cart}\r\n                        />\r\n                    </Panel>\r\n                </View>\r\n                <View id=\"cart\" activePanel=\"cart\" modal={modal}>\r\n                    <Panel id=\"cart\" style={{\"paddingBottom\":\"40px\"}}>\r\n                        <PanelHeader theme=\"light\"\r\n                                     noShadow={false}\r\n                        >\r\n                            Корзина\r\n                        </PanelHeader>\r\n                        <div key=\"Cart_List\" style={{\"paddingBottom\":\"40px\"}}>\r\n                            {/*this.getCartVisual(this.state.cart,this.setCart.bind(this))*/}\r\n                            <GetCartHome\r\n                                ProductList={this.state.cart}\r\n                                ProductsListsRecommend={this.state.productsRecommend}\r\n                                arrayProduct={this.state.products}\r\n\r\n                                activeGift={this.state.activeGift}\r\n                                setActiveGifts={this.setActiveGift.bind(this)}\r\n                                PromokodeActiveStatus={this.state.promokodeActive}\r\n                                PromokodeData={this.state.promokodeData}\r\n                                PromokodeErrorInfo={this.state.promokodeErrorInfo}\r\n                                dataPromokodeDiscoun={this.state.dataPromokodeDiscoun}\r\n\r\n\r\n                                DopProductList={this.state.DopProductList}\r\n                                DopProductUserSet={this.state.DopProductUserSet}\r\n                                setDopProduct={this.setDopProduct.bind(this)}\r\n                                LoadDopProduct={this.state.LoadDopProduct}\r\n                                PresetsDopProductList={\r\n                                    {\r\n                                    \"list\": this.state.dopPresets,\r\n                                    \"img\": this.state.imgListPresets\r\n                                    }\r\n                                }\r\n\r\n                                setCart={this.setCart.bind(this)}\r\n                                userSystemInfo={this.state.userSystemInfo}\r\n                                userInfo={this.state.user}\r\n                                getUserSystemInfo={this.getUserSystemInfo.bind(this)}\r\n\r\n                                addressDefault={this.state.addressDefault}\r\n                                setAddressDefault={this.setAddressDefault.bind(this)}\r\n\r\n                                AffiliateDefault={this.state.AffiliateDefault}\r\n                                setAffiliateDefault={this.setAffiliateDefault.bind(this)}\r\n\r\n                                checkedTypeDilivery={this.state.checkedTypeDilivery}\r\n                                setTypeDilivery={this.setTypeDilivery.bind(this)}\r\n\r\n                                commentary={this.state.commentary}\r\n                                setComment={this.setComment.bind(this)}\r\n\r\n                                countPerson={this.state.countPerson}\r\n\r\n                                SalePoints={this.state.SalePoints}\r\n\r\n                                setStates={this.setState.bind(this)}\r\n                                setDeliveryDataItogs={this.getDeliveryDataPriceItog.bind(this)}\r\n                                getDeliveryDataPriceItogAffiliate={this.getDeliveryDataPriceItogAffiliate.bind(this)}\r\n\r\n                                sumCart={this.state.sumCart}\r\n\r\n                                showModal={this.setModal.bind(this)}\r\n                                hideModals={this.setModal.bind(this,null)}\r\n\r\n                                DataDeliveryInfoPay={\r\n                                    {\r\n                                        typeOrderDate:this.state.typeOrderDate,\r\n                                        setTypeOrderDate:this.setTypeOrderDate.bind(this),\r\n\r\n                                        SelectDatePreorder:this.state.SelectDatePreorder,\r\n                                        SelectTimePreorder:this.state.SelectTimePreorder,\r\n\r\n                                        priceDelivery:this.state.priceDelivery,\r\n                                        minSumOrder:this.state.minSumOrder,\r\n                                        minSumFreeDelivery:this.state.minSumFreeDelivery,\r\n\r\n                                        //Если сумма корзины меньше необходимой для заказа\r\n                                        errorOrderFinal:this.state.errorOrderFinal,\r\n                                        //Если сумма корзины меньше бесплатной доставки\r\n                                        DeliveryPriceItog:this.state.DeliveryPriceItog,\r\n\r\n                                        //Доставка на адрес возможна, сли false, то не возможна\r\n                                        DeliveryAddressOKCity:this.state.DeliveryAddressOKCity,\r\n\r\n                                        addressOrderInfoUser:this.state.addressOrderInfoUser,\r\n\r\n                                        checkedTypeDilivery:this.state.checkedTypeDilivery,\r\n                                        AffiliateDefault:this.state.AffiliateDefault,\r\n                                        addressDefault:this.state.addressDefault,\r\n\r\n                                        listAddressGlobal:this.state.listAddressGlobal,\r\n                                        listAffiliateGlobal: this.state.listAffiliateGlobal,\r\n\r\n                                        comments:this.state.commentary,\r\n                                        typePay:this.state.typePay,\r\n                                        countPerson:this.state.countPerson,\r\n                                        cart:this.state.cart,\r\n                                        DopProductUserSet:this.state.DopProductUserSet\r\n\r\n                                    }\r\n                                }\r\n\r\n                                setOkNewOrderView={this.setOkNewOrderView.bind(this)}\r\n\r\n                            />\r\n\r\n                        <div style={{\"clear\":\"both\"}}></div>\r\n                        </div>\r\n                    </Panel>\r\n                </View>\r\n                <View id=\"notifications\" activePanel=\"notifications\">\r\n                    <Panel id=\"notifications\">\r\n                        <PanelHeader>Уведомления</PanelHeader>\r\n                        {this.getNotificationPage()}\r\n                    </Panel>\r\n                </View>\r\n                <View id=\"user\" activePanel=\"user\">\r\n                    <Panel id=\"user\">\r\n                        <PanelHeader>Профиль</PanelHeader>\r\n                        <AppHome\r\n                            id=\"home\"\r\n                            go=\"persik\"\r\n                            dataUsers={this.state.userSystemInfo}\r\n                            setStatusNotification={this.setStatusNotification.bind(this)}\r\n                            setShowUserOrderList={this.setShowUserOrderList.bind(this)}\r\n                        />\r\n                    </Panel>\r\n                </View>\r\n            </Epic>\r\n        )\r\n    }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\n\r\nimport connect from '@vkontakte/vk-connect';\r\nimport axios from \"axios\";\r\n\r\nimport {Group, Cell, CellButton} from '@vkontakte/vkui';\r\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\r\nimport Icon24DoNotDisturb from '@vkontakte/icons/dist/24/do_not_disturb';\r\nimport Icon24Recent from '@vkontakte/icons/dist/24/recent';\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon24DoneOutline from '@vkontakte/icons/dist/24/done_outline';\r\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel';\r\n\r\n\r\nclass UserOrderList extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loadOrders:false\r\n        }\r\n    }\r\n\r\n\r\n\r\n    getAllGroups(){\r\n        return(\r\n            <Group>\r\n                <CellButton\r\n                before={<Icon24Recent /> }\r\n                onClick={this.props.setTypeOrderList.bind(this,\"Текущие заказы\",\"now\")}\r\n                >\r\n                    <span style={{color:\"#262522\"}}>Текущие заказы</span>\r\n                </CellButton>\r\n                <CellButton\r\n                before={<Icon24DoneOutline />}\r\n                onClick={this.props.setTypeOrderList.bind(this,\"Завершенные заказы\",\"old\")}\r\n                >\r\n                    <span style={{color:\"#262522\"}}>Завершенные заказы</span>\r\n                </CellButton>\r\n                <CellButton\r\n                before={<Icon24Cancel />}\r\n                onClick={this.props.setTypeOrderList.bind(this,\"Отмененные заказы\",\"cancel\")}\r\n                >\r\n                    <span style={{color:\"#262522\"}}>Отмененные заказы</span>\r\n                </CellButton>\r\n            </Group>\r\n        );\r\n    }\r\n\r\n\r\n    render(){\r\n        return(\r\n            this.state.loadOrders\r\n                ?\r\n                <ScreenSpinner />\r\n                :\r\n                this.getAllGroups()\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default UserOrderList;","import React from 'react';\r\n\r\nimport axios from \"axios\";\r\n\r\nimport {Group, Cell} from '@vkontakte/vkui';\r\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\r\n\r\nimport Icon24Recent from '@vkontakte/icons/dist/24/recent';\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon24DoneOutline from '@vkontakte/icons/dist/24/done_outline';\r\n\r\n\r\nclass OrderTypeList extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            listOrderUser:[],\r\n            loadOrders:true\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getOrderUserSystem();\r\n    }\r\n\r\n    getOrderUserSystem(){\r\n        this.setState({loadOrders:true});\r\n        axios({\r\n            method:'get',\r\n            url:'https://суши-тайм.рф/api/getOrdersUserVK&apiKey='+global.ApiKey+'&idUserVK='+this.props.userData.id,\r\n            responseType:'text'\r\n        })\r\n            .then(({data})=>{\r\n                if(\"error\" in data){\r\n                    this.setState({countOrder:0});\r\n                }else{\r\n                    //console.log('Данные по заказам пользователя',data);\r\n                    this.setState({listOrderUser:data.list});\r\n                    this.props.listOrderUserSet(data.list);\r\n                }\r\n                this.setState({loadOrders:false});\r\n            })\r\n            .catch((err) =>{\r\n                console.log('Ошибка получения заказов',err);\r\n            });\r\n    }\r\n\r\n\r\n    ReverceList(Pr){\r\n        var res = Object.keys(Pr).reduceRight(function (arr, last, index, coll) {\r\n            // console.log(last, index);\r\n            return (arr = arr.concat(last))\r\n        }, []);\r\n        return res;\r\n    }\r\n\r\n    getOrderType(type = 'now'){\r\n        var typeNumber = 0;\r\n        var iconsD ='';\r\n        switch(type){\r\n            case 'now': typeNumber = 0; iconsD = <Icon24Recent /> ;break;\r\n            case 'cancel': typeNumber = 3;  iconsD = <Icon24Dismiss /> ;break;\r\n            case 'old': typeNumber = 1;  iconsD = <Icon24DoneOutline /> ;break;\r\n            default:typeNumber =0;\r\n        }\r\n\r\n        //console.log(this.state.listOrderUser)\r\n\r\n        var countOrders = 0;\r\n\r\n        const ListOrder = this.ReverceList(this.state.listOrderUser).map((dataOrder,keyOrder)=>{\r\n            //console.log('Заказ '+dataOrder,'');\r\n            var CurrentOrder = this.state.listOrderUser[dataOrder];\r\n\r\n            var statusY = false;\r\n\r\n\r\n            if(typeNumber === 1){\r\n                if(CurrentOrder.status_order == typeNumber || CurrentOrder.status_order == 6){\r\n                    statusY = true;\r\n                }else{\r\n                    statusY = false;\r\n                }\r\n            }else{\r\n                if(CurrentOrder.status_order == typeNumber){\r\n                    statusY = true;\r\n                }else{\r\n                    statusY = false;\r\n                }\r\n            }\r\n\r\n\r\n            if(CurrentOrder.delete_order == '1'){\r\n                statusY = false;\r\n            }\r\n\r\n            if(statusY === true){\r\n                countOrders++;\r\n                //console.log('Заказ '+dataOrder,' Отмененн');\r\n                var summaOrders = <span>Сумма: <b>{CurrentOrder.sum_order}₽</b></span>;\r\n\r\n                return (\r\n                    <Cell key={\"Orders_\"+dataOrder}\r\n                          before={iconsD}\r\n                          description={<span>{CurrentOrder.date} <i>{CurrentOrder.time}</i> | {summaOrders}</span>}\r\n                          onClick={this.props.setOrderShowNumber.bind(this,CurrentOrder.id_order)}\r\n                    >\r\n                        <b>Заказ №{CurrentOrder.id_order}</b> <span style={{fontSize:\"0.8em\",marginLeft:\"2%\",color:\"#6a97fb\"}}> Подробнее...</span>\r\n                    </Cell>\r\n                );\r\n            }else{\r\n                //console.log('Заказ '+dataOrder,'');\r\n            }\r\n\r\n        });\r\n\r\n        if(countOrders <=0){\r\n            return (\r\n                <Cell key={\"Orders_None\"}\r\n                >\r\n                    Заказы отсутсвуют\r\n                </Cell>\r\n            );\r\n        }\r\n\r\n        return ListOrder;\r\n\r\n    }\r\n\r\n\r\n    getNowOrder(){\r\n        return(\r\n            <Group key=\"ListOrderNow\"\r\n                   title=\"Текущие заказы\"\r\n            >\r\n                {this.getOrderType('now')}\r\n            </Group>\r\n        );\r\n    }\r\n\r\n\r\n    getOldOrder(){\r\n        return(\r\n            <Group key=\"ListOrderOld\"\r\n                   title=\"Завершенные заказы\"\r\n            >\r\n                {this.getOrderType('old')}\r\n            </Group>\r\n        );\r\n    }\r\n\r\n    getCancelledOrder(){\r\n        return(\r\n            <Group key=\"ListOrderCancel\"\r\n                   title=\"Отмененные заказы\"\r\n            >\r\n                {this.getOrderType('cancel')}\r\n            </Group>\r\n        );\r\n    }\r\n\r\n\r\n    getOneTypeOrders(){\r\n        var results = '';\r\n        switch(this.props.typeOrderGet){\r\n            case\"now\": results = this.getNowOrder();break;\r\n            case\"old\": results = this.getOldOrder();break;\r\n            case\"cancel\": results = this.getCancelledOrder();break;\r\n        }\r\n\r\n        return results;\r\n    }\r\n\r\n    getAllGroups(){\r\n        return(\r\n            this.getOneTypeOrders()\r\n        );\r\n    }\r\n\r\n\r\n    render(){\r\n        return(<div> {\r\n                this.state.loadOrders\r\n                    ?\r\n                    <ScreenSpinner/>\r\n                    :\r\n                    this.getAllGroups()\r\n            }\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default OrderTypeList;","import React from 'react';\r\n\r\nimport connect from '@vkontakte/vk-connect';\r\nimport axios from \"axios\";\r\n\r\nimport {Group, Cell, Div, Counter, Button} from '@vkontakte/vkui';\r\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\r\nimport Icon24Recent from '@vkontakte/icons/dist/24/recent';\r\n\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\nimport Icon24DoneOutline from '@vkontakte/icons/dist/24/done_outline';\r\nimport Icon24Error from '@vkontakte/icons/dist/24/error';\r\nimport Icon24MoneyTransfer from '@vkontakte/icons/dist/24/money_transfer';\r\nimport Icon24MoneyCircle from '@vkontakte/icons/dist/24/money_circle';\r\nimport Icon24Coins from '@vkontakte/icons/dist/24/coins';\r\nimport Icon24User from '@vkontakte/icons/dist/24/user';\r\n\r\nclass OrderShowDetail extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        //console.log('Заказ показать этот: ',this.props.OrderDatas);\r\n    }\r\n\r\n    getStatusOrderText(a){\r\n        var ststusReturn = \"Выполнен\";\r\n\r\n        switch(a){\r\n            case\"0\": ststusReturn = \"Принят\"; break;\r\n            case\"1\": ststusReturn = \"Выполнен\"; break;\r\n            case\"3\": ststusReturn = \"Отменен\"; break;\r\n            case\"6\": ststusReturn = \"Принят\"; break;\r\n        }\r\n        return ststusReturn;\r\n    }\r\n\r\n    getStatusOrderReal(statusOld,statusReal){\r\n        if(statusReal === null){\r\n           // console.log('Нет данных');\r\n            return statusOld;\r\n        }else{\r\n            return statusReal.status;\r\n        }\r\n    }\r\n\r\n    getStatusIconText(a){\r\n        var iconsD = '';\r\n\r\n        var ststusReturns = <Icon24Error />;\r\n\r\n        switch(a){\r\n            case\"0\": iconsD = <Icon24Recent /> ;break;\r\n            case\"1\": iconsD = <Icon24DoneOutline /> ;break;\r\n            case\"3\": iconsD = <Icon24Dismiss /> ;break;\r\n            case\"6\": iconsD = <Icon24Recent /> ;break;\r\n        }\r\n        return ststusReturns;\r\n    }\r\n\r\n\r\n    getInfoPreorderBlock(Order){\r\n        if(Order.pre_order.status === 'none'){\r\n            return \"\";\r\n        }else{\r\n            return (\r\n                <Group title=\"Совершен по предзаказу на дату\">\r\n                    <Cell\r\n                        before={<Icon24Recent />}\r\n                    >\r\n                        {Order.pre_order.date_pre_order}\r\n                    </Cell>\r\n                </Group>\r\n            );\r\n        }\r\n    }\r\n\r\n    escapeHtml(text,type) {\r\n        switch(type){\r\n            case\"decode\":\r\n                var map = {\r\n                    '&amp;': '&',\r\n                    '&lt;': '<',\r\n                    '&gt;': '>',\r\n                    '&quot;': '\"',\r\n                    \"&#039;\": \"'\"\r\n                };\r\n                break;\r\n            case\"encode\":\r\n                var map = {\r\n                    '&': '&amp;',\r\n                    '<': '&lt;',\r\n                    '>': '&gt;',\r\n                    '\"': '&quot;',\r\n                    \"'\": '&#039;'\r\n                };\r\n                break;\r\n        }\r\n\r\n        return text.replace(/[&<>\"']/g, function(m) { return map[m]; });\r\n    }\r\n\r\n    escapeHtmlDecode(text) {\r\n        return text\r\n            .replace(/&amp;/g, \"&\")\r\n            .replace(/&lt;/g, \"<\")\r\n            .replace(/&gt;/g, \">\")\r\n            .replace(/&quot;/g, \"\\\"\")\r\n            .replace(/&#039;/g, \"'\");\r\n    }\r\n\r\n\r\n    getOrderComposition(Order){\r\n\r\n        if(Order == '' || Order === null){\r\n            return (<Group title=\"Состав заказа\">\r\n                <Div>Данные отсутствуют</Div></Group>);\r\n        }\r\n\r\n        const ListProduct = Order.map((data,key)=>{\r\n\r\n            if(data.sale_price != data.product_price){\r\n                var Price_sales = <span><s>{data.product_price} ₽</s> <b>{data.sale_price} ₽</b> </span>;\r\n            }else{\r\n                var Price_sales = <span><b>{data.sale_price} ₽</b> </span>;\r\n            }\r\n\r\n            if(data.discount_amount != '0'){\r\n                var Discount = <b>Скидка: {data.discount_amount} ₽</b>\r\n            }else{\r\n                var Discount = '';\r\n            }\r\n\r\n            return (\r\n                <Cell key={\"Product_cell_\"+key}\r\n                    description={<span key={\"prices_product_\"+key}>{Price_sales} - {data.count} шт. <i>{Discount}</i></span>}\r\n                    indicator={<Counter>&nbsp;{data.cost} ₽&nbsp;</Counter>}\r\n                >\r\n                    <span key={\"product_title_\"+key}>{this.escapeHtmlDecode(data.product_title)}</span>\r\n                </Cell>\r\n            );\r\n        });\r\n        return (<Group title=\"Состав заказа\">\r\n            {ListProduct}</Group>);\r\n    }\r\n\r\n\r\n    getOrderDopComposition(Order){\r\n\r\n        if(Order == '' || Order === null){\r\n            return (\"\");\r\n        }\r\n\r\n        const ListProduct = Order.map((data,key)=>{\r\n\r\n            var Price_sales = <span><b>{data.price_product} ₽</b> </span>;\r\n\r\n\r\n            return (\r\n                <Cell key={\"Dop_Product_cell_\"+key}\r\n                    description={<span key={\"prices_dop_product_\"+key}>{Price_sales} - {data.count} шт.</span>}\r\n                    indicator={<Counter>&nbsp;{data.cost} ₽&nbsp;</Counter>}\r\n                >\r\n                    <span key={\"dop_product_title_\"+key}>{this.escapeHtmlDecode(data.title_product)}</span>\r\n                </Cell>\r\n            );\r\n        });\r\n\r\n        if(ListProduct == '' || ListProduct=== null){\r\n            return (\"\");\r\n        }\r\n\r\n        return (<Group title=\"Приправы и соусы\">\r\n            {ListProduct}\r\n        </Group>);\r\n    }\r\n\r\n\r\n    getOrderGiftComposition(Order){\r\n\r\n        if(Order == '' || Order === null){\r\n            return (\"\");\r\n        }\r\n\r\n        const ListProduct = Order.map((data,key)=>{\r\n\r\n            var Price_sales = <span><b>{data.price_product} ₽</b> </span>;\r\n\r\n\r\n            return (\r\n                <Cell key={\"Gift_Product_cell_\"+key}\r\n                    description={<span key={\"prices_Gift_product_\"+key}>{Price_sales} - {data.count} шт.</span>}\r\n                    indicator={<Counter>&nbsp;{data.cost} ₽&nbsp;</Counter>}\r\n                >\r\n                    <span key={\"Gift_product_title_\"+key}>{this.escapeHtmlDecode(data.title_gift_product)}</span>\r\n                </Cell>\r\n            );\r\n        });\r\n\r\n        if(ListProduct == '' || ListProduct=== null){\r\n            return (\"\");\r\n        }\r\n\r\n        return (<Group title=\"Подарки\">\r\n            {ListProduct}\r\n        </Group>);\r\n    }\r\n\r\n\r\n    getOrderDeliveryInfo(Order){\r\n\r\n        if(Order.dilivery.dilivery_type == 'Доставка'){\r\n            var Address = Order.dilivery.dilivery_adres;\r\n            var PriceDeli = Order.dilivery.dilivery_price;\r\n            var TextDel = 'Доставка';\r\n        }else{\r\n            var Address = Order.affiliate.affiliate_info;\r\n            var PriceDeli = \" 0 \";\r\n            var TextDel = 'Самовывоз';\r\n        }\r\n\r\n            return (<Group title=\"Получение заказа\">\r\n                <Cell key={\"Deliv_cell\"}\r\n                    description={Address}\r\n                    indicator={<Counter>&nbsp; {PriceDeli} ₽ &nbsp;</Counter>}\r\n                >\r\n                    {TextDel}\r\n                </Cell>\r\n                </Group>\r\n            )\r\n    }\r\n\r\n    getInfoPromokod(Order){\r\n        if(Order.promo_status == 'active'){\r\n            var PromoInfo = <Group title=\"Промокод\">\r\n                <Div><b>{Order.promo_code}</b> {Order.promo_info.title}</Div>\r\n            </Group>\r\n        }else{\r\n            var PromoInfo = '';\r\n        }\r\n\r\n        return PromoInfo;\r\n    }\r\n\r\n    getInfoPointsOrder(Order){\r\n            var Points = <div>\r\n                <Cell before={<Icon24Coins/>} >Списано Таймов: {Order.point_out}</Cell>\r\n                <Cell  before={<Icon24Coins/>} >Начислено Таймов: {Order.point_in}</Cell>\r\n            </div>;\r\n\r\n        return Points;\r\n    }\r\n\r\n    getComment(Order) {\r\n\r\n        if(Order == '' || Order === null){\r\n            return (\"\");\r\n            Order = 'Отсутствует';\r\n        }\r\n\r\n        return (\r\n            <Group title=\"Комментарий\">\r\n                <Div>{Order}</Div>\r\n            </Group>\r\n        );\r\n    }\r\n\r\n    getRepeatOrder(OrderId){\r\n        //console.log(OrderId);\r\n        return (\r\n            <Group style={{textAlign:\"center\",padding:\"10px 0\"}}>\r\n                <Button onClick={()=>{\r\n                    this.setRepeatOrder(OrderId.id_order)\r\n                }}>Повторить</Button>\r\n            </Group>\r\n        );\r\n    }\r\n\r\n    setRepeatOrder(OrderId){\r\n        //console.log('Повторяем заказ');\r\n        axios({\r\n            method:'get',\r\n            url:'https://суши-тайм.рф/api/setRepeatOrder&apiKey='+global.ApiKey+'&idUserVK='+this.props.userData.id+'&OrderIdRepeat='+OrderId,\r\n            responseType:'text'\r\n        })\r\n            .then(({data})=>{\r\n                if(\"error\" in data){\r\n                    console.log(data);\r\n                    alert(data.errorInfo);\r\n                }else{\r\n                   console.log('Повторение заказа инфа: ',data);\r\n                }\r\n            })\r\n            .catch((err) =>{\r\n                console.log('Ошибка повторения заказа',err);\r\n            });\r\n    }\r\n\r\n    getPerson(Order) {\r\n\r\n        if(Order == '' || Order === null){\r\n            Order = '1';\r\n        }\r\n\r\n        // return (\r\n        //     <Group title=\"Кол-во приборов\">\r\n        //         <Div>{Order}</Div>\r\n        //     </Group>\r\n        // );\r\n\r\n        return (\r\n            <Cell\r\n                before={<Icon24User />}\r\n            >\r\n                Приборы: {Order}\r\n            </Cell>\r\n        );\r\n    }\r\n\r\n\r\n    render(){\r\n        const Order = this.props.OrderDatas;\r\n        const StatusIcon = this.getStatusIconText(Order.status_order);\r\n        const detailText = <span>Детали заказа</span>;\r\n\r\n        return(\r\n            <div key=\"InfoOrderBlock\" >\r\n                <Group\r\n                    title={detailText}\r\n                >\r\n                    <Cell\r\n                        before={StatusIcon}\r\n                    >\r\n                        {this.getStatusOrderReal(this.getStatusOrderText(Order.status_order),Order.status_order_real)}\r\n                    </Cell>\r\n                    <Cell\r\n                        before={<Icon24Recent />}\r\n                    >\r\n                        {Order.date} {Order.time}\r\n                    </Cell>\r\n                    <Cell\r\n                        before={<Icon24MoneyTransfer />}\r\n                    >\r\n                        {Order.payment.type_pay}\r\n                    </Cell>\r\n                    <Cell\r\n                        before={<Icon24MoneyCircle />}\r\n                    >\r\n                        {Order.sum_order} ₽\r\n                    </Cell>\r\n                    {this.getPerson(Order.person)}\r\n                    {this.getInfoPointsOrder(Order)}\r\n                </Group>\r\n                    {this.getInfoPreorderBlock(Order)}\r\n                {this.getInfoPromokod(Order.promo)}\r\n                {this.getOrderComposition(Order.productList)}\r\n                {this.getOrderDopComposition(Order.dopProductList)}\r\n                {this.getOrderGiftComposition(Order.giftProductList)}\r\n                {this.getOrderDeliveryInfo(Order)}\r\n                {this.getComment(Order.Comment)}\r\n                {this.getRepeatOrder(Order)}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default OrderShowDetail;","import React, { useState, useEffect } from 'react';\r\nimport {Div, View, Panel, Separator, PanelHeader, Group, Button, CellButton, HeaderButton, platform, IOS, Tooltip, HorizontalScroll, Placeholder, Cell } from '@vkontakte/vkui';\r\n\r\nimport Icon56MarketOutline from '@vkontakte/icons/dist/56/market_outline';\r\n\r\nimport Icon56NotificationOutline from '@vkontakte/icons/dist/56/notification_outline';\r\nimport Icon24Notification from '@vkontakte/icons/dist/24/notification';\r\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss';\r\n\r\nconst osName = platform();\r\n\r\n\r\nclass Notice extends React.Component {\r\n\r\n    constructor (props)\r\n    {\r\n        super(props);\r\n        this.state = {\r\n            activePanel:\"home\",\r\n            popout:null\r\n            //popout:\"<ScreenSpinner size='large' />\",\r\n        }\r\n    }\r\n\r\n    ActivePanels(e){\r\n        this.setState({activePanel: e});\r\n    }\r\n\r\n    NoteNotice(){\r\n        return(\r\n            <Placeholder stretched\r\n                         icon={<Icon56NotificationOutline />}\r\n                         action={<Button size=\"l\" level=\"tertiary\" onClick={()=>{this.props.setState({activeStory: 'catalog'});}}>В каталог</Button>}\r\n\r\n            >\r\n                <h2>Уведомлений нет</h2>\r\n                <p>Как только для Вас появятся уведомления, они отобразятся здесь!</p>\r\n            </Placeholder>\r\n        );\r\n    }\r\n\r\n    ReverceList(Pr){\r\n        var res = Object.keys(Pr).reduceRight(function (arr, last, index, coll) {\r\n            // console.log(last, index);\r\n            return (arr = arr.concat(last))\r\n        }, []);\r\n        return res;\r\n    }\r\n\r\n\r\n    setNoticeData(type,idNotice,statusView){\r\n        if(type == 1) {\r\n            this.props.setNotice(type, idNotice);\r\n            this.props.DeleteNotifi(idNotice);\r\n        }else{\r\n            if(statusView === false){\r\n                this.props.setNotice(type, idNotice);\r\n            }\r\n        }\r\n    }\r\n\r\n    getImagesNotice(img){\r\n        if(img === null || img == ''){return (\"\");}else{\r\n            return(\r\n                <img src={img} style={{width:\"100%\"}}/>\r\n            );\r\n        }\r\n    }\r\n\r\n    getNotice(){\r\n\r\n        const NoticeList = this.ReverceList(this.props.AllNotice).map((Data,id)=>{\r\n\r\n            if(this.props.AllNotice[Data]['notice_view'] == '0'){\r\n                var color = '#ff7300';\r\n                var statusView = false;\r\n            }else{\r\n                var color = '';\r\n                var statusView = true;\r\n            }\r\n\r\n            return(<Group\r\n                key={\"Notice_C_\"+Data}\r\n            >\r\n                <Cell\r\n                    before={<Icon24Notification\r\n                        style={{color:color}}\r\n                        onClick={() => {this.setNoticeData(0,this.props.AllNotice[Data]['id_notification'],statusView)}}\r\n                    />}\r\n                    asideContent={<Icon24Dismiss\r\n                        onClick={() => {this.setNoticeData(1,this.props.AllNotice[Data]['id_notification'],statusView)}}\r\n                    />}\r\n\r\n                >\r\n                    {this.props.AllNotice[Data]['title']}\r\n                </Cell>\r\n                {this.getImagesNotice(this.props.AllNotice[Data]['img'])}\r\n                    <Div key={\"Notice_\"+Data} dangerouslySetInnerHTML={{__html: this.props.AllNotice[Data]['text'].replace(/\\n/g, \"<br />\")}}>\r\n                    </Div>\r\n            </Group>);\r\n        });\r\n\r\n        return(\r\n            NoticeList\r\n        );\r\n    }\r\n\r\n    getNotificationPage(){\r\n        if(this.props.StatusNotification === true){\r\n            if(Object.keys(this.props.AllNotice).length<=0){\r\n                return(this.NoteNotice());\r\n            }else{\r\n                return(this.getNotice());\r\n            }\r\n        }else{\r\n            return(\r\n                <Placeholder stretched\r\n                             icon={<Icon56NotificationOutline />}\r\n                             action={<Button size=\"l\" level=\"tertiary\"\r\n                                             onClick={()=>{this.props.PushClick()}}\r\n                             >Включить уведомления</Button>}\r\n                             style={{textAlign:\"center\"}}\r\n                >\r\n                    Для просмотра уведомлений, их нужно включить\r\n                </Placeholder>\r\n            );\r\n        }\r\n    }\r\n\r\n\r\n    render(){\r\n        return(\r\n            this.getNotificationPage()\r\n        );\r\n\r\n    };\r\n\r\n}\r\n\r\nexport default Notice;","import React from 'react';\r\n\r\nimport connect from '@vkontakte/vk-connect';\r\n\r\nimport Group from '@vkontakte/vkui/dist/components/Group/Group';\r\nimport {List,Cell, Switch} from '@vkontakte/vkui/';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport Avatar from '@vkontakte/vkui/dist/components/Avatar/Avatar';\r\nimport Icon24Notification from '@vkontakte/icons/dist/24/notification';\r\nimport Icon24Note from '@vkontakte/icons/dist/24/note';\r\n\r\nimport Icon24Coins from '@vkontakte/icons/dist/24/coins';\r\nimport Icon24CommentOutline from '@vkontakte/icons/dist/24/comment_outline';\r\n\r\n\r\nclass UserInfo extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            StatusNotification:false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getStatusNotificate();\r\n    }\r\n\r\n    getPanelProfil(){\r\n        return(\r\n            <div id={this.props.id} style={{maxWidth:'1200px',margin:'0 auto'}} them='white'>\r\n                {this.props.fetchedUser &&\r\n                    <Group title=\"Ваши данные\r\n    \">\r\n                        <Cell\r\n                            before={this.props.fetchedUser.photo_200 ? <Avatar src={this.props.fetchedUser.photo_200}/> : null}\r\n                            description={this.props.fetchedUser.city && this.props.fetchedUser.city.title ? this.props.fetchedUser.city.title : ''}\r\n                        >\r\n                            {`${this.props.fetchedUser.first_name} ${this.props.fetchedUser.last_name}`}\r\n                        </Cell>\r\n                    </Group>\r\n                }\r\n\r\n                <Group>\r\n                    <Cell\r\n                        before={<Icon24Note />}\r\n                        description=\"Список совершенных Вами онлайн заказов\"\r\n                        onClick={this.props.setShowUserOrderList.bind()}\r\n                    >\r\n                        Мои заказы\r\n                    </Cell>\r\n                </Group>\r\n\r\n\r\n                {this.props.dataUsers.dataUsers.error ?\r\n                    this.getInfoUserNoneAuth()\r\n                    :\r\n\r\n                    <Group title=\"Активность\">\r\n                        <List>\r\n                            <Cell\r\n                                before={<Icon24Coins />}\r\n                            >\r\n                                Бонус Таймы: {this.props.dataUsers.dataUsers.dataUser.point}\r\n                            </Cell>\r\n                        </List>\r\n                    </Group>\r\n                }\r\n\r\n                <Group>\r\n                        <Cell\r\n                            before={<Icon24Notification />}\r\n                            asideContent={<Switch\r\n                                checked={this.state.StatusNotification}\r\n                                onChange={()=>{this.PushClick()}} />}\r\n                            description=\"Изменение статуса заказа, акциии...\"\r\n                        >\r\n                            PUSH - уведомления\r\n                        </Cell>\r\n\r\n                </Group>\r\n\r\n                <Group>\r\n                        <Cell\r\n                            before={<Icon24CommentOutline />}\r\n                        >\r\n                            <a style={{color:\"#252622\",textDecoration:\"none\"}}\r\n                               href={global.linkSocSeti} target=\"_blank\">\r\n                                Связаться с нами\r\n                            </a>\r\n                        </Cell>\r\n\r\n                </Group>\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n    getInfoUserNoneAuth() {\r\n        return (\r\n            <Div>\r\n                Авторизуйтесь по номеру телефона, чтобы просматривать данные!\r\n            </Div>\r\n        );\r\n    }\r\n\r\n    getStatusNotificate(){\r\n        connect.sendPromise(\"VKWebAppCallAPIMethod\", {\"method\": \"apps.isNotificationsAllowed\", \"params\": {\"user_id\": \"328965469\",\"v\":\"5.103\",\"access_token\":\"a07170c1a07170c1a07170c1c4a01c7753aa071a07170c1fdf9a8b9585d7876a020ecbf\"}})\r\n            .then((datas)=> {\r\n                this.setState({StatusNotification: datas.response.is_allowed});\r\n                this.props.setStatusNotification(datas.response.is_allowed);\r\n            })\r\n            .catch((err)=>{\r\n                this.setState({StatusNotification: false});\r\n                this.props.setStatusNotification(false);\r\n            });\r\n    }\r\n\r\n    //defaultChecked\r\n\r\n    PushClick(){\r\n        if(this.state.StatusNotification === true ){\r\n            this.OffPushNotyfication();\r\n        }else{\r\n            this.OnPushNotyfication();\r\n        }\r\n    }\r\n\r\n    OffPushNotyfication(){\r\n        connect.sendPromise(\"VKWebAppDenyNotifications\", {})\r\n            .then((datas)=>{\r\n                this.setState({StatusNotification: false});\r\n                this.props.setStatusNotification(false);\r\n            })\r\n            .catch((err)=> {\r\n                this.setState({StatusNotification: false});\r\n                this.props.setStatusNotification(false);\r\n                }\r\n            );\r\n    }\r\n\r\n    OnPushNotyfication(){\r\n        connect.sendPromise(\"VKWebAppAllowNotifications\", {})\r\n            .then((datas)=>{\r\n                this.getStatusNotificate();\r\n            })\r\n            .catch((err)=> {\r\n                    this.getStatusNotificate();\r\n                }\r\n            );\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            this.getPanelProfil()\r\n        );\r\n    }\r\n}\r\nexport default UserInfo;\r\n","import React, {useEffect} from 'react';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\n//import ModalProduct from './panels/ModalProduct';\r\nimport CategoryList from './CategoryList';\r\nimport GetCartHome from \"../Cart/CartHome\";\r\n//import App from \"./Profile\";\r\n\r\nconst CatalogProduct = (OPT) => {\r\n    // const [activePanel, setActivePanel] = useState('home');\r\n    // const [fetchedUser, setUser] = useState(null);\r\n    // const [popout, setPopout] = useState(<ScreenSpinner size='large'/>);\r\n\r\n    useEffect(() => {\r\n        // connect.subscribe(({ detail: { type, data }}) => {\r\n        //     if (type === 'VKWebAppUpdateConfig') {\r\n        //         const schemeAttribute = document.createAttribute('scheme');\r\n        //         schemeAttribute.value = data.scheme ? data.scheme : 'client_light';\r\n        //         document.body.attributes.setNamedItem(schemeAttribute);\r\n        //     }\r\n        // });\r\n        async function fetchData() {\r\n            // const user = await connect.sendPromise('VKWebAppGetUserInfo');\r\n            // setUser(user);\r\n            // setPopout(null);\r\n           // console.log(OPT.ProductsLists,'--- ВОТ');\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n    return (\r\n            <CategoryList\r\n                setCart={OPT.setCart.bind(this)}\r\n                CartProducts={OPT.CartProducts}\r\n                ProductsLists={OPT.ProductsLists}\r\n                sliderHeader={OPT.sliderHeader.bind(this)}\r\n                queryParams={OPT.queryParams}\r\n\r\n                showModal={OPT.showModal.bind(this)}\r\n                hideModals={OPT.hideModals.bind(this,null)}\r\n\r\n                activeProductHash={OPT.activeProductHash}\r\n                activeCategoryHash={OPT.activeCategoryHash}\r\n                activeHashPageProduct={OPT.activeHashPageProduct}\r\n            />\r\n    );\r\n\r\n};\r\n\r\nexport default CatalogProduct;\r\n\r\n","import React from 'react';\r\nimport {Div, View, Panel, PanelHeader, Group, Search,Cell, CellButton, HeaderButton, platform, IOS, Tooltip } from '@vkontakte/vkui';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport ProductList from \"./ProductList\";\r\n\r\nimport Icon24Filter from '@vkontakte/icons/dist/24/filter';\r\nimport ym from 'react-yandex-metrika';\r\nrequire('../../panels/global/index.js');\r\n\r\n\r\nfunction escapeHtmlDecode(text) {\r\n    return text\r\n        .replace(/&amp;/g, \"&\")\r\n        .replace(/&lt;/g, \"<\")\r\n        .replace(/&gt;/g, \">\")\r\n        .replace(/&quot;/g, \"\\\"\")\r\n        .replace(/&#039;/g, \"'\");\r\n}\r\n\r\nclass CategoryList extends React.Component {\r\n\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            loadingPage: true,\r\n            activePanel: 'brand',\r\n            products: [],\r\n            panelCategory: '',\r\n            ActiveCategory: 0,\r\n            productModal:[{\"title\":\"Название товара\",\"description\":\"Описание товара\",\"typeproduct\":\"0\",\"price\":\"1000\"}],\r\n            search: global.searchProduct\r\n        };\r\n        this.onChange = this.onChange.bind(this);\r\n        //console.log('Обновился каталог');\r\n        //console.log('А вот и перезагрузка');\r\n    }\r\n\r\n    getHashProductPageActive(){\r\n        if(this.props.activeHashPageProduct === true){\r\n            console.log('Запускаем страницу с товаром');\r\n\r\n            this.setActiveCategory(this.props.activeCategoryHash);\r\n            this.setProductModal(this.props.activeProductHash);\r\n            this.hndlClick('Panels_Product');\r\n        }else{\r\n            // console.log('Не получилось, ждем повторения');\r\n            setTimeout(()=>{\r\n                this.getHashProductPageActive();\r\n            },800);\r\n        }\r\n    }\r\n\r\n    onChange (e) {\r\n        this.setState({ search: e});\r\n    }\r\n\r\n    hndlClick = (aP) => {\r\n        //console.log('--- ', 'Нажали на кнопку '+aP);\r\n        this.setState({ activePanel: aP });\r\n        //global.settingsFilterSearch.typeProduct = false;\r\n    };\r\n\r\n    setProductModal = (aP) => {\r\n       // console.log('--- ', 'Установили товар в модалку '+aP+' - - - -XTTT');\r\n        this.setState({ productModal: aP })\r\n    };\r\n\r\n    setActiveCategory = (aP) => {\r\n       // console.log('--- ', 'Установили категорию '+aP);\r\n        this.setState({ ActiveCategory: aP })\r\n    };\r\n\r\n\r\n    getInCarts(typeProduct,setCart){\r\n        // console.log(setCart);\r\n        const Buttons =\r\n            <button onClick={() => {\r\n                setCart(typeProduct);\r\n                try {\r\n                    if (global.Metrika.Markers[1].active == '1') {\r\n                        ym('reachGoal', global.Metrika.Markers[1].marker);\r\n                    }else{\r\n                     //   console.log('Цель отключена');\r\n                    }\r\n                }catch (e) {\r\n                   // console.log(e,global.Metrika);\r\n                }\r\n            }}>\r\n                В корзину\r\n            </button>;\r\n\r\n        return Buttons;\r\n    }\r\n\r\n    getCountButton(typeProduct,counts,setCart){\r\n        const Buttons =\r\n            <div className=\"CounterInCart\">\r\n                <div className=\"minus\" onClick={() => {setCart(typeProduct,'-');}}>\r\n                    -\r\n                </div>\r\n                {counts}\r\n                <div className=\"pluse\" onClick={() => {setCart(typeProduct);}}>\r\n                    +\r\n                </div>\r\n            </div>;\r\n\r\n        return Buttons;\r\n    }\r\n\r\n    getButtonInCartProduct(typeProduct,setCart){\r\n        //console.log(this.props.CartProducts,'---0---');\r\n        if(!!this.props.CartProducts){\r\n            var ButOk = false;\r\n            var id_CartPr = '';\r\n            this.props.CartProducts.map((data,key)=>{\r\n                if(data.id_Product === typeProduct.id_Product & data.type_product === typeProduct.type_product){\r\n                    ButOk = true;\r\n                    id_CartPr = key;\r\n                }\r\n            });\r\n\r\n            if(ButOk === true){\r\n                //console.log('Выполняется условие товар есть');\r\n                return  this.getCountButton(typeProduct,this.props.CartProducts[id_CartPr]['count'],setCart);\r\n            }else{\r\n                //console.log('Выполняется условие товара нет');\r\n                return this.getInCarts(typeProduct,setCart);\r\n            }\r\n        }else{\r\n            //console.log('Выполняется условие корзина пуста, вывод просто кнопки');\r\n            return this.getInCarts(typeProduct,setCart);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({loading: true});\r\n        this.setState({products:this.props.ProductsLists,loadingPage: false});\r\n        //console.log('Передали: ',this.props.ProductsLists);\r\n        this.getHashProductPageActive();\r\n            }\r\n\r\n    classNameDivCategory(){\r\n        //console.log(this.props.queryParams.vk_platform);\r\n        if(this.props.queryParams.vk_platform == \"desktop_web\"){\r\n            return \"GroupBlockCategory DivBlockDesctopCategoys\";\r\n        }else{\r\n            return \"GroupBlockCategory\";\r\n        }\r\n    }\r\n\r\n    getKomboProductData(DataKombo,AllProduct){\r\n        //console.log(DataKombo);\r\n        const res = Object.keys(DataKombo).map( (data,id,ArrK) => {\r\n            const res1 = Object.keys(AllProduct).map((d,i,arr)=>{\r\n                       const res2 = Object.keys(AllProduct[d].ProductList).map((dp,ip,arrp)=>{\r\n                            if(dp === data){\r\n                                return(\r\n                                    <Cell key={data} className=\"komboProducts\"\r\n                                          before={<img\r\n                                              src={AllProduct[d].ProductList[data][0]['img']}\r\n                                              style={{width:\"80px\",marginRight:\"15px\",marginTop:\"10px\"}}\r\n                                          />\r\n                                          }\r\n                                          asideContent={DataKombo[data]['count']+'шт'}\r\n                                          // bottomContent={\r\n                                          //     <span style={{fontSize:\"0.75em\"}}>\r\n                                          //         {AllProduct[d].ProductList[data][0]['weight']+' '+AllProduct[d].ProductList[data][0]['weight_type']}\r\n                                          //     </span>\r\n                                          // }\r\n                                          size=\"l\"\r\n                                          description={AllProduct[d].ProductList[data][0]['description']}\r\n                                          multiline={true}\r\n                                    >\r\n                                        {AllProduct[d].ProductList[data][0]['title']}\r\n                                    </Cell>\r\n                                )\r\n                            }else{\r\n                                return '';\r\n                            }\r\n                       });\r\n                       return res2;\r\n                    //{console.log(d,i,arr)}\r\n                });\r\n            return res1;\r\n            });\r\n        return(\r\n            <div style={{marginBottom:\"10px\"}}>{res}</div>\r\n        );\r\n    }\r\n\r\n    getFeaturesBlock(FeaturesData){\r\n\r\n        const res = Object.keys(FeaturesData).map((d,i,arr)=>{\r\n            if(FeaturesData[d]['show'] == 'show' & (\"features\" in FeaturesData[d])){\r\n                var defs = this.getFeaturesData(FeaturesData[d]['features']);\r\n                if(defs === false){\r\n\r\n                }else {\r\n                    return (\r\n                        <Group\r\n                            key={d}\r\n                            title={FeaturesData[d]['title']}\r\n                        >\r\n                            {defs}\r\n                        </Group>\r\n                    );\r\n                }\r\n            }\r\n        });\r\n\r\n        return (\r\n            res\r\n        );\r\n    }\r\n\r\n    getFeaturesData(Features){\r\n        var defs = false;\r\n        const res = Object.keys(Features).map((d,i,arr)=>{\r\n            if(Features[d]['text'] != ''){\r\n                defs = true;\r\n                return(\r\n                    <Cell key={d}\r\n                          asideContent={Features[d]['text']+' '+Features[d]['unit']}\r\n                          // before={}\r\n                    >\r\n                        {Features[d]['title']}\r\n                    </Cell>\r\n                );\r\n            }\r\n        });\r\n        if(defs === true) {\r\n            return (res);\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render () {\r\n        function getWeightProduct(Product_Weight,Product_WeightType){\r\n            if(Product_WeightType != 'л'){\r\n                return(\r\n                    number_format(Product_Weight,'0','.', ' ')+' '+Product_WeightType\r\n                );\r\n            }else{\r\n                return(\r\n                    Product_Weight+' '+Product_WeightType\r\n                );\r\n            }\r\n        }\r\n\r\n        function number_format(number, decimals, dec_point, separator ) {\r\n            number = (number + '').replace(/[^0-9+\\-Ee.]/g, '');\r\n            var n = !isFinite(+number) ? 0 : +number,\r\n                prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),\r\n                sep = (typeof separator === 'undefined') ? ',' : separator ,\r\n                dec = (typeof dec_point === 'undefined') ? '.' : dec_point,\r\n                s = '',\r\n                toFixedFix = function(n, prec) {\r\n                    var k = Math.pow(10, prec);\r\n                    return '' + (Math.round(n * k) / k)\r\n                        .toFixed(prec);\r\n                };\r\n            // Фиксим баг в IE parseFloat(0.55).toFixed(0) = 0;\r\n            s = (prec ? toFixedFix(n, prec) : '' + Math.round(n))\r\n                .split('.');\r\n            if (s[0].length > 3) {\r\n                s[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\r\n            }\r\n            if ((s[1] || '')\r\n                .length < prec) {\r\n                s[1] = s[1] || '';\r\n                s[1] += new Array(prec - s[1].length + 1)\r\n                    .join('0');\r\n            }\r\n            return s.join(dec);\r\n        }\r\n\r\n        //Модалка продукта\r\n        function ModalProductInfo(OPT){\r\n            if(OPT.Loadings === false){\r\n               // console.log(OPT);\r\n                return(\r\n                    <div\r\n                        className=\"blockProduct maxWidths\"\r\n                        style={{\"margin\":\"0\",\"textAlign\":\"left\"}}\r\n                    >\r\n                        <PanelHeader\r\n                            theme=\"light\"\r\n                            noShadow={false}\r\n                            left={<HeaderButton onClick={() => OPT.ClickBack('Panels_38')}>{osname === IOS ?\r\n                                <Icon28ChevronBack/> : <Icon24Back/>}</HeaderButton>}\r\n                            addon={<HeaderButton onClick={() => OPT.ClickBack('Panels_38')}>Назад</HeaderButton>}\r\n                        >\r\n                            {escapeHtmlDecode(OPT.ProductInfo[0].title)}\r\n                        </PanelHeader>\r\n                        <Group\r\n                            id={'product_type_'+OPT.ProductInfo[0].type_info}\r\n                        >\r\n                            <Div style={{position:\"relative\"}}>\r\n                            <div className=\"imgPrewieProduct\"><img src={OPT.ProductInfo[0].img} alt={OPT.ProductInfo[0].title}/></div>\r\n                            <div className=\"titleProduct\">\r\n                                <span className=\"titleProductOne\">{escapeHtmlDecode(OPT.ProductInfo[0].title)}</span>\r\n                                <span className=\"redTextP\">\r\n                                    {getWeightProduct(OPT.ProductInfo[0].weight,OPT.ProductInfo[0].weight_type)}\r\n                                </span>\r\n                                <div className=\"clr\"></div>\r\n                            </div>\r\n\r\n\r\n                                <Div className=\"DescrProduct\">\r\n                                    {escapeHtmlDecode(OPT.ProductInfo[0].description)}\r\n                                    <div>\r\n                                    </div>\r\n                                    {OPT.ProductInfo[0].type_info != '' ?\r\n                                        <div className=\"WeightBlock\">\r\n                                            {OPT.ProductInfo[0].type_info}\r\n                                        </div>\r\n                                        :\r\n                                        \"\"\r\n                                    }\r\n                                </Div>\r\n\r\n                            <div className=\"priceProductBig\">{getPriceProducts(OPT.ProductInfo[0])}\r\n                                {OPT.getButtonInCartProduct(OPT.ProductInfo[0],OPT.setCart)}\r\n                            </div>\r\n                            </Div>\r\n                        </Group>\r\n\r\n                        {OPT.ProductInfo[0].komboPoduct.length <= 0 ?\r\n                            \"\"\r\n                            :\r\n                            <Group\r\n                            title=\"В набор входят\"\r\n                            >\r\n                                {OPT.getKomboProductData(OPT.ProductInfo[0].komboPoduct,OPT.AllProduct)}\r\n                            </Group>\r\n                        }\r\n\r\n                        {OPT.getFeaturesBlock(OPT.ProductInfo[0].featuresProduct)}\r\n                        <div style={{clear:\"both\",height:\"60px\",width:\"100%\"}}></div>\r\n                    </div>\r\n                );\r\n            }else{\r\n                //console.log('Не загрузилось', OPT.CategoryList);\r\n                return (\r\n                    <div>\r\n                    <PanelHeader\r\n                        theme=\"light\"\r\n                        noShadow={false}\r\n                        left={<HeaderButton onClick={() => OPT.ClickBack('Panels_38')}>{osname === IOS ?\r\n                            <Icon28ChevronBack/> : <Icon24Back/>}</HeaderButton>}\r\n                        addon={<HeaderButton onClick={() => OPT.ClickBack('Panels_38')}>Назад</HeaderButton>}\r\n                    >Ошибка</PanelHeader>\r\n                        <div style={{\"textAlign\":\"center\",\"padding\":\"5% 0\"}}>Ошибка, вернитесь назад</div>\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n\r\n        function getPriceProducts(typeProduct){\r\n            if(!(\"price_discount\" in typeProduct) || typeProduct.price_discount === false){\r\n                return (<span className=\"priceProduct\">\r\n                {typeProduct.price} ₽\r\n                </span>\r\n                );\r\n            }else{\r\n                return(\r\n                    <span className=\"priceProduct\">\r\n                    <s className=\"old_price_style\" style={{fontWeight:\"460\",fontSize:\"0.9em\",marginRight:\"5px\"}}>{typeProduct.price_discount.old_price} ₽</s>\r\n                        {typeProduct.price_discount.new_price} ₽\r\n                </span>\r\n                );\r\n            }\r\n        }\r\n\r\n\r\n        function GetCategorys(OPT){\r\n            //console.log('Грузим каталог');\r\n            if(OPT.Loadings === false) {\r\n               // console.log(OPT,'-0-0-0-');\r\n               // console.log('Загрузилось', OPT.CategoryList);\r\n                //console.log('Товары ', OPT.CategoryList[OPT.ShowCategory].ProductList);\r\n                return (<div style={{background:\"#FFFFFF\"}}>\r\n                    <PanelHeader\r\n                        theme=\"light\"\r\n                        noShadow={false}\r\n                        left={<HeaderButton onClick={() => OPT.ClickCategory('brand')}>{osname === IOS ?\r\n                            <Icon28ChevronBack/> : <Icon24Back/>}</HeaderButton>}\r\n                        addon={<HeaderButton onClick={() => OPT.ClickCategory('brand')}>Назад</HeaderButton>}\r\n                    >\r\n                        {OPT.CategoryList[OPT.ShowCategory].Title}\r\n                    </PanelHeader>\r\n                    <ProductList\r\n                        onClickProduct={OPT.ClickProduct.bind(this)}\r\n                        productsLists={OPT.CategoryList[OPT.ShowCategory].ProductList} key={OPT.CategoryList[OPT.ShowCategory].id_Category}\r\n                        idCategorys={OPT.ShowCategory}\r\n                        nameCategory=\"sets\"\r\n                        setCart={OPT.setCart.bind(this)}\r\n                        getButtonInCartProduct={OPT.getButtonInCartProduct.bind(this)}\r\n                        setProductModal={OPT.setProductModal.bind(this)}\r\n                        searchProduct={OPT.searchProduct}\r\n\r\n                        showModal={OPT.showModal.bind(this)}\r\n                        hideModals={OPT.hideModals.bind(this,null)}\r\n                    />\r\n                    </div>\r\n                );\r\n            }else{\r\n                //console.log('Не загрузилось', OPT.CategoryList);\r\n                return (\r\n                    <PanelHeader>Ошибка</PanelHeader>\r\n                );\r\n            }\r\n\r\n        }\r\n\r\n        function GetBrandPanels(OPT,Loadings){\r\n           // console.log(OPT,' - - - категории грузим',OPT.Loadings);\r\n            global.settingsFilterSearch.typeProduct = false;\r\n\r\n\r\n            if(CategoryList.length === 0){\r\n                return '';\r\n            }else {\r\n                if(OPT.Loadings === false) {\r\n                    //ProductObject = Object.keys(OPT.CategoryList);\r\n                    //console.log('Преобразовали',ProductObject);\r\n                    // const ArrayBrands = Object.keys(OPT.CategoryList).map((CategoryProdcuts, key) =>\r\n                    const ArrayBrands = Object.keys(OPT.CategoryList).map((idCategorys, key) =>\r\n                        OPT.CategoryList[idCategorys].ProductList !== null ?\r\n                            <Div\r\n                                style={{\"background\":\"linear-gradient( rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4) ), url(//суши-тайм.рф/images/API_IMG/\"+OPT.CategoryList[idCategorys].imgCategory+\")\",\"backgroundSize\":\"100%\"}}\r\n                                className=\"DivCategoryBlock\"\r\n                                key={key+'_'+idCategorys}\r\n                                onClick={\r\n                                    () => {\r\n                                        OPT.ActiveCategory(idCategorys);\r\n                                        OPT.ClickCategory('Panels_38');\r\n                                    }\r\n                                }\r\n                            >{console.log('Выводим категорию')}\r\n                                {OPT.CategoryList[idCategorys].Title}\r\n                            </Div> :\r\n                         \"\"\r\n\r\n                    );\r\n                    return ArrayBrands;\r\n                }\r\n                else {\r\n                    return 'Loading ...';\r\n                }\r\n                // return '';\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n        const osname = platform();\r\n\r\n        return (\r\n            <View activePanel={this.state.activePanel}>\r\n                <Panel id=\"brand\">\r\n                    <PanelHeader\r\n                        theme=\"light\"\r\n                    >\r\n                        Категории\r\n                    </PanelHeader>\r\n                    <Group>\r\n                        <Div className=\"logoBlock\">\r\n                            <img src=\"//суши-тайм.рф/images/API_IMG/logo_susshi_time.png\"/>\r\n                            {this.props.queryParams.vk_platform == \"desktop_web\"\r\n                                ?\r\n                                <Div className=\"PhoneDiv\">\r\n                                    <a>{global.phonenumberCollVisual}</a>\r\n                                </Div>\r\n                                :\r\n                                <Div className=\"PhoneDiv\">\r\n                                    <a href={global.phonenumberColl}>Позвонить</a>\r\n                                </Div>\r\n                            }\r\n                        </Div>\r\n                        <div id=\"SliderHeader\">\r\n                            {this.props.sliderHeader()}\r\n                        </div>\r\n                    </Group>\r\n                        <Group\r\n                            //title=\"Выбери категорию\"\r\n                            className={this.classNameDivCategory()} >\r\n                        <GetBrandPanels key=\"BrandPanels\" CategoryList={this.state.products} Loadings={this.state.loadingPage} ClickCategory={this.hndlClick.bind(this)} ActiveCategory={this.setActiveCategory.bind(this)}/>\r\n                    </Group>\r\n                </Panel>\r\n                {/*{this.state.loadingPage ? <Panel id=\"Panels_38\" />  : <Panel id=\"Panels_38\" ><PanelHeader >Суши</PanelHeader></Panel> && <GetCategory CategoryList={this.state.products} Loadings={this.state.loadingPage} ClickCategory={this.hndlClick.bind(this)}/>}*/}\r\n                <Panel id=\"Panels_38\">\r\n                    <Cell\r\n                        className=\"BoxCellSearch\"\r\n                        asideContent={\r\n                            <Icon24Filter\r\n                                onClick={\r\n                                    ()=>{this.props.showModal('MODAL_Filter_Catalog');}\r\n                                }\r\n                            />}\r\n                    >\r\n                        <Search\r\n                            value={this.state.search}\r\n                            onChange={this.onChange}\r\n                            after={null}\r\n                        />\r\n                    </Cell>\r\n                    <GetCategorys\r\n                        CategoryList={this.state.products}\r\n                        Loadings={this.state.loadingPage}\r\n                        ClickCategory={this.hndlClick.bind(this)}\r\n                        ClickProduct={this.hndlClick.bind(this,'Panels_Product')}\r\n                        setProductModal={this.setProductModal.bind(this)}\r\n                        ShowCategory={this.state.ActiveCategory}\r\n                        setCart={this.props.setCart.bind(this)}\r\n                        getButtonInCartProduct={this.getButtonInCartProduct.bind(this)}\r\n                        searchProduct={this.state.search}\r\n\r\n                        showModal={this.props.showModal.bind(this)}\r\n                        hideModals={this.props.hideModals.bind(this,null)}\r\n\r\n                    />\r\n                </Panel>\r\n                <Panel id=\"Panels_Product\">\r\n\r\n                    <ModalProductInfo\r\n                        Loadings={this.state.loadingPage}\r\n                        ClickBack={this.hndlClick.bind(this)}\r\n                        ProductInfo={this.state.productModal}\r\n                        AllProduct={this.state.products}\r\n                        setCart={this.props.setCart.bind(this)}\r\n                        getButtonInCartProduct={this.getButtonInCartProduct.bind(this)}\r\n                        getKomboProductData={this.getKomboProductData.bind(this)}\r\n                        getFeaturesBlock={this.getFeaturesBlock.bind(this)}\r\n                    />\r\n                </Panel>\r\n                {/*<Panel id=\"Panels_38\" />*/}\r\n                {/*<Panel id=\"Panels_38\">*/}\r\n                {/*    <PanelHeader*/}\r\n                {/*        theme=\"light\"*/}\r\n                {/*        noShadow={true}*/}\r\n                {/*        left={<HeaderButton onClick={() => this.hndlClick('brand')}>{osname === IOS ? <Icon28ChevronBack /> : <Icon24Back />}</HeaderButton>}*/}\r\n                {/*        addon={<HeaderButton onClick={() => this.hndlClick('brand')}>Назад</HeaderButton>}*/}\r\n                {/*    >*/}\r\n                {/*        Cуши*/}\r\n                {/*    </PanelHeader>*/}\r\n\r\n                {/*    <ProductList productsLists={this.state.products} nameCategory=\"sushi\" />*/}\r\n                {/*</Panel>*/}\r\n                {/*<Panel id=\"light2\">*/}\r\n                {/*    <PanelHeader*/}\r\n                {/*        theme=\"light\"*/}\r\n                {/*        noShadow={true}*/}\r\n                {/*        left={<HeaderButton onClick={() => this.hndlClick('brand')}>{osname === IOS ? <Icon28ChevronBack /> : <Icon24Back />}</HeaderButton>}*/}\r\n                {/*        addon={<HeaderButton onClick={() => this.hndlClick('brand')}>Назад</HeaderButton>}>*/}\r\n                {/*        Роллы*/}\r\n                {/*    </PanelHeader>*/}\r\n                {/*    <ProductList productsLists={this.state.products} nameCategory=\"roli\" />*/}\r\n                {/*</Panel>*/}\r\n                {/*<Panel id=\"Panels_38\">*/}\r\n                {/*    <PanelHeader*/}\r\n                {/*        theme=\"light\"*/}\r\n                {/*        noShadow={true}*/}\r\n                {/*        left={<HeaderButton onClick={() => this.hndlClick('brand')}>{osname === IOS ? <Icon28ChevronBack /> : <Icon24Back />}</HeaderButton>}*/}\r\n                {/*        addon={<HeaderButton onClick={() => this.hndlClick('brand')}>Назад</HeaderButton>}>*/}\r\n                {/*        Сеты*/}\r\n                {/*    </PanelHeader>*/}\r\n                {/*    <ProductList productsLists={this.state.products} nameCategory=\"sets\" idCategorys=\"0\"/>*/}\r\n                {/*</Panel>*/}\r\n            </View>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default CategoryList;","import React, { useState, useEffect } from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport {Placeholder, Div,Input,FormLayout,FormLayoutGroup,Button,Snackbar,Avatar,Textarea, View, Panel, PanelHeader, Group, CellButton, HeaderButton, platform, IOS, Tooltip } from '@vkontakte/vkui';\r\nimport axios from \"axios\";\r\nimport Icon16Clear from '@vkontakte/icons/dist/16/clear';\r\nimport DiliveryAddress from \"./DiliveryAddress\";\r\nimport AffiliateList from \"./AffiliateList\";\r\nimport Icon56ErrorOutline from '@vkontakte/icons/dist/56/error_outline';\r\nimport Preorder from \"../preorder\";\r\nimport NoPreorder from \"../noPreorder\";\r\n\r\n\r\nconst orangeBackground = {\r\n    backgroundImage: 'linear-gradient(135deg, #ffb73d, #ffa000)'\r\n};\r\n\r\nconst blueBackground = {\r\n    backgroundColor: '#ffffff'\r\n};\r\n\r\nclass Dilivery extends React.Component{\r\n    constructor (props)\r\n    {\r\n        super(props);\r\n        this.state = {\r\n            UserCard:{phone:\"\",email:\"\"},\r\n            CheckSMSCode:false,\r\n            phoneValue:\"\",\r\n            codeValue:\"\",\r\n            resultVerificationCode:true,\r\n            tooltip: true,\r\n            snackbar: null,\r\n            showBTNNewAddress:false,\r\n            showFormNewAddress:false\r\n        };\r\n\r\n        this.openBase = this.openBase.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        //this.openBase();\r\n\r\n        async function getPhoneUserVK(setState){\r\n            connect.sendPromise(\"VKWebAppGetPhoneNumber\",{\"sign\":\"T3in3QPDby8GsRNAfsEnEoYmVt7Se2dy0XUOhnCSlSw\"})\r\n                .then((data ) => {\r\n                    //console.log(data,\"Данные пользователя\");\r\n                    setState({ UserCard:{phone: data.phone_number} });\r\n                })\r\n                .catch((err) => {\r\n                    console.log(\"ERROR: ------  \",err);\r\n                });\r\n        }\r\n\r\n        //console.log(\"Получаем телефон\");\r\n        {this.props.userSystemInfo.error === true && getPhoneUserVK(this.setState.bind(this));}\r\n    }\r\n\r\n\r\n    openBase (e = null) {\r\n        if (this.state.snackbar) return;\r\n        this.setState({ snackbar:\r\n                <Snackbar\r\n                    layout=\"vertical\"\r\n                    onClose={() => this.setState({ snackbar: null })}\r\n                    before={<Avatar size={24} style={blueBackground}><Icon16Clear fill=\"#ff0000\" width={16} height={16} /></Avatar>}\r\n                >\r\n                    {e===null && <span>Проверочный код введен не верно, повторите попытку!</span>}\r\n                    {e!==null && e}\r\n                </Snackbar>\r\n        });\r\n    }\r\n\r\n\r\n    setVerificationPhone(){\r\n        //console.log('Отправили запрос на верификацию');\r\n        axios('https://суши-тайм.рф/api/VerificationPhone&apiKey='+global.ApiKey+'',\r\n            {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n                data: {\r\n                    phoneVerification: this.state.UserCard.phone,\r\n                },\r\n                responseType:'text'\r\n            })\r\n            .then(({ data }) => {\r\n                if(\"error\" in data){\r\n                    console.log(data.error,'|',data.errorInfo);\r\n                }else{\r\n                    if(data.status === \"OK_SMS\"){\r\n                        //console.log('СМС отправлено, выводим поле для ввода кода');\r\n                        this.setState({CheckSMSCode:true});\r\n                    }else{\r\n                        //console.log('Ошибка ',data);\r\n                        this.openBase('Номер телефона введен не верно!');\r\n                    }\r\n                }\r\n            })\r\n            .catch(({err}) => {\r\n                console.log(\"ERROR: ---Запрос СМС---  \",err);\r\n            });\r\n    }\r\n\r\n    checkVerificationCode(){\r\n        //console.log('Отправили запрос на проверку кода',this.props.userInfo.id);\r\n        axios('https://суши-тайм.рф/api/VerificationCode&apiKey='+global.ApiKey+'',\r\n            {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n                data: {\r\n                    phoneVerification: this.state.UserCard.phone,\r\n                    VerificationCode: this.state.codeValue,\r\n                    idUserVK:this.props.userInfo.id\r\n                },\r\n                responseType:'text'\r\n            })\r\n            .then(({ data }) => {\r\n                if(\"error\" in data){\r\n                    console.log(data.error,'|',data.errorInfo);\r\n                }else{\r\n                    if(data.status === \"OK_CODE_V\"){\r\n                        //console.log('Данные сохранены, можно обновить приложение, пользователь авторизован');\r\n                        this.props.getUserSystemInfo(this.props.userInfo.id);\r\n                        //this.setState({CheckSMSCode:true});\r\n                    }else{\r\n                        //console.log('Ошибка ',data);\r\n                        this.openBase();\r\n                    }\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"ERROR: ---Запрос СМС---  \",err);\r\n            });\r\n    }\r\n\r\n    getValueInputPhone(event){\r\n        this.setState({UserCard:{phone: event.target.value}});\r\n        //console.log(this.state.UserCard.phone);\r\n    }\r\n\r\n    getValueInputCode(event){\r\n        this.setState({codeValue: event.target.value});\r\n    }\r\n\r\n    getCommentsData(e){\r\n        this.props.setComment(e.target.value);\r\n    }\r\n\r\n    getDataCountPerson(types){\r\n        var values_count = this.props.countPerson;\r\n        switch(types){\r\n            case '-': values_count -= 1; break;\r\n            case '+': values_count += 1; break;\r\n            default: console.log('Нет параметра');\r\n        }\r\n\r\n        if(values_count<=0){ values_count = 1;}\r\n        if(values_count === ''){ values_count = 1;}\r\n        if(values_count >9){ values_count = 9;}\r\n\r\n        this.props.setStates({countPerson: values_count});\r\n    }\r\n\r\n    getCountPersonInput(){\r\n        return \"\";\r\n        // return (\r\n        //     <Group title=\"Кол-во приборов\">\r\n        //         <Div style={{display: 'flex',justifyContent:'center'}}>\r\n        //             <Button size=\"l\" stretched style={{marginRight: 10,maxWidth:50,background:\"#ff7300\"}} onClick={this.getDataCountPerson.bind(this,'-')}>-</Button>\r\n        //             <Input type=\"number\" style={{maxWidth:80,textAlign:\"center\"}} value={this.props.countPerson} readOnly=\"readOnly\"/>\r\n        //             <Button size=\"l\" stretched style={{marginLeft: 10,maxWidth:50,background:\"#ff7300\"}} onClick={this.getDataCountPerson.bind(this,'+')}>+</Button>\r\n        //         </Div>\r\n        //     </Group>\r\n        // );\r\n    }\r\n\r\n    getInfoUserNoneAuth(){\r\n        return(<Group>\r\n            <FormLayout>\r\n                {this.state.CheckSMSCode === true && <FormLayoutGroup top=\"Введите одноразовый код из СМС\">\r\n\r\n                    <Input type=\"number\" placeholder=\"1234\" onChange={this.getValueInputCode.bind(this)} />\r\n\r\n\r\n                    <Button level=\"commerce\" style={{\"background\":\"#ff7300\"}}\r\n                            onClick={()=> {\r\n                                //console.log(this.state.codeValue);\r\n                                this.checkVerificationCode()\r\n                                }\r\n                            }\r\n                    >Подтвердить\r\n                    </Button>\r\n                    <Button level=\"secondary\" style={{\"float\":\"right\"}} onClick={() => {this.setState({CheckSMSCode:false})}}>Выслать повторно</Button>\r\n                </FormLayoutGroup>}\r\n\r\n                {this.state.CheckSMSCode === false && <FormLayoutGroup top=\"Подтвердите номер телефона\">\r\n                    <Input type=\"number\" placeholder=\"79876543210\" defaultValue={this.state.UserCard.phone} onChange={this.getValueInputPhone.bind(this)}/>\r\n                    <Button level=\"commerce\" style={{\"background\":\"#ff7300\"}}\r\n                            onClick={\r\n                                () => {\r\n                                    this.setVerificationPhone();\r\n                                    //console.log(this.state.UserCard.phone)\r\n                                }\r\n                            }\r\n                    >\r\n                        Получить код\r\n                    </Button>\r\n                    <Button onClick={() => {this.setState({CheckSMSCode:true})}} level=\"secondary\" style={{\"float\":\"right\"}}>Уже есть код</Button>\r\n                </FormLayoutGroup>}\r\n            </FormLayout>\r\n            {this.state.snackbar}\r\n        </Group>);\r\n    }\r\n\r\n    getButtonTypeDilivery(){\r\n        return(<Div style={{display: 'flex',\"paddingBottom\":\"0\"}}>\r\n            <Button size=\"l\" stretched style={{marginRight: 8}} level={this.props.checkedTypeDilivery === 1 ? \"secondary\" : \"commerce\"} onClick={()=>{this.props.setTypeDilivery(0)}}>Доставка</Button>\r\n            <Button size = \"l\" stretched level={this.props.checkedTypeDilivery === 0 ? \"secondary\" : \"commerce\"}  onClick={()=>{this.props.setTypeDilivery(1)}}>Самовывоз</Button>\r\n            </Div>\r\n        );\r\n    }\r\n\r\n    getButtonTypeOrder(){\r\n        return(<Div style={{display: 'flex',\"paddingBottom\":\"20\",\"paddingTop\":\"0\"}}>\r\n                <Button size=\"l\" stretched style={{marginRight: 8}}\r\n                        level={this.props.DataDeliveryInfo.typeOrderDate ? \"commerce\" : \"secondary\"}\r\n                        onClick={()=>{this.props.DataDeliveryInfo.setTypeOrderDate(true);}}\r\n                >\r\n                    Ближайшее\r\n                </Button>\r\n                <Button size = \"l\" stretched\r\n                        level={this.props.DataDeliveryInfo.typeOrderDate ? \"secondary\" : \"commerce\"}\r\n                        onClick={()=>{this.props.DataDeliveryInfo.setTypeOrderDate(false);}}\r\n                >\r\n                    Ко времени\r\n                </Button>\r\n            </Div>\r\n        );\r\n    }\r\n\r\n\r\n    getPreorderBlock(){\r\n        return(\r\n            <Group\r\n                title=\"Время получение заказа\"\r\n            >\r\n                {this.getButtonTypeOrder()}\r\n                {\r\n                    this.props.DataDeliveryInfo.typeOrderDate\r\n                        ?\r\n                        <NoPreorder\r\n                            typeDelivery={this.props.DataDeliveryInfo.checkedTypeDilivery}\r\n                        />\r\n                        :\r\n                        <Preorder\r\n                            DataInfos={this.props.DataDeliveryInfo}\r\n                            setStates={this.props.setStates.bind(this)}\r\n                            key=\"Preorders\"\r\n                        />\r\n                }\r\n            </Group>\r\n        );\r\n    }\r\n\r\n    getInfoUserAuth(){\r\n        //console.log('По дефолту адрес ',this.props.addressDefault)\r\n        return(\r\n            <div>\r\n                {this.getButtonTypeDilivery()}\r\n                {this.props.checkedTypeDilivery === 0 ?\r\n                    this.getListAddress()\r\n                    :\r\n                    this.getListAffiliate()\r\n                }\r\n                {this.getPreorderBlock()}\r\n                {this.getCountPersonInput()}\r\n                {this.getCommentsTextarea()}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    getNoneCartProduct(){\r\n        return(\r\n            <Placeholder\r\n                icon={<Icon56ErrorOutline />}\r\n                action={false}\r\n\r\n            >\r\n                <h2>В корзине отсутствуют товары</h2>\r\n                <p>Для совершения заказа, нужно положить хотябы 1 товар в корзину!</p>\r\n            </Placeholder>\r\n        );\r\n    }\r\n\r\n\r\n    getListAddress(){\r\n        //console.log(this.state.showBTNNewAddress);\r\n        return(\r\n            <Group\r\n                className=\"GroupBlockListAddress\"\r\n                title=\"Адреса доставки\"\r\n                   description={this.state.showBTNNewAddress ?\r\n                       <Button\r\n                           size=\"l\"\r\n                           level=\"secondary\"\r\n                           style={{ background: '#FF7300',color:\"#FFFFFF\" }}\r\n                           // onClick={()=>{this.setState({showFormNewAddress:true})}}\r\n                           onClick={()=>{\r\n                               this.props.showModal('MODAL_NEWADDRESS');\r\n                           }}\r\n                       >Добавить адрес</Button>\r\n                       :\r\n                       \"\"}\r\n            >\r\n                <DiliveryAddress\r\n                    userInfo={this.props.userInfo}\r\n                    addressDefault={this.props.addressDefault}\r\n                    setAddressDefault={this.props.setAddressDefault.bind(this)}\r\n                    setPopout={this.props.setPopout.bind(this)}\r\n                    setShowBTNNewAddress={this.setState.bind(this)}\r\n                    showFormNewAddress={this.state.showFormNewAddress}\r\n                    setStates={this.props.setStates.bind(this)}\r\n                    setDeliveryDataItogs={this.props.setDeliveryDataItogs.bind(this)}\r\n\r\n                    showModals={this.props.showModal.bind(this)}\r\n                    hideModals={this.props.hideModals.bind(this)}\r\n                />\r\n            </Group>\r\n        );\r\n    }\r\n\r\n    getListAffiliate(){\r\n        return (\r\n            <Group title=\"Адреса самовывоза\">\r\n            <AffiliateList\r\n                userInfo={this.props.userInfo}\r\n                AffiliateDefault={this.props.AffiliateDefault}\r\n                setAffiliateDefault={this.props.setAffiliateDefault.bind(this)}\r\n                getDeliveryDataPriceItogAffiliate={this.props.getDeliveryDataPriceItogAffiliate.bind(this)}\r\n                setStates={this.props.setStates.bind(this)}\r\n            />\r\n            </Group>\r\n        );\r\n    }\r\n\r\n    getCommentsTextarea () {\r\n        return (\r\n            <Group title=\"Комментарий к заказу\">\r\n                <Div>\r\n                <Textarea value={this.props.commentary} onChange={this.getCommentsData.bind(this)} placeholder=\"Ваш комментарий\"/>\r\n                </Div>\r\n            </Group>\r\n        );\r\n    }\r\n\r\n    getOkListAddress(Param){\r\n        return(\r\n            Param <=0 ? this.getNoneCartProduct() : this.getInfoUserAuth()\r\n        )\r\n    }\r\n\r\n    render(){\r\n\r\n        return(\r\n            <div>\r\n                {this.props.userSystemInfo.error === true &&\r\n                    this.getInfoUserNoneAuth()\r\n                }\r\n\r\n                {this.props.userSystemInfo.error === false &&\r\n                    this.getOkListAddress(this.props.ProductList.length)\r\n                }\r\n\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\nexport default Dilivery;","import React, { useState, useEffect } from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport {Div,Input,FormLayout,FormLayoutGroup,Button,Snackbar,Avatar, View, Panel, PanelHeader, Group, CellButton, HeaderButton, platform, IOS, Tooltip } from '@vkontakte/vkui';\r\nimport axios from \"axios\";\r\nimport GetOneAddress from \"./GetOneAddress\";\r\nimport GetOneAddressOff from \"./GetOneAddressOff\";\r\nimport OneProduct from \"../catalog/OneProduct\";\r\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\r\n\r\nimport FormNewAddress from './FormNewAddress';\r\n\r\nclass DiliveryAddress extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            listAddress:[],\r\n            listAddressOff:[],\r\n            addressOk:false,\r\n            dataAddress:\"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAddressUserSystem();\r\n        this.props.setStates({formNewAddressData: <FormNewAddress setPopout={this.props.setPopout.bind(this)} userInfo={this.props.userInfo} getAddressUserSystem={this.getAddressUserSystem.bind(this)} setAddressDefault={this.props.setAddressDefault.bind(this)} hideModals={this.props.hideModals.bind(this)} />});\r\n    }\r\n\r\n    setAddressEdit(e){\r\n        //console.log(this.state.listAddress);\r\n        this.props.setStates({formEditAddressData: <FormNewAddress AddressEdit={this.state.listAddress[e]} setPopout={this.props.setPopout.bind(this)} userInfo={this.props.userInfo} getAddressUserSystem={this.getAddressUserSystem.bind(this)} setAddressDefault={this.props.setAddressDefault.bind(this)} hideModals={this.props.hideModals.bind(this)} />});\r\n        this.props.showModals('MODAL_EditADDRESS');\r\n    }\r\n\r\n\r\n    getAddressUserSystem(delUpdate = false){\r\n        axios('https://суши-тайм.рф/api/getAddressUser&apiKey='+global.ApiKey+'',\r\n            {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n                data: {\r\n                    id_UserVK: this.props.userInfo.id,\r\n                },\r\n                responseType:'text'\r\n            })\r\n            .then(({ data }) => {\r\n                if(\"error\" in data){\r\n                    console.log(data.error,'|',data.errorInfo);\r\n                    if(data.error === 'Address not found'){\r\n                        console.log('Нужно вывести форму для создания первого адреса пользователя');\r\n                        this.getFormNewAddress();\r\n                    }else{\r\n\r\n                    }\r\n                }else{\r\n                   // console.log(data);\r\n                    this.setState({listAddress:data.listAddress});\r\n                    this.props.setStates({listAddressGlobal:data.listAddress});\r\n\r\n                    this.setState({listAddressOff:data.ListAddressNoDelivery});\r\n                    this.props.setStates({listAddressGlobalOff:data.ListAddressNoDelivery});\r\n\r\n                    if(delUpdate === true){\r\n                        this.getAddressUsers(this.state.listAddress,true);\r\n                    }else{\r\n                        this.getAddressUsers(this.state.listAddress);\r\n                    }\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"ERROR: ---Запрос Адресов---  \",err);\r\n            });\r\n    }\r\n\r\n\r\n    setAddressInfoUsers(e,type=0){\r\n            if (type === 0) {\r\n                var listAddressU = Object.keys(this.state.listAddress);\r\n                if(listAddressU.length > 0) {\r\n                    // console.log(listAddressU,\"Адреса после обработки\");\r\n\r\n                    // console.log('Установим данные для адреса ',this.state.listAddress[listAddressU[0]].diliveryData.priceDilivery);\r\n\r\n                    var DataSetAddress = this.state.listAddress[listAddressU[e]];\r\n                    this.props.setStates({\r\n                        addressOrderInfoUser: 'г. ' + DataSetAddress.city + ', ул. ' + DataSetAddress.street + ', д. ' + DataSetAddress.home\r\n                    });\r\n                }\r\n            }\r\n    }\r\n\r\n    getFormNewAddress(){\r\n        this.props.setAddressDefault(null);\r\n        this.state.dataAddress = <FormNewAddress setPopout={this.props.setPopout.bind(this)} userInfo={this.props.userInfo} getAddressUserSystem={this.getAddressUserSystem.bind(this)} setAddressDefault={this.props.setAddressDefault.bind(this)}/>;\r\n        this.setState({addressOk:true});\r\n        this.props.setShowBTNNewAddress({showBTNNewAddress:false});\r\n\r\n    }\r\n\r\n    setDataDiliveryPrice(n,ee = 'Дефолт 0'){\r\n        var listAddressU = Object.keys(this.state.listAddress);\r\n        // console.log(listAddressU,\"Адреса после обработки\");\r\n\r\n        // console.log('Установим данные для адреса ',this.state.listAddress[listAddressU[0]].diliveryData.priceDilivery);\r\n\r\n        if(listAddressU.length <= 0){\r\n            console.log('Адресов нет, должны вернуть только не доступные адреса');\r\n            this.props.setAddressDefault(null);\r\n            //return this.getAddressUsers(this.state.listAddress, true);\r\n        }else {\r\n            if (listAddressU[n] in this.state.listAddress) {\r\n                //console.log('Все ок, продолжаем по адресам');\r\n            } else {\r\n               // console.log('Адреса такого нет, ставим в дефаулт');\r\n                this.props.setAddressDefault(0);\r\n               // console.log('Должны переустановить дефаултный адрес на 0, адреса есть');\r\n                return this.getAddressUsers(this.state.listAddress, true);\r\n            }\r\n        }\r\n\r\n        if(listAddressU.length <= 0){\r\n           // console.log('Адресов нет, но продолжаем');\r\n           //  console.log('Установили значения стоимости доставки ', ee);\r\n        }else {\r\n            var DataSetAddress = this.state.listAddress[listAddressU[n]].diliveryData;\r\n            this.props.setStates({\r\n                priceDelivery: DataSetAddress.priceDilivery,\r\n                minSumOrder: DataSetAddress.min_sum_order,\r\n                minSumFreeDelivery: DataSetAddress.min_sum_free_dilivery\r\n            });\r\n           // console.log('Установили значения стоимости доставки ', ee);\r\n        }\r\n\r\n    }\r\n\r\n    getAddressUsers(listAddress,delUpdate = false) {\r\n        if(this.props.addressDefault === null & Object.keys(listAddress).length > 0){\r\n          //  console.log('Устанавливаем дефаултное значение адреса на 0','Длинна массива ',Object.keys(listAddress).length);\r\n            this.props.setAddressDefault(0);\r\n            this.setDataDiliveryPrice(0);\r\n            this.props.setDeliveryDataItogs();\r\n            this.setAddressInfoUsers(this.props.addressDefault);\r\n        }\r\n\r\n        if(this.props.addressDefault !== null & Object.keys(listAddress).length <= 0){\r\n           // console.log('Устанавливаем дефаултное значение адреса на 0 с условием что адресов нет','Длинна массива ',Object.keys(listAddress).length);\r\n            this.props.setAddressDefault(null);\r\n            this.setDataDiliveryPrice(0);\r\n        }\r\n\r\n        if(delUpdate === true){\r\n           // console.log('Устанавливаем дефаултное значение адреса на 0');\r\n            this.props.setAddressDefault(0);\r\n            this.getAddressUsers(listAddress,false);\r\n            this.setDataDiliveryPrice(0);\r\n            this.props.setDeliveryDataItogs();\r\n            this.setAddressInfoUsers(this.props.addressDefault);\r\n        }else{\r\n            this.state.dataAddress = Object.keys(listAddress).map((dataAddress, keyId) =>\r\n                <GetOneAddress\r\n                    setAddressInfoUsers={this.setAddressInfoUsers.bind(this)}\r\n                    setDeliveryDataItogs={this.props.setDeliveryDataItogs.bind(this)}\r\n                    setDataDeliveryPrice={this.setDataDiliveryPrice.bind(this)}\r\n                    getAddressUserSystem={this.getAddressUserSystem.bind(this)}\r\n                    setPopout={this.props.setPopout.bind(this)}\r\n                    userInfo={this.props.userInfo}\r\n                    setAddressEdit={this.setAddressEdit.bind(this)}\r\n                    key={'Address_'+keyId}\r\n                    AddresInfo={listAddress[dataAddress]}\r\n                    NumberAddress={keyId}\r\n                    addressDefault={this.props.addressDefault}\r\n                    setAddressDefault={this.props.setAddressDefault.bind(this)}\r\n                />\r\n            );\r\n\r\n            this.state.dataAddressOff = Object.keys(this.state.listAddressOff).map((dataAddress2, keyId2) =>\r\n                <GetOneAddressOff\r\n                    setAddressInfoUsers={this.setAddressInfoUsers.bind(this)}\r\n                    setDeliveryDataItogs={this.props.setDeliveryDataItogs.bind(this)}\r\n                    setDataDeliveryPrice={this.setDataDiliveryPrice.bind(this)}\r\n                    getAddressUserSystem={this.getAddressUserSystem.bind(this)}\r\n                    setPopout={this.props.setPopout.bind(this)}\r\n                    userInfo={this.props.userInfo}\r\n                    setAddressEdit={this.setAddressEdit.bind(this)}\r\n                    key={'Address_'+keyId2}\r\n                    AddresInfo={this.state.listAddressOff[dataAddress2]}\r\n                    NumberAddress={keyId2}\r\n                    addressDefault={this.props.addressDefault}\r\n                    setAddressDefault={this.props.setAddressDefault.bind(this)}\r\n                />\r\n            );\r\n            this.setState({addressOk:true});\r\n            this.props.setShowBTNNewAddress({showBTNNewAddress:true});\r\n            this.setDataDiliveryPrice(this.props.addressDefault, 'На '+this.props.addressDefault);\r\n            this.props.setDeliveryDataItogs();\r\n            this.setAddressInfoUsers(this.props.addressDefault);\r\n        }\r\n\r\n    }\r\n\r\n    getListAddressVisual(){\r\n        return(\r\n            <div>\r\n                {this.state.dataAddress}\r\n                {this.state.dataAddressOff}\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    render() {\r\n        return (this.state.addressOk === false ? <div>Загрузка адресов доставки <ScreenSpinner/></div> : this.getListAddressVisual()\r\n            );\r\n    };\r\n}\r\n\r\nexport default DiliveryAddress;","import React, { useState, useEffect } from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport {Alert,Div,Radio,Input,FormLayout,FormLayoutGroup,Button,Snackbar,Avatar, View, Panel, PanelHeader, Group, CellButton, HeaderButton, platform, IOS, Tooltip } from '@vkontakte/vkui';\r\nimport Icon28EditOutline from '@vkontakte/icons/dist/28/edit_outline';\r\nimport Icon28CancelCircleOutline from '@vkontakte/icons/dist/28/cancel_circle_outline';\r\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\r\nimport axios from \"axios\";\r\n\r\nclass GetOneAddress extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            AddressN:''\r\n        }\r\n\r\n        this.closePopout = this.closePopout.bind(this);\r\n    }\r\n\r\n    getAddressTitle(){\r\n        var title = '';\r\n\r\n        if(this.props.AddresInfo.comment !== ''){\r\n            title = this.props.AddresInfo.comment;\r\n        }else{\r\n            title = <span>{this.props.AddresInfo.street} {this.props.AddresInfo.home}</span>;\r\n        }\r\n\r\n        return(\r\n            <span>\r\n                {title}\r\n            </span>\r\n        );\r\n    }\r\n\r\n    deletedAddress(a){\r\n            this.props.setPopout({ popout:<ScreenSpinner />});\r\n\r\n            axios('https://суши-тайм.рф/api/deletedAddressUser&apiKey='+global.ApiKey+'',\r\n                {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n                    data: {\r\n                        addressInfo:{id:a},\r\n                        idUserVK:this.props.userInfo.id\r\n                    },\r\n                    responseType:'text'\r\n                })\r\n                .then(({ data }) => {\r\n                    if(\"error\" in data){\r\n                        console.log(data.error,'|',data.errorInfo);\r\n                    }else{\r\n                        if(data.result.result_add === true){\r\n                            this.props.setAddressDefault('del');\r\n                           // console.log('Обновляем адреса',data);\r\n                            this.props.getAddressUserSystem(true);\r\n                            this.props.setPopout({ popout:null});\r\n                        }else{\r\n                            console.log('Ошибка ',data);\r\n                        }\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.log(\"ERROR: ---Запрос Новый Адрес---  \",err);\r\n                });\r\n    }\r\n\r\n    closePopout () {\r\n        this.props.setPopout({ popout: null });\r\n    }\r\n\r\n\r\n    openDefault (a) {\r\n        this.props.setPopout({ popout:\r\n                <Alert\r\n                    actions={[{\r\n                        title: 'Отмена',\r\n                        autoclose: true,\r\n                        style: 'cancel'\r\n                    }, {\r\n                        title: 'Удалить',\r\n                        autoclose: true,\r\n                        action: () => this.deletedAddress(a),\r\n                    }]}\r\n                    onClose={this.closePopout}\r\n                >\r\n                    <h2>Удаление адреса</h2>\r\n                    <p>Вы уверены что хотите удалить адрес?</p>\r\n                </Alert>\r\n        });\r\n    }\r\n\r\n\r\n    getAddressFull(n){\r\n        return(<div>\r\n                <span style={{width:\"75%\",float:\"left\"}}>\r\n                 г. {this.props.AddresInfo.city}, ул. {this.props.AddresInfo.street}, д. {this.props.AddresInfo.home}, подъезд {this.props.AddresInfo.podezd}, этаж {this.props.AddresInfo.etaj}, кв. {this.props.AddresInfo.kvartira}\r\n                </span>\r\n                <span style={{width:\"24%\",float:\"right\"}}><Icon28EditOutline\r\n                    onClick={\r\n                        ()=>{\r\n                            // console.log('Редактируем адрес ',n);\r\n                            this.props.setAddressEdit(this.props.AddresInfo.id);\r\n                        }\r\n                    }\r\n                    style={{float:\"left\",marginRight:\"10px\"}}/> <Icon28CancelCircleOutline style={{float:\"left\"}}\r\n                                                                                           onClick={\r\n                                                                                               ()=>{\r\n                                                                                                   // console.log('Удаляем адрес ');\r\n                                                                                                   this.openDefault(this.props.AddresInfo.id);\r\n                                                                                               }\r\n                                                                                           }\r\n                /></span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    defaultCheckedR(e,n){\r\n        if(e === n){\r\n            return (\r\n                <Radio name=\"DiliveryAddress\" value={this.props.AddresInfo.id} description={this.getAddressFull(n)} defaultChecked onClick={() => {this.props.setAddressDefault(n);this.props.setDataDeliveryPrice(n,'На нужный');this.props.setDeliveryDataItogs();this.props.setAddressInfoUsers(n);}}>{this.getAddressTitle()}</Radio>\r\n            );\r\n        }else{\r\n            return(\r\n                <Radio name=\"DiliveryAddress\" value={this.props.AddresInfo.id} description={this.getAddressFull(n)} onClick={() => {this.props.setAddressDefault(n);this.props.setDataDeliveryPrice(n, 'На нужный');this.props.setDeliveryDataItogs();this.props.setAddressInfoUsers(n);}}>{this.getAddressTitle()}</Radio>\r\n            );\r\n        }\r\n    }\r\n\r\n    render(){\r\n\r\n        return(\r\n            this.defaultCheckedR(this.props.addressDefault,this.props.NumberAddress)\r\n        );\r\n    };\r\n}\r\n\r\nexport default GetOneAddress;","import React, { useState, useEffect } from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport {Alert,Div,Radio,Input,FormLayout,FormLayoutGroup,Button,Snackbar,Avatar, View, Panel, PanelHeader, Group, CellButton, HeaderButton, platform, IOS, Tooltip } from '@vkontakte/vkui';\r\nimport Icon28EditOutline from '@vkontakte/icons/dist/28/edit_outline';\r\nimport Icon28CancelCircleOutline from '@vkontakte/icons/dist/28/cancel_circle_outline';\r\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\r\nimport axios from \"axios\";\r\n\r\nclass GetOneAddressOff extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            AddressN:''\r\n        }\r\n\r\n        this.closePopout = this.closePopout.bind(this);\r\n    }\r\n\r\n    getAddressTitle(){\r\n        var title = '';\r\n\r\n        if(this.props.AddresInfo.comment !== ''){\r\n            title = this.props.AddresInfo.comment;\r\n        }else{\r\n            title = <span>{this.props.AddresInfo.street} {this.props.AddresInfo.home}</span>;\r\n        }\r\n\r\n        return(\r\n            <span>\r\n                {title}\r\n            </span>\r\n        );\r\n    }\r\n\r\n    deletedAddress(a){\r\n        this.props.setPopout({ popout:<ScreenSpinner />});\r\n\r\n        axios('https://суши-тайм.рф/api/deletedAddressUser&apiKey='+global.ApiKey+'',\r\n            {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n                data: {\r\n                    addressInfo:{id:a},\r\n                    idUserVK:this.props.userInfo.id\r\n                },\r\n                responseType:'text'\r\n            })\r\n            .then(({ data }) => {\r\n                if(\"error\" in data){\r\n                    console.log(data.error,'|',data.errorInfo);\r\n                }else{\r\n                    if(data.result.result_add === true){\r\n                        this.props.setAddressDefault('del');\r\n                        //console.log('Обновляем адреса',data);\r\n                        this.props.getAddressUserSystem(true);\r\n                        this.props.setPopout({ popout:null});\r\n                    }else{\r\n                        console.log('Ошибка ',data);\r\n                    }\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"ERROR: ---Запрос Новый Адрес---  \",err);\r\n            });\r\n    }\r\n\r\n    closePopout () {\r\n        this.props.setPopout({ popout: null });\r\n    }\r\n\r\n\r\n    defaultCheckedR(e,n){\r\n        if(e === n){\r\n            return (\r\n                <Radio disabled name=\"DiliveryAddress\" value={this.props.AddresInfo.id} description={'К сожалению мы не можем осуществить доставку на этот адрес.'} >{this.getAddressTitle()}</Radio>\r\n            );\r\n        }else{\r\n            return(\r\n                <Radio disabled name=\"DiliveryAddress\" value={this.props.AddresInfo.id} description={'К сожалению мы не можем осуществить доставку на этот адрес.'} >{this.getAddressTitle()}</Radio>\r\n            );\r\n        }\r\n    }\r\n\r\n    render(){\r\n\r\n        return(\r\n            this.defaultCheckedR(this.props.addressDefault,this.props.NumberAddress)\r\n        );\r\n    };\r\n}\r\n\r\nexport default GetOneAddressOff;","import React, { useState, useEffect } from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport {Div,Input,FormLayout,FormLayoutGroup,Button,Snackbar,Avatar, View, Panel, PanelHeader, Group, CellButton, HeaderButton, platform, IOS, Tooltip } from '@vkontakte/vkui';\r\nimport axios from \"axios\";\r\nimport GetOneAffiliateAddress from \"./GetOneAffiliateAddress\";\r\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\r\n\r\nclass AffiliateList extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            listAffiliate:[],\r\n            addressAffiliateOk:false,\r\n            dataAffiliate:\"\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios('https://суши-тайм.рф/api/getAffiliate&apiKey='+global.ApiKey+'',\r\n            {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n                data: {\r\n                    id_City: 1,\r\n                    id_UserVK:this.props.userInfo.id\r\n                },\r\n                responseType:'text'\r\n            })\r\n            .then(({ data }) => {\r\n                if(\"error\" in data){\r\n                    console.log(data.error,'|',data.errorInfo,'Самовывоз');\r\n                }else{\r\n                    //console.log(data,'Самовывоз');\r\n                    if(Object.keys(data.listOffAffiliate).length>0){\r\n                       // console.log('Есть запрещенные точки, проводим цикл');\r\n                        Object.keys(data.listOffAffiliate).map((datas,keys)=>\r\n                            {\r\n                                if(this.props.AffiliateDefault === keys){\r\n                                    //console.log('Точка самовывоза по умолчанию совпадает с запрещенной, ставим нуль ', keys);\r\n                                    this.props.setAffiliateDefault(0);\r\n                                }else{\r\n                                   // console.log('Точка по умолчанию не совпадает с запрещенной, ничего не делаем ',keys);\r\n                                }\r\n                            }\r\n                        );\r\n                        this.setState({listAffiliate:data.list});\r\n                        this.getAddressAffiliate(this.state.listAffiliate);\r\n                        this.props.setStates({listAffiliateGlobal:data.list});\r\n                    }else{\r\n                        this.setState({listAffiliate:data.list});\r\n                        this.getAddressAffiliate(this.state.listAffiliate);\r\n                        this.props.setStates({listAffiliateGlobal:data.list});\r\n                    }\r\n\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"ERROR: ---Запрос Адресов---  \",err);\r\n            });\r\n    }\r\n\r\n    setAddressInfoUsers(e,type=1){\r\n        if(type===1){\r\n            var listAddressU = Object.keys(this.state.listAffiliate);\r\n            // console.log(listAddressU,\"Адреса после обработки\");\r\n\r\n            // console.log('Установим данные для адреса ',this.state.listAddress[listAddressU[0]].diliveryData.priceDilivery);\r\n\r\n            var DataSetAddress = this.state.listAffiliate[listAddressU[e]];\r\n            this.props.setStates({\r\n                addressOrderInfoUser: DataSetAddress.title\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n    getAddressAffiliate(listAddress) {\r\n        this.props.getDeliveryDataPriceItogAffiliate();\r\n        this.setAddressInfoUsers(this.props.AffiliateDefault);\r\n        this.state.dataAffiliate = Object.keys(listAddress).map((dataAffiliate, keyId) =>\r\n            <GetOneAffiliateAddress\r\n                key={'Affiliate_'+keyId}\r\n                AddresInfo={listAddress[dataAffiliate]}\r\n                NumberAddress={keyId}\r\n                AffiliateDefault={this.props.AffiliateDefault}\r\n                setAffiliateDefault={this.props.setAffiliateDefault.bind(this)}\r\n                setAddressInfoUsers={this.setAddressInfoUsers.bind(this)}\r\n            />\r\n        );\r\n       this.setState({addressAffiliateOk:true});\r\n        //this.state.addressOk:true;\r\n        //return ArrayPr;\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            this.state.addressAffiliateOk === false ? <div><h3>Ареса самовывоза</h3> <ScreenSpinner/> <p></p></div> : this.state.dataAffiliate\r\n        );\r\n    };\r\n}\r\n\r\nexport default AffiliateList;","import React, { useState, useEffect } from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport {Div,Radio,Input,FormLayout,FormLayoutGroup,Button,Snackbar,Avatar, View, Panel, PanelHeader, Group, CellButton, HeaderButton, platform, IOS, Tooltip } from '@vkontakte/vkui';\r\n\r\nclass GetOneAffiliateAddress extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            AddressN:''\r\n        }\r\n    }\r\n\r\n    getAddressTitle(){\r\n        return(\r\n            <span>\r\n               {this.props.AddresInfo.title}\r\n            </span>\r\n        );\r\n    }\r\n\r\n    getAddressFull(){\r\n        return(\r\n            <span style={{\"color\":\"#ffae6b\"}} dangerouslySetInnerHTML={{__html: this.props.AddresInfo.operating_mode}}>\r\n\r\n            </span>\r\n        );\r\n    }\r\n\r\n    defaultCheckedR(e,n){\r\n        if(e === n){\r\n            return (\r\n                <Radio\r\n                    name=\"AffiliateAddress\"\r\n                    value={this.props.AddresInfo.id}\r\n                    description={this.getAddressFull()}\r\n                    defaultChecked onClick={() => {\r\n                        this.props.setAffiliateDefault(n);\r\n                    ;this.props.setAddressInfoUsers(n);\r\n                    }\r\n                    }\r\n                >{\r\n                    this.getAddressTitle()\r\n                }\r\n                </Radio>\r\n            );\r\n        }else{\r\n            return(\r\n                <Radio\r\n                    name=\"AffiliateAddress\"\r\n                    value={this.props.AddresInfo.id}\r\n                    description={this.getAddressFull()}\r\n                    onClick={() => {\r\n                        this.props.setAffiliateDefault(n)}\r\n                    }\r\n                >{\r\n                    this.getAddressTitle()\r\n                }\r\n                </Radio>\r\n            );\r\n        }\r\n    }\r\n\r\n    render(){\r\n\r\n        return(\r\n            this.defaultCheckedR(this.props.AffiliateDefault,this.props.NumberAddress)\r\n        );\r\n    };\r\n}\r\n\r\nexport default GetOneAffiliateAddress;","import React from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport {Div, Group, List,Cell, Switch, Select, FormLayout} from '@vkontakte/vkui/';\r\nimport axios from \"axios\";\r\n\r\n\r\nclass Preorder extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loadBlockPreorder:false,\r\n            listDatePreorder:[],\r\n            SelectDatePreorder:null,\r\n            SelectTimePreorder:null\r\n        }\r\n\r\n        this.onChangeS = this.onChangeS.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({loadBlockPreorder:true});\r\n        this.getDateList();\r\n        this.setState({\r\n            SelectDatePreorder:this.props.DataInfos.SelectDatePreorder,\r\n            SelectTimePreorder:this.props.DataInfos.SelectTimePreorder\r\n        });\r\n        console.log(this.props.DataInfos.SelectDatePreorder);\r\n    }\r\n\r\n    getDateList(){\r\n        axios('https://суши-тайм.рф/api/getPreorderDate&apiKey='+global.ApiKey+'',\r\n            {\r\n                method: 'GET',\r\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n                data: {\r\n                },\r\n                responseType:'text'\r\n            })\r\n            .then(({ data }) => {\r\n                if(\"error\" in data){\r\n                    console.log(data.error,'|',data.errorInfo);\r\n                }else{\r\n                    this.setState({listDatePreorder:data.list});\r\n                    console.log(data.list);\r\n                }\r\n            })\r\n            .catch(({err}) => {\r\n                console.log(\"ERROR: ---Запрос СМС---  \",err);\r\n            });\r\n    }\r\n\r\n    onChangeS(e) {\r\n        const { name, value } = e.currentTarget;\r\n        // if((value === null || value === '') & name === 'city'){}else {\r\n        //     this.setState({[name]: value});\r\n        // }\r\n        this.setState({[name]: value});\r\n        this.props.setStates({[name]: value});\r\n        if(name === 'SelectDatePreorder'){\r\n            this.setState({SelectTimePreorder: null});\r\n            this.props.setStates({SelectTimePreorder: null});\r\n        }\r\n        //console.log(this.state);\r\n    }\r\n\r\n    getSelectDate(){\r\n        const ListDate = Object.keys(this.state.listDatePreorder).map((data,n)=>{\r\n            return(\r\n                <option key={data+\"preorderDates\"} value={data}>{this.state.listDatePreorder[data].title}</option>\r\n            );\r\n        });\r\n        return (\r\n            <div>\r\n            <Cell>\r\n                <Select\r\n                    top=\"Дата получения заказа\"\r\n                    key=\"datePreorder\"\r\n                    placeholder=\"Дата получения\"\r\n                    name=\"SelectDatePreorder\"\r\n                    onChange={this.onChangeS}\r\n                    defaultValue={this.props.DataInfos.SelectDatePreorder}\r\n            >{ListDate}</Select>\r\n            </Cell>\r\n            <Cell>\r\n                {this.getSelectTime()}\r\n            </Cell>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    getSelectTime(){\r\n        if(this.state.SelectDatePreorder in this.state.listDatePreorder) {\r\n            var ListTimes = this.state.listDatePreorder[this.state.SelectDatePreorder].timeList;\r\n            const ListTime = Object.keys(ListTimes).map((times, n) => {\r\n                if(ListTimes[times].false === true){\r\n                    return ('');\r\n                }else {\r\n                    return (\r\n                        <option key={times + \"preorderTimes\"}\r\n                                value={times}\r\n                        >\r\n                            {ListTimes[times].title}\r\n                        </option>\r\n                    );\r\n                }\r\n            });\r\n            return (\r\n                    <Select\r\n                    top=\"Время получения заказа\"\r\n                    key=\"datePreorderTime\"\r\n                    placeholder=\"Время получения\"\r\n                    name=\"SelectTimePreorder\"\r\n                    onChange={this.onChangeS}\r\n                    defaultValue={this.props.DataInfos.SelectTimePreorder}\r\n                >{ListTime}</Select>\r\n            );\r\n        }else{\r\n            return ('');\r\n        }\r\n    }\r\n\r\n    getBlockPreorder(){\r\n        return(\r\n                <Div key=\"DivPreorder\">\r\n                    {\r\n                        this.state.loadBlockPreorder ?\r\n                            this.getSelectDate()\r\n                            :\r\n                            \"Загрузка блока выбора даты\"\r\n                    }\r\n                </Div>\r\n        );\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            this.getBlockPreorder()\r\n        );\r\n    }\r\n}\r\nexport default Preorder;\r\n","import React from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport {Div, Group, List,Cell, Switch} from '@vkontakte/vkui/';\r\nimport Icon24Place from '@vkontakte/icons/dist/24/place';\r\nimport Icon24Recent from '@vkontakte/icons/dist/24/recent';\r\n\r\n\r\nclass NoPreorder extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loadBlockOrder:false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({loadBlockOrder:true});\r\n    }\r\n\r\n    getBlocknoPreorder(){\r\n        return(\r\n                <Cell\r\n                    before={<Icon24Recent />}\r\n                    style={{paddingBottom:\"10px\"}}\r\n                >\r\n                    {\r\n                        this.state.loadBlockOrder ?\r\n                            <div>{this.props.typeDelivery ? \"Забрать в ближайшее время\" : \"Доставить в ближайшее время\"}</div>\r\n                            :\r\n                            \"Загрузка блока выбора даты\"\r\n                    }\r\n                </Cell>\r\n        );\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            this.getBlocknoPreorder()\r\n        );\r\n    }\r\n}\r\nexport default NoPreorder;\r\n","import React, { useState, useEffect } from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport {Div,Radio, Input,FormLayout,Group,Button, List, Cell, Snackbar,Avatar,Textarea, View, Panel, PanelHeader, CellButton, HeaderButton, platform, IOS, Tooltip, Slider, Select, Placeholder } from '@vkontakte/vkui';\r\nimport axios from \"axios\";\r\nimport Icon56ErrorOutline from '@vkontakte/icons/dist/56/error_outline';\r\nimport NewOrderServer from './NewOrderServer';\r\nimport Icon24Coins from '@vkontakte/icons/dist/24/coins';\r\nimport Icon24MoneyCircle from '@vkontakte/icons/dist/24/money_circle';\r\nimport Icon24Info from '@vkontakte/icons/dist/24/info';\r\nimport Icon24Place from '@vkontakte/icons/dist/24/place';\r\nimport Icon24Flash from '@vkontakte/icons/dist/24/flash';\r\n\r\n// import SberbankIPay from 'react-sberbank-ipay';\r\n\r\nclass PaymentsPage extends React.Component{\r\n    constructor (props)\r\n    {\r\n        super(props);\r\n        this.state = {\r\n            SalePoints:this.props.SalePoints,\r\n            value2:0,\r\n            statusNewOrder:'11'\r\n        }\r\n\r\n        this.props.getReloadInfODeliveryPay();\r\n    }\r\n\r\n    setPointsDefaultsSale(SalePoints){\r\n        SalePoints = SalePoints*1;\r\n        this.setState({SalePoints});\r\n        this.props.setStates({SalePoints:SalePoints});\r\n    }\r\n\r\n    options () {\r\n        let options = [];\r\n        for (let i = 0; i <= this.props.userSystemInfo.dataUser.point*1; i += 1) {\r\n            options.push(<option value={`${i}`} key={`${i}`}>{i}</option>)\r\n        }\r\n        return options;\r\n    }\r\n\r\n    getCountsTimeBonus(){\r\n        var points = this.props.userSystemInfo.dataUser.point*1;\r\n        if(points >0){\r\n            return(\r\n                <div>\r\n                        <Div>Доступно таймов для списания: <b>{points}</b></Div>\r\n                    <FormLayout>\r\n                        <Slider\r\n                            step={1}\r\n                            min={0}\r\n                            max={points}\r\n                            value={Number(this.state.SalePoints)}\r\n                            onChange={(SalePoints)=> this.setPointsDefaultsSale(SalePoints)}\r\n                            top=\"Списать в оплату\"\r\n                        />\r\n                        <Select onChange={e => this.setPointsDefaultsSale(e.target.value)} value={String(this.state.SalePoints)}>\r\n                            {this.options()}\r\n                        </Select>\r\n\r\n                    <div style={{display: 'none',justifyContent:'center'}}>\r\n                        <Button size=\"l\" stretched style={{marginRight: 10}}>Выбранное кол-во</Button>\r\n                        <Button size=\"l\" stretched style={{marginLeft: 10}}>Списать все</Button>\r\n                    </div>\r\n                    </FormLayout>\r\n                </div>);\r\n        }else{\r\n            return(<Cell className=\"IconColorOrange\" before={<Icon24Coins />}> К сожалению у Вас <b>0</b> таймов</Cell>);\r\n        }\r\n    }\r\n\r\n\r\n    getPageSberbank(){\r\n        axios('https://arenda.ebee.me/api/testPageSBRPay&apiKey='+global.ApiKey+'',\r\n            {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n                data: {\r\n                },\r\n                responseType:'text'\r\n            })\r\n            .then(({ data }) => {\r\n                if(\"error\" in data){\r\n                    console.log(data.error,'|',data.errorInfo);\r\n                }else{\r\n                    // console.log('Ответ сервера ',data);\r\n                    console.log(data);\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"ERROR: ---Запрос Адресов---  \",err);\r\n            });\r\n    }\r\n\r\n\r\n    getSumCartItogo(){\r\n        var sum = this.props.sumCart-this.props.SalePoints;\r\n        if(this.props.DataDeliveryInfo.DeliveryPriceItog) {\r\n            sum = sum + (this.props.DataDeliveryInfo.priceDelivery * 1);\r\n        }\r\n        if(sum<0){sum = 0;}\r\n        return (sum);\r\n    }\r\n\r\n\r\n    checkMinSummaCart(){\r\n        if(this.props.DataDeliveryInfo.errorOrderFinal){\r\n            return(\r\n                <Placeholder\r\n                    icon={<Icon56ErrorOutline />}\r\n                    action={false}\r\n\r\n                >\r\n                    <h2>Сумма минимального заказа {this.props.DataDeliveryInfo.minSumOrder} рублей</h2>\r\n                    <p>Мы не можем принять Ваш заказ, так как сумма Вашей покупки, меньше необходимой</p>\r\n                </Placeholder>\r\n            );\r\n        }else{\r\n            return(\r\n                this.checkTypeDiliveryInfo()\r\n            );\r\n        }\r\n    }\r\n\r\n    PriceInfoVisual(){\r\n        if(this.props.DataDeliveryInfo.DeliveryPriceItog){\r\n            return(\r\n                <Cell before={<Icon24Info />}> Стоимость доставки: <b>{this.props.DataDeliveryInfo.priceDelivery} ₽</b></Cell>\r\n            );\r\n        }else{\r\n            return('');\r\n        }\r\n    }\r\n\r\n    getAddressDelivery(e){\r\n        if(Object.keys(this.props.DataDeliveryInfo.listAddressGlobal).length>0){\r\n            var listAddressU = Object.keys(this.props.DataDeliveryInfo.listAddressGlobal);\r\n            // console.log(listAddressU,\"Адреса после обработки\");\r\n\r\n            // console.log('Установим данные для адреса ',this.state.listAddress[listAddressU[0]].diliveryData.priceDilivery);\r\n\r\n            var DataSetAddress = this.props.DataDeliveryInfo.listAddressGlobal[listAddressU[e]];\r\n        }else{\r\n            var DataSetAddress = {id:\"error\"}\r\n        }\r\n\r\n        return DataSetAddress;\r\n\r\n    }\r\n\r\n    getAddressAffiliate(e){\r\n        if(Object.keys(this.props.DataDeliveryInfo.listAffiliateGlobal).length>0){\r\n            var listAddressU = Object.keys(this.props.DataDeliveryInfo.listAffiliateGlobal);\r\n            // console.log(listAddressU,\"Адреса после обработки\");\r\n\r\n            // console.log('Установим данные для адреса ',this.state.listAddress[listAddressU[0]].diliveryData.priceDilivery);\r\n\r\n            var DataSetAddress = this.props.DataDeliveryInfo.listAffiliateGlobal[listAddressU[e]];\r\n        }else{\r\n            var DataSetAddress = {id:\"error\"}\r\n        }\r\n\r\n        return DataSetAddress;\r\n\r\n    }\r\n\r\n    getDataOrder(){\r\n        if(this.props.DataDeliveryInfo.typeOrderDate === true) {\r\n            var checkPreorderActive = false;\r\n        }else{\r\n            var checkPreorderActive = true;\r\n        }\r\n        var DataOrder = {};\r\n\r\n        var DataAddressDelivery = this.getAddressDelivery(this.props.DataDeliveryInfo.addressDefault);\r\n        var DataAddressAffiliate = this.getAddressAffiliate(this.props.DataDeliveryInfo.AffiliateDefault);\r\n\r\n        DataOrder.idUserVK = this.props.userInfo.id;\r\n        DataOrder.typeDelivery = this.props.DataDeliveryInfo.checkedTypeDilivery;\r\n        DataOrder.AddressDelivery = {\"Info\":DataAddressDelivery,\"idAddress\":DataAddressDelivery.id};\r\n        DataOrder.idAffiliatePickup = {\"Info\":DataAddressAffiliate,\"idAffiliate\":DataAddressAffiliate.id};\r\n        DataOrder.PointsSale = this.props.SalePoints;\r\n        DataOrder.DeliverySum = this.props.DataDeliveryInfo.DeliveryPriceItog ? this.props.DataDeliveryInfo.priceDelivery : 0;\r\n        DataOrder.Comments = this.props.DataDeliveryInfo.comments;\r\n        DataOrder.DopInfo = this.props.DataDeliveryInfo.commentary;\r\n        DataOrder.typePay = this.props.DataDeliveryInfo.typePay;\r\n        DataOrder.countPerson = this.props.DataDeliveryInfo.countPerson;\r\n        DataOrder.cart = this.props.DataDeliveryInfo.cart;\r\n        DataOrder.DopProductUserSet = this.props.DataDeliveryInfo.DopProductUserSet;\r\n        DataOrder.Preorder = {\"active\":checkPreorderActive,\"datePreorder\":this.props.DataDeliveryInfo.SelectDatePreorder+'T'+this.props.DataDeliveryInfo.SelectTimePreorder};\r\n        DataOrder.giftData = this.props.activeGift;\r\n\r\n        // console.log('Что отправляем на сервер ',DataOrder);\r\n        return DataOrder;\r\n    }\r\n\r\n    getMountsDate(a,b = null){\r\n        if(b){\r\n            a = a+1;\r\n            if(a<10){return '0'+a;}\r\n        }else {\r\n            switch (a) {\r\n                case 0:\r\n                    return 'Января';\r\n                    break;\r\n                case 1 :\r\n                    return 'Февраля';\r\n                    break;\r\n                case 2 :\r\n                    return 'Марта';\r\n                    break;\r\n                case 3 :\r\n                    return 'Апреля';\r\n                    break;\r\n                case 4 :\r\n                    return 'Мая';\r\n                    break;\r\n                case 5 :\r\n                    return 'Июня';\r\n                    break;\r\n                case 6 :\r\n                    return 'Июля';\r\n                    break;\r\n                case 7 :\r\n                    return 'Августа';\r\n                    break;\r\n                case 8 :\r\n                    return 'Сенятбря';\r\n                    break;\r\n                case 9 :\r\n                    return 'Октября';\r\n                    break;\r\n                case 10 :\r\n                    return 'Ноября';\r\n                    break;\r\n                case 11 :\r\n                    return 'Декабря';\r\n                    break;\r\n                default:\r\n                    return a;\r\n            }\r\n        }\r\n    }\r\n\r\n    returnPlaceholderPreorder(a){\r\n        switch(a){\r\n            case true:\r\n                var dateObj = new Date(this.props.DataDeliveryInfo.SelectDatePreorder);\r\n                //var formated_date = dateObj.format(\"dd.mm.YYYY\");\r\n\r\n\r\n                return(<div>\r\n                        <Group title=\"Оплата бонусными баллами\">\r\n                            {this.getCountsTimeBonus()}\r\n\r\n                        </Group>\r\n                        <Group title=\"Итоговые данные по заказу\">\r\n                            <List>\r\n                                <Cell\r\n                                    before={<Icon24Place />}\r\n                                    description={<span>\r\n                                      <i>{this.props.DataDeliveryInfo.addressOrderInfoUser}</i>\r\n                                  </span>}\r\n                                    size=\"l\">\r\n                                    {this.props.checkedTypeDilivery === 0 ? \" Доставка курьером\" : \" Заберу заказ сам\"}\r\n                                </Cell>\r\n                                <Cell\r\n                                before={<Icon24Flash />}\r\n                                description={this.props.DataDeliveryInfo.typeOrderDate ? <i> В ближайшее время</i> :\r\n                                    <i> {dateObj.getDate()+' '+this.getMountsDate(dateObj.getMonth(),false)+' '+dateObj.getUTCFullYear()+'г. к '+this.props.DataDeliveryInfo.SelectTimePreorder}</i>\r\n                                }\r\n                                >\r\n                                    Время получения заказа\r\n                                </Cell>\r\n                                <Cell before={<Icon24Coins />}> Списано таймов: <b>{this.props.SalePoints}</b></Cell>\r\n                                {this.PriceInfoVisual()}\r\n                                <Cell before={<Icon24MoneyCircle />}> К оплате: <b className=\"OrangeColor\">{this.getSumCartItogo()} ₽</b></Cell>\r\n                            </List>\r\n                        </Group>\r\n                        <Group title=\"Способ оплаты\">\r\n                            <List>\r\n                                <Cell>\r\n                                    <Radio name=\"typePayments\" value=\"1\"\r\n                                           description=\"Оплата наличными при получении\"\r\n                                           defaultChecked={this.props.DataDeliveryInfo.typePay === 1 ? true : false}\r\n                                           onClick={() => {this.props.setStates({typePay:1})}}>Наличные</Radio>\r\n                                    <Radio name=\"typePayments\" value='2' description=\"Оплата банковской картой, по терминалу\"\r\n                                           defaultChecked={this.props.DataDeliveryInfo.typePay === 2 ? true : false}\r\n                                           onClick={() => {this.props.setStates({typePay:2})}}>Терминал</Radio>\r\n                                    <Radio name=\"typePayments\" value='2' description=\"Оплата банковской картой, онлайн\"\r\n                                           defaultChecked={this.props.DataDeliveryInfo.typePay === 0 ? true : false}\r\n                                           onClick={() => {this.props.setStates({typePay:0})}}>Онлайн</Radio>\r\n\r\n                                </Cell>\r\n                                <Cell>\r\n                                    <Div>\r\n                                        <NewOrderServer setStates={this.setState.bind(this)}\r\n                                                        userInfo={this.props.userInfo}\r\n                                                        DataOrderInfo={this.getDataOrder()}\r\n                                                        getPageOkOrderSet={this.props.setStates.bind(this)}\r\n                                                        setOkNewOrderView={this.props.setOkNewOrderView.bind(this)}\r\n                                                        sumItog={this.getSumCartItogo()}\r\n\r\n                                                        showModalPayment={this.props.showModal.bind(this)}\r\n                                        />\r\n                                    </Div>\r\n                                </Cell>\r\n                            </List>\r\n                        </Group>\r\n                    </div>\r\n                );\r\n                break;\r\n            default:\r\n                return(\r\n                    <Placeholder\r\n                        icon={<Icon56ErrorOutline />}\r\n                        action={<Button size=\"l\" level=\"tertiary\" onClick={()=>{this.props.action({activePanel: \"dilivery\"});}}>Указать вариант получения</Button>}\r\n\r\n                    >\r\n                        <h2>Не указана дата и время получения</h2>\r\n                        <p>Пожалуйста, вернитесь на вкладку \"Оформление\" и укажите дату получения заказа.</p>\r\n                    </Placeholder>\r\n                );\r\n        }\r\n    }\r\n\r\n    checkPreorderType(){\r\n        if(this.props.DataDeliveryInfo.typeOrderDate === false) {\r\n            if(this.props.DataDeliveryInfo.SelectDatePreorder === null){\r\n                return this.returnPlaceholderPreorder(false);\r\n            }else{\r\n                if(this.props.DataDeliveryInfo.SelectTimePreorder === null){\r\n                    return this.returnPlaceholderPreorder(false);\r\n                }else{\r\n                    return this.returnPlaceholderPreorder(true);\r\n                }\r\n            }\r\n\r\n        }else{\r\n            return this.returnPlaceholderPreorder(true);\r\n        }\r\n    }\r\n\r\n\r\n    checkTypeDiliveryInfo(){\r\n        if(this.props.checkedTypeDilivery === 0 && this.props.addressDefault === null){\r\n            return(\r\n                <Placeholder\r\n                    icon={<Icon56ErrorOutline />}\r\n                    action={<Button size=\"l\" level=\"tertiary\" onClick={()=>{this.props.action({activePanel: \"dilivery\"});}}>Выбрать адрес</Button>}\r\n\r\n                >\r\n                <h2>Вы не выбрали адрес доставки</h2>\r\n                    <p>Пожалуйста, вернитесь на вкладку \"Оформление\" и укажите адрес доставки, либо адрес точки самовывоза, откуда Вам будет удобно забрать заказ.</p>\r\n                </Placeholder>\r\n\r\n            );\r\n        }else{\r\n            return (this.checkPreorderType());\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            this.checkMinSummaCart()\r\n        );\r\n    }\r\n}\r\n\r\nexport default PaymentsPage;","import React, { useState, useEffect } from 'react';\r\nimport axios from \"axios\";\r\nimport {Div,Radio, Input,FormLayout,Group,Button, List, Cell, Snackbar,Avatar,Textarea, View, Panel, PanelHeader, CellButton, HeaderButton, platform, IOS, Tooltip, Slider, Select, Placeholder } from '@vkontakte/vkui';\r\nimport ym from 'react-yandex-metrika';\r\n\r\nclass NewOrderServer extends React.Component{\r\n\r\n    constructor (props)\r\n    {\r\n        super(props);\r\n        this.state = {\r\n        };\r\n\r\n    }\r\n\r\n    setDataServer(){\r\n        this.props.setStates({statusNewOrder:'Запрос прошел'});\r\n        axios('https://суши-тайм.рф/api/setNewOrder&apiKey='+global.ApiKey+'',\r\n            {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n                data: {\r\n                    idUserVK: this.props.userInfo.id,\r\n                    dataOrder:this.props.DataOrderInfo\r\n                },\r\n                responseType:'text'\r\n            })\r\n            .then(({ data }) => {\r\n                if(\"error\" in data){\r\n                    console.log(data.error,'|',data.errorInfo);\r\n                }else{\r\n                   // console.log('Ответ сервера ',data);\r\n                    if(data.status == \"OK\"){\r\n                        if(data.infoNewOrder.typePayment == '0'){\r\n                            this.props.showModalPayment('MODAL_PAYMENT_FORM');\r\n                            setTimeout(function(){\r\n                                var win = document.getElementById(\"framePayments\");\r\n                                console.log(document.getElementById(\"framePayments\").contentWindow.postMessage({\"idOrder\":data.infoNewOrder.idNewOrder,\"summaPayment\":data.infoNewOrder.sumPaymentItog,idPointsPaymentToken:data.infoNewOrder.idPointsPaymentToken}, \"*\"));\r\n                            },500);\r\n                        }else{\r\n                            this.props.getPageOkOrderSet({newOrderStats:true});\r\n                            this.props.setOkNewOrderView();\r\n                        }\r\n\r\n                        try{\r\n                            if(global.Metrika.Markers[4].active == '1') {\r\n                                ym('reachGoal', global.Metrika.Markers[4].marker);\r\n                            }\r\n                        }catch (e) {\r\n\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"ERROR: ---Запрос Адресов---  \",err);\r\n            });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Button size=\"xl\" onClick={()=>{this.setDataServer()}} className=\"WeightFontBold\">Завершить заказ</Button>\r\n        );\r\n    };\r\n}\r\n\r\nexport default NewOrderServer;","import React, {useEffect,useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport {ButtonEbee} from \"./ButtonEbee\";\r\nrequire('../../panels/global/index.js');\r\n\r\n\r\nexport const ScaleGift = (props)=> {\r\n    let Options = {\r\n        ...{\r\n            title: false,\r\n            bottomLabel: false,\r\n            giftsList:{},\r\n        },\r\n        ...props\r\n    };\r\n\r\n\r\n    const [GiftDataServer,setGiftsList] = useState({});\r\n\r\n\r\n    const getGiftInfo = ()=>{\r\n        axios({\r\n            method:'get',\r\n            url:'https://суши-тайм.рф/api/getGiftsJson&apiKey='+global.ApiKey+global.CityIdSystem,\r\n            responseType:'text'\r\n        }).then(({ data }) => {\r\n            console.log(\"Пришли данные по подаркам для города \",data);\r\n            setGiftsList(data);\r\n        })\r\n            .catch((err) => {\r\n                console.log(\"ERROR: --Установка параметров шкалы подарков----  \",err);\r\n            });\r\n        //setUserSystem(e);\r\n    };\r\n\r\n\r\n    useEffect(()=>{\r\n        getGiftInfo();\r\n    },[])\r\n\r\n\r\n    const sumItogBasket = Options.sumBasket;\r\n    const activeGift = Options.activeGift;\r\n    ////\r\n    //\r\n\r\n    const getSumActiveGift = (sumProduct)=>{\r\n        if(activeGift !== false){\r\n            let MaxValue = activeGift.min_sum;\r\n            let NowValue = MaxValue-sumItogBasket;\r\n\r\n            if(NowValue<=0) {\r\n                return true;\r\n            }else{\r\n                setActiveGift(false);\r\n                return false;\r\n            }\r\n        }else{\r\n\r\n        }\r\n\r\n    };\r\n\r\n    const getWidthScale = ()=>{\r\n        let MinValue = 0;\r\n        let MaxValue = GiftDataServer.settingsScale.max_summa;\r\n        let NowValue = (sumItogBasket*100)/MaxValue;\r\n        if(NowValue>100){NowValue = 100;}\r\n\r\n        // console.log('Число '+sumItogBasket+' от числа '+MaxValue+' составляет '+NowValue);\r\n        return NowValue+\"%\";\r\n    };\r\n\r\n\r\n    const getCountNoSum = ()=>{\r\n        let NoSum = 0;\r\n\r\n        let AllGiftStep = GiftDataServer.ListGift;\r\n\r\n        let NumbersGiftStep = Object.keys(AllGiftStep);\r\n\r\n        NoSum = AllGiftStep[NumbersGiftStep[0]].min_price - sumItogBasket;\r\n\r\n        if(NoSum<0){NoSum = 0;}\r\n\r\n        return NoSum;\r\n    };\r\n\r\n    const setActiveGift = (dataGift)=>{\r\n        if(activeGift !== false) {\r\n            // dispatch(updateActiveGifts(dataGift));\r\n            console.log('Установим активный подарок');\r\n            Options.setActiveGifts(dataGift);\r\n        }\r\n    };\r\n\r\n    const getActiveGiftBlock = ()=>{\r\n        return(\r\n            <div style={{width:\"100%\",        display:\"flex\",\r\n                flexDirection:\"row\",justifyContent:\"center\",alignItems:\"center\",paddingVertical:5,flexWrap:\"wrap\",borderBottomColor:\"#fafafa\",borderBottomWidth:3,borderTop:\"8px solid #eeeeee\"}}>\r\n                <div style={{width:\"95%\",        display:\"flex\",\r\n                    flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\",paddingVertical:5}}>\r\n                    <div style={{}}>\r\n                        <img style={{width:110,height:110}} src={global.URLCite+'/images/tovars/'+activeGift.img} />\r\n                    </div>\r\n                    <div style={{width:\"100%\"}}>\r\n                        <div style={{width:\"100%\",padding:\"10px 0\"}}>\r\n                            <div style={{width:\"100%\",        display:\"flex\",\r\n                                flexDirection:\"row\",justifyContent:\"space-between\",alignItems:\"center\"}}>\r\n                                <div style={{width:\"70%\",textAlign:\"left\",paddingLeft:5}}>\r\n                                    <span style={{fontWeight:\"bold\",fontSize:14}}>{activeGift.title.trim()}</span>\r\n                                </div>\r\n                                <div style={{width:\"25%\",textAlign:\"right\"}}>\r\n                                    <span style={{fontWeight:\"bold\",fontSize:12}}>{activeGift.type_product_text}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <div style={{fontWeight:300,fontSize:12,paddingRight:0,flexWrap:\"wrap\",textAlign:\"left\",paddingTop:15,paddingLeft:5}}>{activeGift.text.trim()}</div>\r\n                            </div>\r\n                        </div>\r\n                        <div style={{width:\"100%\",padding:\"0px 0\"}}>\r\n                            <div style={{fontWeight:300,fontSize:12,paddingRight:0,flexWrap:\"wrap\",padding:\"0 2px\",textAlign:\"left\"}}>Кол-во: {activeGift.count_product}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div style={{flexDirection:\"row\",        display:\"flex\",\r\n                    justifyContent:\"space-between\",alignItems:\"center\",width:\"90%\",padding:\"0 7px\",borderTopColor:\"#eeeeee\",borderTopWidth:1}}>\r\n                    <div style={{}}>\r\n                        <span>Подарок!</span>\r\n                    </div>\r\n                    <div style={{width:120}}>\r\n                        <ButtonEbee\r\n                            onPress={()=>{\r\n                                setActiveGift(false);\r\n                            }}\r\n                            size=\"l\"\r\n                            borderRadius={20}\r\n                            shadow={false}\r\n                            active={true}\r\n                            style={{paddingVertical:8,marginVertical:0}}\r\n                        >\r\n                            Удалить\r\n                        </ButtonEbee>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    };\r\n\r\n\r\n    const getGiftNoSum = ()=>{\r\n\r\n        let NoSum = getCountNoSum();\r\n\r\n        if(NoSum == 0){\r\n            return (\r\n                <div style={styles.textGiftNoSum}>\r\n                    {activeGift !== false ?\r\n                        getActiveGiftBlock()\r\n                        :\r\n                        Options.PromokodeActiveStatus ? <p style={styles.textGiftNoSumText}>Промокоды и подарки не суммируются! <br /> Для того чтобы выбрать подарок, деактивируйте промокод!</p> : <p style={styles.textGiftNoSumText}>Отлично, теперь можно выбрать подарок!</p>}\r\n                </div>\r\n            );\r\n        }else{\r\n            setActiveGift(false);\r\n            return (\r\n                <div style={styles.textGiftNoSum}>\r\n                    {Options.PromokodeActiveStatus ? <p style={styles.textGiftNoSumText}>Промокоды и подарки не суммируются! <br /> Для того чтобы выбрать подарок, деактивируйте промокод!</p> :  <p style={styles.textGiftNoSumText}>Чтобы выбрать подарок к заказу не хватает: {NoSum}₽</p>}\r\n                </div>\r\n            );\r\n        }\r\n\r\n    };\r\n\r\n    const checkActivePromokode =()=>{\r\n        if(Options.PromokodeActiveStatus === true){\r\n            if(activeGift !== false){\r\n                setActiveGift(false);\r\n            }\r\n        }else{\r\n\r\n        }\r\n    };\r\n\r\n    useEffect(()=>{\r\n        getSumActiveGift();\r\n        checkActivePromokode();\r\n    },[sumItogBasket,Options.PromokodeActiveStatus]);\r\n\r\n    const getButtonGift = ()=>{\r\n        let NoSum = getCountNoSum();\r\n        if(NoSum == 0){\r\n            return (\r\n                <div style={styles.ButtonBlock}>\r\n                    {Options.PromokodeActiveStatus ?\r\n                        <ButtonEbee\r\n                            onPress={() => {\r\n                                console.log('Опа опа Подарок не можешь выбери а');\r\n                            }}\r\n                            size=\"l\"\r\n                            borderRadius={20}\r\n                            shadow={false}\r\n                            active={false}\r\n                            style={{color: \"#252722\"}}\r\n\r\n                        >\r\n                            Выбрать\r\n                        </ButtonEbee>\r\n                        :\r\n                        <ButtonEbee\r\n                            onPress={() => {\r\n                                console.log('Опа опа Подарок выбери а');\r\n                                Options.showModal('MODAL_GIFTS');\r\n                            }}\r\n                            size=\"l\"\r\n                            borderRadius={20}\r\n                            shadow={false}\r\n                            style={{color: \"#252527\", backgroundColor: \"#ffffff\"}}\r\n                        >\r\n                            {activeGift !== false ? \"Заменить\" : \"Выбрать\"}\r\n                        </ButtonEbee>\r\n                    }\r\n                </div>\r\n            )\r\n        }else{\r\n            return (\r\n                <div style={styles.ButtonBlock}>\r\n                    <ButtonEbee\r\n                        onPress={()=>{\r\n                            console.log('Опа опа Подарок не можешь выбери а');\r\n                        }}\r\n                        size=\"l\"\r\n                        borderRadius={20}\r\n                        shadow={false}\r\n                        active={false}\r\n                        style={{color:\"#252722\"}}\r\n\r\n                    >\r\n                        Выбрать\r\n                    </ButtonEbee>\r\n                </div>\r\n            )\r\n        }\r\n\r\n    };\r\n\r\n\r\n    if(\"ready\" in GiftDataServer){\r\n        if(GiftDataServer.ready){\r\n            getWidthScale();\r\n            // getGiftNoSum();\r\n            return(\r\n                <div>\r\n                    <div style={{...styles.View,...props.styles}}>\r\n                        <div style={styles.imagePassive}>\r\n                            <div style={{position:\"absolute\",backgroundColor:\"#fafafa\",overflow:\"hidden\",width:getWidthScale()}}>\r\n                                <div  style={styles.image}>\r\n                                </div>\r\n                            </div>\r\n                            <div style={{width:\"100%\",display:\"flex\",flexDirection:\"row\",justifyContent:\"center\",alignItems:\"center\",position:\"absolute\",height:\"110px\"}}>\r\n                                {getButtonGift()}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    {getGiftNoSum()}\r\n                </div>\r\n            );\r\n        }else{\r\n            return false;\r\n        }\r\n    }else{\r\n        return false;\r\n    }\r\n\r\n};\r\n\r\nconst styles = {\r\n    View:{\r\n        backgroundColor:\"#fafafa\",\r\n        width:\"100%\",\r\n        height:120,        display:\"flex\",\r\n\r\n        justifyContent:\"space-between\",\r\n        alignItems:\"center\",\r\n        flexDirection:\"row\",\r\n        zIndex:99,\r\n        backgroundImage: 'url(\"https://суши-тайм.рф/images/system_icons/api_gift/pattern_gift_mobile_passive1.jpg\")',\r\n        backgroundSize:\"80%\"\r\n    },\r\n    h2:{\r\n        fontSize:18,\r\n        textTransform:\"uppercase\"\r\n    },\r\n    shadow:{\r\n        borderWidth:0,\r\n        shadowColor: \"#000\",\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 2,\r\n        },\r\n        shadowOpacity: 0.22,\r\n        shadowRadius: 0,\r\n        elevation: 3,\r\n        marginBottom:10\r\n    },\r\n    shadowOff:{\r\n        borderWidth:0,\r\n        shadowColor: \"#000\",\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 0,\r\n        },\r\n        shadowOpacity: 0.22,\r\n        shadowRadius: 0,\r\n        elevation: 0,\r\n        marginBottom:10\r\n    },\r\n    image:{\r\n        flex: 1,\r\n        flexDirection:\"row\",\r\n        display:\"flex\",\r\n\r\n        justifyContent: \"flex-start\",\r\n        alignItems:\"center\",\r\n        width:400,\r\n        height:120,\r\n        backgroundImage:'url(\"https://суши-тайм.рф/images/system_icons/api_gift/pattern_gift_mobile_active1.jpg\")',\r\n        backgroundSize:\"79%\"\r\n\r\n    },\r\n    imagePassive:{\r\n        // flex: 1,\r\n        // flexDirection:\"row\",\r\n        display:\"flex\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems:\"center\",\r\n        width:400,\r\n        height:120,\r\n        alignSelf: \"flex-start\",\r\n    },\r\n    textGiftNoSum:{\r\n        display:\"flex\",\r\n        flexDirection:\"row\",\r\n        textAlign: \"center\",\r\n        justifyContent:\"center\",\r\n        alignItems:\"center\"\r\n    },\r\n    textGiftNoSumText:{\r\n        width:\"92%\",\r\n        textAlign:\"center\",\r\n        fontSize: 13,\r\n        paddingBottom:\"10px\",\r\n        fontWeight:600,\r\n        paddingTop:10\r\n        // borderBottom:\"1px solid #eeeeee\",\r\n    },\r\n    ButtonBlock:{\r\n        width:140,\r\n        margin:\"auto\",\r\n        zIndex:2\r\n    }\r\n};","import React, {useState} from 'react';\r\n\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport {Div,PanelHeader,HeaderButton, IOS,platform,Placeholder} from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport ProductList from \"./catalog/ProductList\";\r\nimport Icon28Search from '@vkontakte/icons/dist/28/search';\r\nimport ym from 'react-yandex-metrika';\r\n\r\nrequire('./global/index.js');\r\n\r\nclass SearchResultProductBlock extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            arrayProduct:this.props.arrayProduct,\r\n            settingsFilterSearch:{\r\n                typeSearch: global.settingsFilterSearch.typeSearch\r\n            }\r\n            ,\r\n            search: global.searchProduct\r\n        }\r\n    }\r\n\r\n    hndlClick = (aP) => {\r\n        //console.log('--- ', 'Нажали на кнопку '+aP);\r\n        this.setState({ activePanel: aP });\r\n        //global.settingsFilterSearch.typeProduct = false;\r\n    };\r\n\r\n    setProductModal = (aP) => {\r\n        // console.log('--- ', 'Установили товар в модалку '+aP+' - - - -XTTT');\r\n        this.setState({ productModal: aP })\r\n    };\r\n\r\n    setActiveCategory = (aP) => {\r\n        // console.log('--- ', 'Установили категорию '+aP);\r\n        this.setState({ ActiveCategory: aP })\r\n    };\r\n\r\n    getCountButton(typeProduct,counts,setCart){\r\n        const Buttons =\r\n            <div className=\"CounterInCart\">\r\n                <div className=\"minus\" onClick={() => {setCart(typeProduct,'-');}}>\r\n                    -\r\n                </div>\r\n                {counts}\r\n                <div className=\"pluse\" onClick={() => {setCart(typeProduct);}}>\r\n                    +\r\n                </div>\r\n            </div>;\r\n\r\n        return Buttons;\r\n    }\r\n\r\n\r\n    getButtonInCartProduct(typeProduct,setCart){\r\n        //console.log(this.props.CartProducts,'---0---');\r\n        if(!!this.props.CartProducts){\r\n            var ButOk = false;\r\n            var id_CartPr = '';\r\n            this.props.CartProducts.map((data,key)=>{\r\n                if(data.id_Product === typeProduct.id_Product & data.type_product === typeProduct.type_product){\r\n                    ButOk = true;\r\n                    id_CartPr = key;\r\n                }\r\n            });\r\n\r\n            if(ButOk === true){\r\n                //console.log('Выполняется условие товар есть');\r\n                return  this.getCountButton(typeProduct,this.props.CartProducts[id_CartPr]['count'],setCart);\r\n            }else{\r\n                //console.log('Выполняется условие товара нет');\r\n                return this.getInCarts(typeProduct,setCart);\r\n            }\r\n        }else{\r\n            //console.log('Выполняется условие корзина пуста, вывод просто кнопки');\r\n            return this.getInCarts(typeProduct,setCart);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    getInCarts(typeProduct,setCart){\r\n        // console.log(setCart);\r\n        const Buttons =\r\n            <button onClick={() => {\r\n                setCart(typeProduct);\r\n                try {\r\n                    if (global.Metrika.Markers[1].active == '1') {\r\n                        ym('reachGoal', global.Metrika.Markers[1].marker);\r\n                    }else{\r\n                        //   console.log('Цель отключена');\r\n                    }\r\n                }catch (e) {\r\n                    // console.log(e,global.Metrika);\r\n                }\r\n            }}>\r\n                В корзину\r\n            </button>;\r\n\r\n        return Buttons;\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.state.arrayProduct);\r\n    }\r\n\r\n    getArrayCategoryProduct(){\r\n        const ArCat = Object.keys(this.state.arrayProduct);\r\n        const ResultProductList =  ArCat.map((data,key)=>{\r\n            //console.log(data,key, 'оророро');\r\n\r\n            var ResultCatsSearch =\r\n                <ProductList\r\n                    onClickProduct={this.hndlClick.bind(this,'Panels_Product')}\r\n                    productsLists={this.state.arrayProduct[data].ProductList}\r\n                    key={this.state.arrayProduct[data].id_Category}\r\n                    idCategorys={data}\r\n                    nameCategory=\"sets\"\r\n                    setCart={this.props.setCart.bind(this)}\r\n                    getButtonInCartProduct={this.getButtonInCartProduct.bind(this)}\r\n                    setProductModal={this.setProductModal.bind(this)}\r\n                    searchProduct={this.props.varSearch}\r\n\r\n                    showModal={this.props.showModal.bind(this)}\r\n                    hideModals={this.props.hideModals.bind(this,null)}\r\n\r\n                    clrStatus={false}\r\n                />;\r\n\r\n            return (ResultCatsSearch);\r\n\r\n        });\r\n        return ResultProductList;\r\n    }\r\n\r\n    getProductSearchResult(OPT) {\r\n\r\n        return (\r\n            this.getArrayCategoryProduct()\r\n        );\r\n    }\r\n\r\n    getStatusSearch(){\r\n        var statusText = false;\r\n        var statusFiltes = false;\r\n\r\n        this.props.varSearch === '' || this.props.varSearch === undefined ? statusText = false : statusText = true;\r\n        global.settingsFilterSearch.typeProduct === false ? statusFiltes = false : statusFiltes = true;\r\n\r\n        if(statusFiltes === true || statusText === true){\r\n            //console.log(statusFiltes,statusText);\r\n            return true;\r\n        }else{\r\n            //console.log(statusFiltes,statusText);\r\n            return false;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    render () {\r\n\r\n        const osname = platform();\r\n\r\n\r\n\r\n\r\n        return (<Div style={{background:\"#FFFFFF\",paddingTop:\"60px\"}}>\r\n            {\r\n                this.getStatusSearch() === false ?\r\n                    <Placeholder\r\n                        icon={<Icon28Search />}\r\n                        header=\"Поиск пуст\"\r\n                    >\r\n                       Начните вводить название товара или выберите фильтр\r\n                    </Placeholder>\r\n                    :\r\n                    this.getProductSearchResult()\r\n            }\r\n        </Div>);\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default SearchResultProductBlock;","import React, { useState,useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nimport {Div, View, Panel, PanelHeader, Group, Search,Cell, CellButton, HeaderButton, platform, IOS, Tooltip, Image, ImageBackground } from '@vkontakte/vkui';\r\nimport {ButtonEbee} from \"./ButtonEbee\";\r\nimport {NumberFormatPrice} from \"../NumberFormatFN\";\r\nrequire('../../panels/global/index.js');\r\n\r\n\r\n\r\n\r\nexport const GiftVariantModal = ({sumItogBasket,setActiveGifts,activeGift = false,closeModal}) => {\r\n\r\n    const URL_SITE = global.URLCite;\r\n\r\n    const [statusLoading,setStatusLoading] = useState(true);\r\n\r\n\r\n    const [GiftDataServer,setGiftsList] = useState({});\r\n\r\n\r\n    const getGiftInfo = async ()=>{\r\n\r\n        return new Promise((resolve, reject) => {\r\n            axios({\r\n                method:'get',\r\n                url:'https://суши-тайм.рф/api/getGiftsJson&apiKey='+global.ApiKey+global.CityIdSystem,\r\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n                params:{\r\n                },\r\n                responseType: 'text'\r\n            }).then(({ data }) => {\r\n                console.log(\"Пришли данные по подаркам для города  \",data);\r\n                resolve(data);\r\n            })\r\n                .catch((err) => {\r\n                    //console.log(\"ERROR: ------  \",err);\r\n                    reject(\"ERROR: ---Установка параметров подарка---  \",err);\r\n                });\r\n        });\r\n\r\n    };\r\n\r\n\r\n    const ActiveIndicateLoading = ()=>{\r\n        return(\r\n            <div style={{justifyContent:\"center\",alignItems:\"center\",height:\"100%\"}}>\r\n                {/*<ActivityIndicator color={\"#ff7300\"} />*/}\r\n                Обновление...\r\n                <div style={{height:\"1200px\"}}></div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const setActiveGift = (dataGift)=>{\r\n        // dispatch(updateActiveGifts(dataGift));\r\n        setActiveGifts(dataGift);\r\n        closeModal(null);\r\n    };\r\n\r\n    useEffect(()=>{\r\n        (async ()=>{\r\n            let result = await getGiftInfo();\r\n            setGiftsList(result);\r\n            setStatusLoading(false);\r\n        })()\r\n    },[]);\r\n\r\n    const getWidthScale = (sumProduct,dataGift,activeBlock)=>{\r\n        let ReturnValue = false;\r\n        let MaxValue = sumProduct;\r\n        let NowValue = MaxValue-sumItogBasket;\r\n\r\n        if(NowValue<=0){\r\n            if(activeBlock === true){\r\n                ReturnValue =\r\n                    <ButtonEbee\r\n                        onPress={()=>{\r\n                            setActiveGift(false);\r\n                        }}\r\n                        size=\"l\"\r\n                        borderRadius={20}\r\n                        shadow={false}\r\n                        style={{paddingVertical:8,paddingHorizontal:30,width:\"100%\"}}\r\n                    >\r\n                        Отмена\r\n                    </ButtonEbee>\r\n                ;\r\n            }else{\r\n                ReturnValue =\r\n                    <ButtonEbee\r\n                        onPress={()=>{\r\n                            setActiveGift(dataGift);\r\n                        }}\r\n                        size=\"l\"\r\n                        borderRadius={20}\r\n                        shadow={false}\r\n                        style={{paddingVertical:8,paddingHorizontal:30,width:\"100%\"}}\r\n                    >\r\n                        Выбрать\r\n                    </ButtonEbee>\r\n                ;\r\n            }\r\n\r\n        }else{\r\n            if(activeBlock === true){\r\n                setActiveGift(false);\r\n            }\r\n            ReturnValue =\r\n                <ButtonEbee\r\n                    onPress={()=>{\r\n\r\n                    }}\r\n                    size=\"l\"\r\n                    borderRadius={20}\r\n                    shadow={false}\r\n                    active={false}\r\n                    style={{paddingVertical:8,marginVertical:0,width:\"100%\"}}\r\n                >\r\n                    Не хватает: {NumberFormatPrice(NowValue,0,'',' ')} ₽\r\n                </ButtonEbee>;\r\n        }\r\n\r\n\r\n\r\n\r\n        return ReturnValue;\r\n    };\r\n\r\n\r\n    const ListGifts = ()=>{\r\n\r\n        let AllGiftList = Object.keys(GiftDataServer.OneGift);\r\n\r\n        const ReturnListGifts = AllGiftList.map((data,number)=>{\r\n\r\n            let AllGiftsStep = Object.keys(GiftDataServer.OneGift[data]);\r\n\r\n            let ListGiftsStep = AllGiftsStep.map((val,num)=>{\r\n\r\n                let OneGifts = GiftDataServer.OneGift[data][val];\r\n\r\n                let activeBlock = false;\r\n\r\n                if(activeGift !== false){\r\n                    activeGift.id_tovar == OneGifts.id_tovar & activeGift.type_product == OneGifts.type_product ? activeBlock = true : activeBlock = false;\r\n                }else{\r\n                    activeBlock = false;\r\n                }\r\n\r\n                return (\r\n                    <div style={activeBlock === true ? {...styles.BlockListGifts,...styles.BlockListGiftsActive} : styles.BlockListGifts}>\r\n                        <div style={styles.BlockImg}>\r\n                            <img style={styles.image} src={URL_SITE+'/images/tovars/'+OneGifts.img} />\r\n                        </div>\r\n                        <div style={styles.textWrap}>\r\n                            <div style={styles.TextBlockProduct}>\r\n                                <div style={styles.BlockTitle}>\r\n                                    <p style={styles.title}>\r\n                                        {OneGifts.title.trim()}\r\n                                    </p>\r\n                                    <p style={styles.weight}>{OneGifts.type_product_text.trim()}</p>\r\n                                </div>\r\n                                {OneGifts.text !== '' ? <div style={styles.ViewDescription}>\r\n                                    <p style={styles.description}>\r\n                                        {OneGifts.text.trim()}\r\n                                    </p>\r\n                                </div> : <p></p>}\r\n                                <div style={styles.blockButtonSet}>\r\n                                    <p style={{...styles.description,...{fontSize:12,fontFamily:\"open-regular\"}}}>Кол-во: {OneGifts.count_product}</p>\r\n                                    {getWidthScale(OneGifts.min_sum,OneGifts,activeBlock)}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )\r\n            });\r\n\r\n            return ListGiftsStep;\r\n\r\n        });\r\n\r\n        return ReturnListGifts;\r\n    };\r\n\r\n    const FlatListData =\r\n        statusLoading ? <ActiveIndicateLoading /> : <ListGifts />;\r\n\r\n\r\n    return (\r\n        <div\r\n            scrollEnabled={true}\r\n            style={styles.containerContent}\r\n        >\r\n                        {FlatListData}\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    centeredViewActive: {\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        marginTop: 0,\r\n        // backgroundColor:\"rgba(0,0,0,0.40)\"\r\n    },\r\n    centeredView: {\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        marginTop: 10,\r\n        //backgroundColor:\"rgba(0,0,0,0.40)\"\r\n    },\r\n    PressableClose:{\r\n        height:\"100%\",\r\n        width:\"100%\"\r\n    },\r\n\r\n    ChildBlock:{\r\n        marginVertical:10\r\n    },\r\n    TextInfoMini:{\r\n        backgroundColor:\"#ff7300\",\r\n        fontSize: 14,\r\n        color:\"#FFFFFF\",\r\n        textAlign: \"center\",\r\n        paddingVertical:5,\r\n        paddingHorizontal:2\r\n    },\r\n    BorderRadiusBox:{\r\n        backgroundColor:\"#FFFFFF\",\r\n        borderRadius:10,\r\n        overflow:\"hidden\",\r\n        paddingHorizontal:2,\r\n        paddingVertical:10\r\n    },\r\n    TextInfoMiniOk:{\r\n        backgroundColor:\"#FFFFFF\",\r\n        fontSize: 14,\r\n        color:\"#333333\",\r\n        textAlign: \"center\",\r\n        paddingVertical:5,\r\n        paddingHorizontal:2\r\n    },\r\n    TextInfoMiniError:{\r\n        backgroundColor:\"red\",\r\n        fontSize: 14,\r\n        color:\"#FFFFFF\",\r\n        textAlign: \"center\",\r\n        paddingVertical:5,\r\n        paddingHorizontal:2\r\n    },\r\n    titleChildBlock:{\r\n        \r\n        fontSize:16,\r\n        marginBottom:10\r\n    },\r\n\r\n    centeredViewWindow: {\r\n        flex: 1,\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        marginTop: 0,\r\n        backgroundColor:\"rgba(0,0,0,0.40)\"\r\n    },\r\n    modalView: {\r\n        width:\"100%\",\r\n        height:\"80%\",\r\n        margin: 0,\r\n        backgroundColor: \"white\",\r\n        borderRadius: 20,\r\n        padding: 0,\r\n        position:\"absolute\",\r\n        alignItems: \"center\",\r\n        bottom:0,\r\n        shadowColor: \"#000\",\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 2\r\n        },\r\n        shadowOpacity: 0.25,\r\n        shadowRadius: 4,\r\n        elevation: 5\r\n    },\r\n\r\n    topIndicator:{\r\n        width:40,\r\n        height:3,\r\n        borderRadius:10,\r\n        marginVertical:4,\r\n        backgroundColor:\"#dddddd\"\r\n    },\r\n    modalContent:{\r\n        width:\"100%\",\r\n        // paddingHorizontal:\"3%\",\r\n        paddingBottom:\"20%\"\r\n        //paddingBottom:Platform.OS === 'android' ? 0 : 0,\r\n        // height:Dimensions.get('window').height*0.8\r\n    },\r\n\r\n    TitleModal:{\r\n        width:\"100%\",\r\n        display:\"flex\",\r\n        flexDirection:\"row\",\r\n        justifyContent:\"center\",\r\n        alignItems:\"center\",\r\n        fontSize:18,\r\n        //backgroundColor:\"#ff7300\"\r\n    },\r\n    modalTextTitle:{\r\n        // backgroundColor:\"#ff7300\",\r\n        textAlign:\"center\",\r\n        \r\n        fontSize:18\r\n    },\r\n\r\n    ChildModal:{\r\n        marginVertical:0,\r\n        marginTop:15,\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n\r\n    containerContent: {\r\n        flex: 1,\r\n        marginTop: 0,\r\n        paddingBottom:\"20%\",\r\n        backgroundColor:\"#fafafa\",\r\n        //height:Dimensions.get('window').height*0.84\r\n        // overflow:'hidden'\r\n    },\r\n    containerHeader: {\r\n        flex: 1,\r\n        alignContent: 'center',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        height: 30,\r\n        backgroundColor: \"#fafafa\",\r\n        borderTopLeftRadius:10,\r\n        borderTopRightRadius:10\r\n    },\r\n    headerContent:{\r\n        marginTop: 0,\r\n    },\r\n    Modal: {\r\n        backgroundColor: '#005252',\r\n        marginTop: 0,\r\n    },\r\n\r\n\r\n    BlockListGifts:{\r\n        display:\"flex\",\r\n        width:\"100%\",\r\n        flexDirection: \"row\",\r\n        justifyContent:\"space-between\",\r\n        alignItems:\"center\",\r\n        textAlign:\"center\",\r\n        padding:\"4px 2%\",\r\n        backgroundColor:\"#ffffff\",\r\n        marginTop:\"4px\",\r\n    },\r\n\r\n    BlockListGiftsActive:{\r\n        // backgroundColor:THEME.MAIN_COLOR,\r\n        borderColor:\"#ff7300\",\r\n        borderBottomColor:\"#ff7300\",\r\n        borderWidth: 2,\r\n        border:\"4px solid #ff7300\",\r\n        borderRadius:15,\r\n        boxSizing:\"border-box\",\r\n        overflow:\"hidden\"\r\n    },\r\n\r\n\r\n    productBlock: {\r\n        marginBottom: 0,\r\n        overflow: 'hidden'\r\n    },\r\n    BlockImg:{\r\n        display:\"flex\",\r\n        flexDirection:\"row\",\r\n        justifyContent:\"center\",\r\n        alignItems:\"center\",\r\n        backgroundColor:\"#ffffff\",\r\n        marginRight:\"2%\"\r\n    },\r\n    textWrap: {\r\n        display:\"flex\",\r\n        flexDirection:\"row\",\r\n        justifyContent:\"center\",\r\n        backgroundColor: \"#ffffff\",\r\n        paddingVertical: 5,\r\n        paddingHorizontal:10,\r\n        alignItems: 'center',\r\n        width: '82%',\r\n        marginBottom: 10\r\n    },\r\n    image: {\r\n        width: 95,\r\n        height: 95,\r\n        marginHorizontal:0\r\n    },\r\n    TextBlockProduct:{\r\n        width:\"99%\",\r\n        paddingRight:15\r\n    },\r\n    BlockTitle:{\r\n        display:\"flex\",\r\n        flexDirection:\"row\",\r\n        justifyContent:\"space-between\",\r\n        alignItems:\"stretch\",\r\n        width:\"94%\"\r\n    },\r\n    title: {\r\n        color: \"#252622\",\r\n        fontWeight:\"bold\",\r\n        fontSize: 14,\r\n        width:\"80%\",\r\n    },\r\n    weight:{\r\n        \r\n        fontSize:12\r\n    },\r\n    description: {\r\n        color: \"#252622\",\r\n        fontWeight:300,\r\n        fontSize:12,\r\n        textAlign:\"left\"\r\n    },\r\n    ViewDescription:{\r\n        width:'99%',\r\n        paddingBottom:10\r\n    },\r\n    price: {\r\n        // color: THEME.TEXT_DESCRIPTION_COLOR,\r\n        // fontFamily: 'open-bold',\r\n        fontSize:18\r\n    },\r\n    ViewPrice:{\r\n        width:'98%',\r\n        display:\"flex\",\r\n        flexDirection:\"row\",\r\n        justifyContent:\"space-between\",\r\n        alignItems:\"center\"\r\n    },\r\n    TypeInfo: {\r\n        color: \"#252622\",\r\n        fontFamily: 'open-regular',\r\n        fontSize:12,\r\n        backgroundColor: \"#ffffff\",\r\n        borderWidth:1,\r\n        borderColor:\"#ff7300\",\r\n        paddingVertical:3,\r\n        paddingHorizontal:7,\r\n        borderRadius:10\r\n    },\r\n    ViewTypeInfo:{\r\n        width:'99%',\r\n        display:\"flex\",\r\n        flexDirection:\"row\",\r\n        alignItems:\"center\",\r\n        justifyContent: \"flex-start\",\r\n        paddingBottom: 5\r\n    },\r\n    styleImgModyficate:{\r\n        width:40,\r\n        height:40\r\n    },\r\n\r\n    blockButtonSet:{\r\n        display:\"flex\",\r\n        flexDirection:\"row\",\r\n        justifyContent:\"space-between\",\r\n        alignItems:\"center\",\r\n        paddingRight: 10\r\n    }\r\n};","import React, { useState } from \"react\";\r\n\r\nimport {PromokodeInput} from \"./PromokodeInput\";\r\nimport {Div, View, Panel, PanelHeader, Group, Search,Cell, CellButton, HeaderButton, platform, IOS, Tooltip, Image, ImageBackground } from '@vkontakte/vkui';\r\nimport {ButtonEbee} from \"../Cart/ButtonEbee\";\r\nimport {ConditionsPromokod} from \"./ConditionsPromokode\";\r\nimport axios from \"axios\";\r\n\r\n\r\nrequire('../../panels/global/index.js');\r\n\r\n\r\n\r\nexport const PromokodeModal = ({\r\n                                   ErrorPromokode,\r\n                                   handleSetPromokodeError,\r\n                                   PromokodeActiveStatus,\r\n                                   handleSetActiveStatusPromokode,\r\n                                   PromokodeDate,\r\n                                   handleSetDataPromokode,\r\n                                   promokodeErrorInfo,\r\n                                   handleSetPromokodeErrorInfo,\r\n                                   handleDeactivatePromokodes\r\n}) => {\r\n\r\n    // const ErrorPromokode = useSelector(state=>state.post.promokodeError);\r\n    // const PromokodeActiveStatus = useSelector(state=>state.post.promokodeActive);\r\n    // const PromokodeDate = useSelector(state=>state.post.promokodeData);\r\n\r\n    // const CityIds = useSelector(state=>state.post.cityData.cityId);\r\n    // const idUserSystem = useSelector(state=>state.post.AuthUserData.id);\r\n    const CityIds = 1;\r\n    const idUserSystem = 3;\r\n\r\n    //const sumItogBasket = useSelector(state => state.post.basketSum);\r\n\r\n\r\n    let [statusLoadingPromokode, setstatusLoadingPromokode] = useState(false);\r\n    let [kode, setKode] = useState('');\r\n    let [errorInformationMessage, setErrorMessages] = useState(null);\r\n\r\n    //console.log(StatusAllModal);\r\n\r\n    const ActiveIndicateLoading = ()=>{\r\n        return(\r\n            <div style={{justifyContent:\"center\",alignItems:\"center\",height:\"50%\"}}>\r\n                {/*<ActivityIndicator color={THEME.MAIN_COLOR} />*/}\r\n                <p>Обновление...</p>\r\n                <div style={{height:\"600px\"}}></div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const handleSetStatusModal = (nameModal,status)=>{\r\n        // dispatch(setModalStatus(nameModal,status));\r\n    };\r\n\r\n    const ErrorPromokodeInfo = ()=>{\r\n        if(ErrorPromokode.status === false){\r\n            return false;\r\n        }else{\r\n            return (\r\n                <div style={styles.ChildBlock}>\r\n                    <div style={{...styles.TextInfoMiniError,...{textAlign: \"center\"}}}>Ошибка: {ErrorPromokode.message}</div>\r\n                </div>\r\n            )\r\n        }\r\n    };\r\n\r\n    const handleDeactivatePromokode = ()=>{\r\n        setKode(null);\r\n        // dispatch(setPromokodeUpdate(null,false));\r\n        handleDeactivatePromokodes()\r\n    }\r\n\r\n\r\n    const PromokodeInfoServer = ()=>{\r\n        // console.log(PromokodeDate);\r\n\r\n        if(PromokodeActiveStatus === false){\r\n            return false;\r\n        }else{\r\n            return (\r\n                <>\r\n                    {FlatListDataActivePromo}\r\n\r\n                    <Div\r\n                        styles={{\r\n                            position:\"absolute\",\r\n                            // top:Dimensions.get('window').height*0.6,\r\n                            bottom:\"2%\",\r\n                            backgroundColor:\"#ffffff\",\r\n                            paddingBottom: \"10%\",\r\n                            width:\"100%\"\r\n                        }} shadow={false}\r\n                    >\r\n                        <ButtonEbee\r\n                            onPress={()=>{\r\n                                handleDeactivatePromokode()\r\n                            }}\r\n                            size=\"xl\"\r\n                            borderRadius={20}\r\n                            shadow={true}\r\n                        >\r\n                            Деактивировать\r\n                        </ButtonEbee>\r\n                    </Div>\r\n                </>\r\n            )\r\n        }\r\n    };\r\n\r\n    const FlatListData =\r\n            <div style={styles.modalContent}>\r\n                <div style={styles.TitleModal}>\r\n                    <div style={styles.modalTextTitle}>Введите промокод</div>\r\n                </div>\r\n                <div style={styles.ChildModal}>\r\n                    <div style={{...styles.ChildBlock,...{margin:0}}}>\r\n                        <PromokodeInput value={kode} setValue={setKode}/>\r\n                    </div>\r\n                    <div style={styles.ChildBlock}>\r\n                        <div style={{...styles.TextInfoMini,...{textAlign: \"center\",backgroundColor:\"#ff7300\"}}}>Только цифры и буквы латинского алфавита*</div>\r\n                    </div>\r\n                    {statusLoadingPromokode ? ActiveIndicateLoading() : ErrorPromokodeInfo()}\r\n                </div>\r\n            </div>\r\n        ;\r\n\r\n\r\n    const DataPromokodeInfo = ()=>{\r\n        return (\r\n            PromokodeDate !== null && PromokodeDate !== undefined && PromokodeDate != 'undefined' ?\r\n                <div style={styles.BorderRadiusBox}>\r\n                    <div style={{...styles.TextInfoMiniOk,...{textAlign: \"center\"}}}>\r\n                        Ваш промокод: {PromokodeDate.promokodeInfo.kode}\r\n                    </div>\r\n                    <div style={{...styles.TextInfoMiniOk,...{textAlign: \"center\"}}}>\r\n                        {PromokodeDate.promokodeInfo.text}\r\n                    </div>\r\n                </div> :\r\n                <div style={{...styles.TextInfoMiniError,...{textAlign: \"center\"}}}>\r\n                    Ошибка: Не возможно прочитать данные промокода. Пожалуйста, деактивируйте промокод, и введите его снова!\r\n                </div>\r\n        )\r\n    }\r\n\r\n    const FlatListDataActivePromo =\r\n            <div style={styles.modalContent}>\r\n                <div style={styles.TitleModal}>\r\n                    <div style={styles.modalTextTitle}>Активный промокод</div>\r\n                </div>\r\n                <div style={styles.ChildModal}>\r\n                    <div style={styles.ChildBlock}>\r\n                        {DataPromokodeInfo()}\r\n                    </div>\r\n                    <div style={styles.ChildBlock}>\r\n                        <ConditionsPromokod typeReturn={1} promokodeErrorInfo={promokodeErrorInfo}/>\r\n                        <ConditionsPromokod typeReturn={2} promokodeErrorInfo={promokodeErrorInfo}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    ;\r\n\r\n    const getPromokodeActive = (CityData,idUser,kode)=>{\r\n        // console.log('Запрос активации промокода');\r\n        return new Promise((resolve, reject) => {\r\n            axios({\r\n                method:'get',\r\n                url:'https://суши-тайм.рф/api/getPromokodeActive&apiKey='+global.ApiKey+'&CityIdSystem='+CityData,\r\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n                params:{\r\n                    idUser:idUser,\r\n                    kode:kode\r\n                },\r\n            }).then(({ data }) => {\r\n                if('error' in data){\r\n                    console.log(\"Ошибка \",data);\r\n                    resolve({error:true,errorInfo:data.errorInfo});\r\n                }else{\r\n                    //console.log(\"Пришли данные \",data.listProduct);\r\n                    resolve({error:null,errorInfo:null,result:data.result});\r\n                }\r\n                //console.log(this.state.Metrika);\r\n                //console.log(data.list);\r\n            })\r\n                .catch((err) => {\r\n                    console.log(\"ERROR: ------  \",err);\r\n                    reject({error:true,errorInfo:\"Внутренняя ошибка приложения\"});\r\n                });\r\n        });\r\n    }\r\n\r\n    const handleActivePromokode = async (idCity,idUser)=>{\r\n        setstatusLoadingPromokode(true);\r\n        //Получаем данные промокода\r\n        const ReultServer = await getPromokodeActive(idCity,idUser,kode);\r\n\r\n        setTimeout(()=>{\r\n            setstatusLoadingPromokode(false);\r\n        },1000);\r\n\r\n\r\n        if(ReultServer.error === null){\r\n            console.log('Получили данные по промокоды '+kode, ReultServer);\r\n            handleSetPromokodeError({error:false,message:null});\r\n            handleSetActiveStatusPromokode(true);\r\n            handleSetDataPromokode(ReultServer.result);\r\n            // handleSetPromokodeErrorInfo(null)\r\n            //     // dispatch(setPromokodeErrorUpdate(false,null));\r\n        //     // dispatch(setPromokodeUpdate(ReultServer.result,true));\r\n        //\r\n        }else{\r\n            console.log('Ошибка активации промокода '+kode, ReultServer);\r\n            handleSetPromokodeError({error:ReultServer.error,message:ReultServer.errorInfo})\r\n            handleSetActiveStatusPromokode(false)\r\n            handleSetDataPromokode(null)\r\n            handleSetPromokodeErrorInfo(null)\r\n\r\n            //     // dispatch(setPromokodeErrorUpdate(true,ReultServer.errorInfo));\r\n        //     // dispatch(setPromokodeUpdate(null,false));\r\n        }\r\n\r\n        //   console.log('Проверка промокода - получили ответ - ==========>>>>>>>>',ReultServer);\r\n    };\r\n\r\n    return (\r\n\r\n                <div\r\n                    style={styles.containerContent}\r\n                >\r\n                    {PromokodeActiveStatus ? PromokodeInfoServer() :\r\n                        <>\r\n                            {FlatListData}\r\n                            <Div\r\n                                styles={{\r\n                                    position:\"absolute\",\r\n                                    // top:Dimensions.get('window').height*0.6,\r\n                                    bottom:\"18%\",\r\n                                    backgroundColor:\"#ffffff\",\r\n                                    paddingBottom: \"10%\",\r\n                                    width:\"100%\"\r\n                                }}\r\n                            >\r\n                                <ButtonEbee\r\n                                    onPress={()=>{\r\n                                        handleActivePromokode(CityIds,idUserSystem);\r\n                                    }}\r\n                                    size=\"xl\"\r\n                                    borderRadius={20}\r\n                                    shadow={true}\r\n                                >\r\n                                    Активировать\r\n                                </ButtonEbee>\r\n                            </Div>\r\n                        </>\r\n                    }\r\n                </div>\r\n    );\r\n};\r\n\r\nconst styles = {\r\n    centeredViewActive: {\r\n        flex: 1,\r\n        display:\"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        marginTop: 0,\r\n        // backgroundColor:\"rgba(0,0,0,0.40)\"\r\n    },\r\n    centeredView: {\r\n        flex: 1,\r\n        display:\"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        marginTop: 10,\r\n        //backgroundColor:\"rgba(0,0,0,0.40)\"\r\n    },\r\n    PressableClose:{\r\n        height:\"100%\",\r\n        width:\"100%\"\r\n    },\r\n\r\n    ChildBlock:{\r\n        width:\"100%\",\r\n        boxSizing:\"border-box\",\r\n        margin:\"10px 0px\"\r\n    },\r\n    TextInfoMini:{\r\n        backgroundColor:\"#ff7300\",\r\n        fontSize: 14,\r\n        color:\"#FFFFFF\",\r\n        textAlign: \"center\",\r\n        padding:\"5px 2px\",\r\n        margin:\"10px 0\"\r\n    },\r\n    BorderRadiusBox:{\r\n        backgroundColor:\"#FFFFFF\",\r\n        borderRadius:10,\r\n        overflow:\"hidden\",\r\n        padding:\"2px 10px\"\r\n    },\r\n    TextInfoMiniOk:{\r\n        backgroundColor:\"#FFFFFF\",\r\n        fontSize: 14,\r\n        color:\"#333333\",\r\n        textAlign: \"center\",\r\n        padding:\"5px 2px\",\r\n    },\r\n    TextInfoMiniError:{\r\n        backgroundColor:\"red\",\r\n        fontSize: 14,\r\n        color:\"#FFFFFF\",\r\n        textAlign: \"center\",\r\n        padding:\"5px 2px\",\r\n    },\r\n    titleChildBlock:{\r\n        fontWeight:\"bold\",\r\n        fontSize:16,\r\n        marginBottom:10\r\n    },\r\n\r\n    centeredViewWindow: {\r\n        flex: 1,\r\n        display:\"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        marginTop: 0,\r\n        backgroundColor:\"rgba(0,0,0,0.40)\"\r\n    },\r\n    modalView: {\r\n        width:\"100%\",\r\n        height:\"80%\",\r\n        margin: 0,\r\n        backgroundColor: \"white\",\r\n        borderRadius: 20,\r\n        padding: 0,\r\n        position:\"absolute\",\r\n        alignItems: \"center\",\r\n        bottom:0,\r\n        shadowColor: \"#000\",\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 2\r\n        },\r\n        shadowOpacity: 0.25,\r\n        shadowRadius: 4,\r\n        elevation: 5\r\n    },\r\n\r\n    topIndicator:{\r\n        width:40,\r\n        height:3,\r\n        borderRadius:10,\r\n        marginTop:4,\r\n        marginBottom:4,\r\n        backgroundColor:\"#dddddd\"\r\n    },\r\n    modalContent:{\r\n        backgroundColor:\"#ffffff\",\r\n        width:\"100%\",\r\n        padding:\"3px 3%\",\r\n        paddingBottom:\"20%\",\r\n        boxSizing: \"border-box\"\r\n    },\r\n\r\n    TitleModal:{\r\n        width:\"100%\",\r\n        display:\"flex\",\r\n        flexDirection:\"row\",\r\n        justifyContent:\"center\",\r\n        alignItems:\"center\",\r\n        fontSize:18,\r\n        //backgroundColor:\"#ff7300\"\r\n    },\r\n    modalTextTitle:{\r\n        // backgroundColor:\"#ff7300\",\r\n        textAlign:\"center\",\r\n        fontWeight:\"bold\",\r\n        fontSize:18,\r\n        marginBottom:10\r\n    },\r\n\r\n    ChildModal:{\r\n        marginVertical:0\r\n    },\r\n\r\n\r\n\r\n\r\n\r\n\r\n    containerContent: {\r\n        flex: 1,\r\n        marginTop: 0,\r\n        padding:0,\r\n        paddingBottom:\"40%\",\r\n        backgroundColor:\"#fafafa\",\r\n    },\r\n    containerHeader: {\r\n        flex: 1,\r\n        alignContent: 'center',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        height: 30,\r\n        backgroundColor: \"#fafafa\",\r\n        borderTopLeftRadius:10,\r\n        borderTopRightRadius:10\r\n    },\r\n    headerContent:{\r\n        marginTop: 0,\r\n    },\r\n    Modal: {\r\n        backgroundColor: '#005252',\r\n        marginTop: 0,\r\n    }\r\n};","import React from 'react';\r\nimport {Alert, Div,Input,FormLayout, Button, Select, Search, Footer, Cell } from '@vkontakte/vkui';\r\n\r\n\r\nexport const PromokodeInput = ({value = '',setValue})=>{\r\n\r\n\r\n    return (\r\n        <Input\r\n            style={styles.promokodeInput}\r\n            placeholder={\"0000\"}\r\n            type=\"text\"\r\n            name=\"street\"\r\n            key={\"input_street\"}\r\n            value={value}\r\n            status='valid'\r\n            onChange={(text) => {\r\n                console.log(text.target.value);\r\n                setValue(text.target.value.replace(/[а-яА-ЯЁё\\s+]/g, ''))\r\n            }}\r\n            // onClick={()=>{this.setState({search:this.state.streetSearch,street:'',streetSearch:''})}}\r\n        />\r\n    )\r\n\r\n    // return (\r\n    //     <TextInput\r\n    //         style={styles.promokodeInput}\r\n    //         placeholder={\"0000\"}\r\n    //         onChangeText={(text) => setValue(text.replace(/[а-яА-ЯЁё\\s+]/g, ''))}\r\n    //         maxLength={7}\r\n    //         value={value}\r\n    //         multiline={false}\r\n    //         textAlign={'center'}\r\n    //         keyboardType={Platform.OS === 'android' ? \"default\" : \"default\"}\r\n    //\r\n    //     />\r\n    //\r\n    // )\r\n};\r\n\r\n\r\nconst styles = {\r\n    promokodeInput:{\r\n        borderWidth:0,\r\n        borderColor:'#333333',\r\n        backgroundColor:'#f2f2f2',\r\n        borderRadius:8,\r\n        width:\"100%\",\r\n        minWidth:170,\r\n        // paddingVertical: Platform.OS === 'android' ? 4 : 10,\r\n        paddingHorizontal:5,\r\n        textAlign:'center'\r\n    },\r\n    promokodeInputError:{\r\n        //borderColor: 'red'\r\n    },\r\n    promokodeInputSuccess:{\r\n        // borderColor:'green'\r\n    },\r\n    buttonsSuccess:{\r\n        backgroundColor:\"#ff7300\",\r\n        opacity:1\r\n    },\r\n    buttonsError:{\r\n        backgroundColor:\"#f2f2f2\",\r\n        opacity:0.3\r\n    },\r\n    textSuccess:{\r\n        color:\"#252622\",\r\n        opacity:1\r\n    },\r\n    textError:{\r\n        color:\"#333333\",\r\n        opacity:0.9\r\n    },\r\n\r\n    refreshInputButton:{\r\n        paddingVertical: 0,\r\n        paddingHorizontal: 0,\r\n        elevation: 0,\r\n        marginVertical:10,\r\n        marginHorizontal:\"5%\",\r\n        color:\"#333333\",\r\n        fontFamily: \"open-bold\",\r\n        backgroundColor:\"#ffffff\",\r\n        borderRadius:0,\r\n        opacity:1\r\n    },\r\n    textRefreshButton:{\r\n        color:\"#a8a8a8\",\r\n        fontSize:10,\r\n        textAlign:'center',\r\n        lineHeight:20\r\n    },\r\n    codeInputDefault:{\r\n        color:'#333'\r\n    },\r\n    codeInputSuccess:{\r\n        backgroundColor:'#34ff6d',\r\n        color:'#fff'\r\n    },\r\n    codeInputError:{\r\n        backgroundColor:'#ff4234',\r\n        color:'#fff'\r\n    }\r\n};\r\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { platform, IOS } from '@vkontakte/vkui';\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\n\nimport persik from '../img/persik.png';\nimport './Persik.css';\n\nconst osName = platform();\n\nconst Persik = props => (\n\t<Panel id={props.id}>\n\t\t<PanelHeader\n\t\t\tleft={<HeaderButton onClick={props.go} data-to=\"home\">\n\t\t\t\t{osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\n\t\t\t</HeaderButton>}\n\t\t>\n\t\t\tPersik\n\t\t</PanelHeader>\n\t\t<img className=\"Persik\" src={persik} alt=\"Персик Это Кот\"/>\n\t</Panel>\n);\n\nPersik.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n};\n\nexport default Persik;\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { platform, IOS } from '@vkontakte/vkui';\r\nimport Panel from '@vkontakte/vkui/dist/components/Panel/Panel';\r\nimport PanelHeader from '@vkontakte/vkui/dist/components/PanelHeader/PanelHeader';\r\nimport HeaderButton from '@vkontakte/vkui/dist/components/HeaderButton/HeaderButton';\r\nimport Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\nimport Icon24Back from '@vkontakte/icons/dist/24/back';\r\nimport Div from '@vkontakte/vkui/dist/components/Div/Div';\r\nimport { View, Group, List, Cell } from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\nimport persik from '../img/persik.png';\r\nimport './Persik.css';\r\n\r\nconst osName = platform();\r\n\r\nconst Persik = props => (\r\n    <Panel id={props.id}>\r\n        <PanelHeader\r\n            left={<HeaderButton onClick={props.go} data-to=\"home\">\r\n                {osName === IOS ? <Icon28ChevronBack/> : <Icon24Back/>}\r\n            </HeaderButton>}\r\n        >\r\n            Persik\r\n        </PanelHeader>\r\n        <Div>\r\n            <h2 size=\"x3\" level=\"1\">Это не совсем персик</h2>\r\n            <View activePanel=\"main\">\r\n                <Panel id=\"main\">\r\n                    <PanelHeader>VKUI</PanelHeader>\r\n                    <Group title=\"Items\">\r\n                        <List>\r\n                            <Cell>Hello</Cell>\r\n                            <Cell>World</Cell>\r\n                        </List>\r\n                    </Group>\r\n                </Panel>\r\n            </View>\r\n        </Div>\r\n        <img className=\"Persik\" src={persik} alt=\"Персик Это Кот\"/>\r\n    </Panel>\r\n);\r\n\r\nPersik.propTypes = {\r\n    id: PropTypes.string.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Persik;","import React, { useState, useEffect } from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport View from '@vkontakte/vkui/dist/components/View/View';\r\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\n\r\nimport UserInfo from './ProfileUser/UserInfo';\r\nimport Persik from './Persik';\r\nimport NoPersik from './Nopersik';\r\n\r\nconst ProfileUserPage = (dataUsers) => {\r\n\tconst [activePanel, setActivePanel] = useState('homeUsers');\r\n\tconst [fetchedUser, setUser] = useState(null);\r\n\t//const [popout, setPopout] = useState(<ScreenSpinner size='large' />);\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\t// connect.subscribe(({ detail: { type, data }}) => {\r\n\t\t// \tif (type === 'VKWebAppUpdateConfig') {\r\n\t\t// \t\tconst schemeAttribute = document.createAttribute('scheme');\r\n\t\t// \t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\r\n\t\t// \t\tdocument.body.attributes.setNamedItem(schemeAttribute);\r\n\t\t// \t}\r\n\t\t// });\r\n\t\tasync function fetchData() {\r\n\t\t\tconst user = await connect.sendPromise('VKWebAppGetUserInfo');\r\n\t\t\tsetUser(user);\r\n\t\t\t//setPopout(null);\r\n\t\t\t//console.log(connect);\r\n\t\t}\r\n\t\tfetchData();\r\n\t}, []);\r\n\r\n\tconst go = e => {\r\n\t\tsetActivePanel(e.currentTarget.dataset.to);\r\n\t};\r\n\r\n\r\n\treturn (\r\n\t\t<View activePanel={activePanel}>\r\n\t\t\t<UserInfo\r\n\t\t\t\tid='homeUsers'\r\n\t\t\t\tfetchedUser={fetchedUser}\r\n\t\t\t\tgo={go}\r\n\t\t\t\tdataUsers={dataUsers}\r\n\t\t\t\tsetActivePanels={setActivePanel.bind(this)}\r\n\t\t\t\tsetStatusNotification={dataUsers.setStatusNotification.bind(this)}\r\n\t\t\t\tsetShowUserOrderList={dataUsers.setShowUserOrderList.bind(this)}\r\n\t\t\t/>\r\n\t\t</View>\r\n\t);\r\n}\r\n\r\nexport default ProfileUserPage;\r\n\r\n","import {GetPriceProductBasketNumber} from \"./getPriceProductBasket\";\r\n\r\n\r\nexport const GetAllPriceBasketDontTopping = (basket = [],allProducts =[], PromoData = [], returnBolean = false)=>{\r\n\r\n    if(allProducts === null || PromoData === [] || PromoData === null || PromoData === undefined || PromoData == 'undefined'){\r\n        return false;\r\n    }\r\n\r\n    let AllSum = 0;\r\n    let Bolean = false;\r\n\r\n    console.log(PromoData);\r\n\r\n\r\n    basket.forEach((typeProducts,num)=>{\r\n        // console.log('Тут стопоримся ',typeProducts,allProducts,basket);\r\n\r\n\r\n            let product = [];\r\n\r\n            if(typeProducts.id_Category in allProducts){\r\n                //Если категорния есть\r\n                if(typeProducts.id_Product in allProducts[typeProducts.id_Category]['ProductList']){\r\n                    //Если товар есть\r\n                    if(allProducts[typeProducts.id_Category]['ProductList'][typeProducts.id_Product].lenght<=0){\r\n                        //return false;\r\n                    }else{\r\n                        let statusTypeProduct = false;\r\n                        let numberArr = 0;\r\n                        allProducts[typeProducts.id_Category]['ProductList'][typeProducts.id_Product].forEach((dataProduct, numb) => {\r\n                            if(typeProducts.type_product == dataProduct['type_product']){\r\n                                //Если такой тип товара есть\r\n                                //Идем по ретурну в конце функции------>>>\r\n                                statusTypeProduct = true;\r\n                                numberArr = numb;\r\n                            }\r\n                        });\r\n\r\n                        if(statusTypeProduct === false){\r\n                            // console.log(\"Неудача \",typeProducts.type_product);\r\n                            //return AllSum;\r\n                        }else{\r\n                            product = {...allProducts[typeProducts.id_Category]['ProductList'][typeProducts.id_Product][numberArr],id:typeProducts.id_Product};\r\n\r\n                            //----->>>>\r\n\r\n                            let SumProduct = GetPriceProductBasketNumber(product,typeProducts.count);\r\n                            let BoleanDiscount = GetPriceProductBasketNumber(product,typeProducts.count,true);\r\n\r\n                            if(BoleanDiscount === true && returnBolean === true){\r\n                                Bolean = true;\r\n                            }\r\n\r\n                            //console.log(SumProduct);\r\n                            AllSum += SumProduct*1;\r\n                        }\r\n                    }\r\n\r\n                }\r\n            }\r\n    });\r\n\r\n    if(returnBolean === true) {\r\n        return Bolean;\r\n    }\r\n\r\n    return AllSum;\r\n};\r\n","import {GetAllPriceBasketDontTopping} from \"./GetAllPriceBasketDontTopping\";\r\n\r\nexport const ConditionsPromokodFunction = (PromoData = null, basket = [], allProducts =[])=>{\r\n\r\n    let StatePromokodeActive =\r\n        {\r\n            errorSum: {\r\n                countSum: 0,\r\n                status:false\r\n            },\r\n            errorProduct:{\r\n                message:\"В корзине присутствует акционный товар. Промокод не может быть применен!\",\r\n                status:false\r\n            },\r\n            errorTimeActive: {\r\n                countTimeActive: 0,\r\n                status:false\r\n            },\r\n            showIconError: false\r\n\r\n        };\r\n\r\n    const setStatePromokodeActive = (data)=>{\r\n        StatePromokodeActive = data;\r\n    };\r\n\r\n    if(PromoData===null || PromoData === undefined || PromoData == 'undefined'){\r\n        //Тут вставить dispatch с возвратом дефолтной переменной\r\n        // console.log('Просто возвращаем дефолтные свойства массива с промокодом: ===========================--------------------------------------------------------------');\r\n        // dispatch(setPromokodeErrprUpdateStatus(StatePromokodeActive));\r\n        return StatePromokodeActive;\r\n    }\r\n\r\n    let DiscountProductBoolean = GetAllPriceBasketDontTopping(basket,allProducts,PromoData,true);\r\n\r\n\r\n    let AllPriceDontTopping = 0;\r\n\r\n    AllPriceDontTopping = GetAllPriceBasketDontTopping(basket,allProducts,PromoData);\r\n\r\n    if(PromoData.dop_settings.dop_settings === false){\r\n\r\n        setStatePromokodeActive({\r\n            ...StatePromokodeActive,\r\n            ...{\r\n                errorSum:{\r\n                    countSum:0,\r\n                    status:false\r\n                },\r\n                showIconError:false\r\n            }\r\n        })\r\n\r\n    }else{\r\n        if(PromoData.dop_settings.summa_min_active>AllPriceDontTopping){\r\n            //Суммы не хватает\r\n            let SumRet = PromoData.dop_settings.summa_min_active-AllPriceDontTopping;\r\n            if(SumRet<0){SumRet = 0;}\r\n            setStatePromokodeActive({\r\n                ...StatePromokodeActive,\r\n                ...{\r\n                    errorSum:{\r\n                        countSum:SumRet,\r\n                        status:true\r\n                    },\r\n                    showIconError:true\r\n                }\r\n            })\r\n\r\n        }else{\r\n            //Суммы хватает\r\n            setStatePromokodeActive({\r\n                ...StatePromokodeActive,\r\n                ...{\r\n                    errorSum:{\r\n                        countSum:0,\r\n                        status:false\r\n                    }\r\n                }\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    if(DiscountProductBoolean === true){\r\n        setStatePromokodeActive({\r\n            ...StatePromokodeActive,\r\n            ...{\r\n                errorProduct:{\r\n                    message:\"В корзине присутствует акционный товар. Промокод не может быть применен!\",\r\n                    status:true\r\n                },\r\n                showIconError:true\r\n            }\r\n        });\r\n    }\r\n\r\n    return StatePromokodeActive;\r\n};","import 'core-js/features/map';\r\nimport 'core-js/features/set';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport App from './StartPageVKapp';\r\n// import App from './App2';\r\n// import registerServiceWorker from './sw';\r\nimport { YMInitializer } from 'react-yandex-metrika';\r\n\r\n\r\n// Init VK  Mini App\r\nconnect.send('VKWebAppInit');\r\n\r\n// Если вы хотите, чтобы ваше веб-приложение работало в оффлайне и загружалось быстрее,\r\n// расскомментируйте строку с registerServiceWorker();\r\n// Но не забывайте, что на данный момент у технологии есть достаточно подводных камней\r\n// Подробнее про сервис воркеры можно почитать тут — https://vk.cc/8MHpmT\r\n// registerServiceWorker();\r\n\r\nReactDOM.render(\r\n        <App />\r\n    , document.getElementById('root'));\r\n\r\nReactDOM.render(\r\n    <YMInitializer\r\n        accounts={[56971987]}\r\n        options = { {\r\n            clickmap:true,\r\n            trackLinks:true,\r\n            accurateTrackBounce:true,\r\n            webvisor:true\r\n        } }\r\n        version = \"2\"\r\n    />\r\n    , document.getElementById('Metrickss'));\r\n","import React from \"react\";\r\n\r\nexport const ButtonEbee = ({children,\r\n                               onPress = console.log('Опа опа'),\r\n                               size = 'xl', //l - мини, xl - средняя , xxl - большая,\r\n                               active = true, //true - активная, false - не активная\r\n                               borderRadius = 0,\r\n                               marginBottom = 0,\r\n                               shadow = false,\r\n                               style = {}\r\n                           })=>{\r\n\r\n    const getSizeButton = (size)=>{\r\n        switch (size) {\r\n            case 'l' : return styles.lButton;\r\n            case 'xl' : return styles.xlButton;\r\n            case 'xxl' : return styles.xxlButton;\r\n            default: return styles.xlButton;\r\n        }\r\n    };\r\n\r\n    //console.log(active);\r\n\r\n    const getTypeButton = (active)=>{\r\n        switch (active) {\r\n            case true : return styles.allButtonStyle;\r\n            case false : return styles.noActiveButton;\r\n            default: return styles.allButtonStyle;\r\n        }\r\n    };\r\n\r\n    let Shadows = styles.shadow;\r\n\r\n    if(shadow === false){\r\n        Shadows = {...styles.shadowOff,...{marginBottom:marginBottom}};\r\n    }else{\r\n        Shadows = {...styles.shadow,...{marginBottom:marginBottom}};\r\n    }\r\n\r\n    return(\r\n        <div\r\n            onClick={onPress}\r\n            style={{...styles.overflowHidden}}\r\n        >\r\n            <div style={{...Shadows,...styles.allButtonStyle,...{borderRadius:borderRadius},...getSizeButton(size),...getTypeButton(active),...style}}>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nconst styles = {\r\n    allButtonStyle:{\r\n        backgroundColor:\"#FF7300\",\r\n        color:\"#FFFFFF\",\r\n        textAlign:\"center\",\r\n        margin: 0,\r\n        overflow: \"hidden\",\r\n        width:\"99%\",\r\n        display:\"inline-block\",\r\n        boxSizing:\"border-box\"\r\n    },\r\n    noActiveButton:{\r\n        backgroundColor:\"#eeeeee\",\r\n        color:\"#333333\",\r\n        textAlign:\"center\",\r\n        margin: 0,\r\n        overflow: \"hidden\",\r\n        width:\"99%\"\r\n    },\r\n    overflowHidden:{\r\n        overflow:\"hidden\",\r\n        padding:\"5px 0\",\r\n        justifyContent:\"center\",\r\n        alignItems:\"center\"\r\n    },\r\n    lButton:{\r\n        fontSize:12,\r\n        padding:\"12px 20px\",\r\n    },\r\n    xlButton:{\r\n        fontSize:16,\r\n        padding:\"12px 20px\",\r\n    },\r\n    xxlButton:{\r\n        fontSize:20,\r\n        padding:\"12px 20px\",\r\n    },\r\n\r\n    shadow:{\r\n        borderWidth:0,\r\n        shadowColor: \"#000\",\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 3,\r\n        },\r\n        shadowOpacity: 0.20,\r\n        shadowRadius: 0,\r\n        elevation: 3,\r\n        marginBottom:\"10px\"\r\n    },\r\n    shadowOff:{\r\n        borderWidth:0,\r\n        shadowColor: \"#000\",\r\n        shadowOffset: {\r\n            width: 0,\r\n            height: 0,\r\n        },\r\n        shadowOpacity: 0.22,\r\n        shadowRadius: 0,\r\n        elevation: 0,\r\n        marginBottom:\"10px\"\r\n    }\r\n};","import React from \"react\";\r\n\r\n\r\nexport const NumberFormatPrice = ((number, decimals, dec_point, separator )=> {\r\n    number = (number + '').replace(/[^0-9+\\-Ee.]/g, '');\r\n    var n = !isFinite(+number) ? 0 : +number,\r\n        prec = !isFinite(+decimals) ? 0 : Math.abs(decimals),\r\n        sep = (typeof separator === 'undefined') ? ',' : separator ,\r\n        dec = (typeof dec_point === 'undefined') ? '.' : dec_point,\r\n        s = '',\r\n        toFixedFix = function(n, prec) {\r\n            var k = Math.pow(10, prec);\r\n            return '' + (Math.round(n * k) / k)\r\n                .toFixed(prec);\r\n        };\r\n    // Фиксим баг в IE parseFloat(0.55).toFixed(0) = 0;\r\n    s = (prec ? toFixedFix(n, prec) : '' + Math.round(n))\r\n        .split('.');\r\n    if (s[0].length > 3) {\r\n        s[0] = s[0].replace(/\\B(?=(?:\\d{3})+(?!\\d))/g, sep);\r\n    }\r\n    if ((s[1] || '')\r\n        .length < prec) {\r\n        s[1] = s[1] || '';\r\n        s[1] += new Array(prec - s[1].length + 1)\r\n            .join('0');\r\n    }\r\n    return s.join(dec);\r\n});","import React from 'react';\r\nimport {NumberFormatPrice} from \"../../NumberFormatFN\";\r\n\r\n\r\nexport const GetPriceProductBasket = ({ ProductData, countProduct }) => {\r\n\r\n    //console.log('Для вывода инфы -------=============ЮЮЮЮЮЮЮЮЮ',ProductData);\r\n    if(ProductData.price_discount !== false){\r\n        return NumberFormatPrice(ProductData.price_discount.new_price*countProduct,0,'.',' ');\r\n    }else{\r\n        return NumberFormatPrice(ProductData.price*countProduct,0,'.',' ');\r\n    }\r\n};\r\n\r\n\r\nexport const GetPriceProductBasketDiscount = ( ProductData, countProduct ) => {\r\n\r\n    //console.log('Для вывода инфы -------=============ЮЮЮЮЮЮЮЮЮ',ProductData);\r\n    if(ProductData.price_discount !== false){\r\n\r\n        let Sum =0;\r\n        Sum = (ProductData.price_discount.old_price*countProduct)-(ProductData.price_discount.new_price*countProduct);\r\n        if(Sum<=0){Sum = 0;}\r\n        return Sum;\r\n    }else{\r\n        return 0;\r\n    }\r\n};\r\n\r\n\r\nexport const GetPriceProductBasketVisual = ({ ProductData, countProduct, stylePrice,styleNewPrice,styleOldPrice , fontSize = 16, fontFamily = 'bold', priceBlock = \"row\" }) => {\r\n\r\n    //console.log('Для вывода инфы -------=============ЮЮЮЮЮЮЮЮЮ',ProductData);\r\n    if(ProductData.price_discount !== false){\r\n        return (\r\n            <div style={{...styles.PriceBlock,...{flexDirection:priceBlock}}}>\r\n                <div style={{...styles.Newprice,...styleNewPrice,...{fontWeight:fontFamily}}}>\r\n                    {ProductData.price_discount.new_price*countProduct} ₽\r\n                </div>\r\n                <div style={{...styles.Oldprice,...styleOldPrice}}>\r\n                    {NumberFormatPrice(ProductData.price_discount.old_price*countProduct,0,'.',' ')} ₽\r\n                </div>\r\n            </div>\r\n        )\r\n    }else{\r\n        return (\r\n            <div style={{...styles.PriceBlock,...{flexDirection:priceBlock}}}>\r\n                <div style={{...{...styles.price,...stylePrice},...{fontSize:fontSize},...{fontWeight:fontFamily}}}>\r\n                    {NumberFormatPrice(ProductData.price*countProduct,0,'.',' ')} ₽\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport const GetPriceProductBasketPromokodeVisual = ({ BasketPromoDiscount, ProductId, typeProduct, stylePrice,styleNewPrice,styleOldPrice , fontSize = 16, fontFamily = 'bold', priceBlock = \"row\" }) => {\r\n\r\n    let SuccesProduct = false;\r\n    let NumberArrayKeyProduct = 0;\r\n\r\n    BasketPromoDiscount.forEach((item,number)=>{\r\n        //console.log(item,number);\r\n        if(item.id_product === ProductId && item.type_product === typeProduct){\r\n            if(item.sumPriceSale !== item.sumPriceDef){\r\n                SuccesProduct = true;\r\n                NumberArrayKeyProduct = number;\r\n            }else{\r\n                SuccesProduct = false;\r\n                NumberArrayKeyProduct = number;\r\n            }\r\n\r\n            //console.log(NumberArrayKeyProduct);\r\n        }\r\n    });\r\n\r\n    // console.log(BasketPromoDiscount,NumberArrayKeyProduct);\r\n\r\n    if(SuccesProduct !== false){\r\n        return (\r\n            <div style={{...styles.PriceBlock,...{flexDirection:priceBlock}}}>\r\n                <div style={{...styles.Newprice,...styleNewPrice,...{fontWeight:fontFamily}}}>\r\n                    {NumberFormatPrice(BasketPromoDiscount[NumberArrayKeyProduct].sumPriceSale,0,'.',' ')} ₽\r\n                </div>\r\n                <div style={{...styles.Oldprice,...styleOldPrice}}>\r\n                    {NumberFormatPrice(BasketPromoDiscount[NumberArrayKeyProduct].sumPriceDef,0,'.',' ')} ₽\r\n                </div>\r\n            </div>\r\n        )\r\n    }else{\r\n        return (\r\n            <div style={{...styles.PriceBlock,...{flexDirection:priceBlock}}}>\r\n                <div style={{...{...styles.price,...stylePrice},...{fontSize:fontSize},...{fontWeight:fontFamily}}}>\r\n                    {NumberFormatPrice(BasketPromoDiscount[NumberArrayKeyProduct].sumPriceDef,0,'.',' ')} ₽\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\n\r\nexport const GetPriceProductBasketNumber = (ProductData, countProduct, returnBoleanDiscount = false) => {\r\n\r\n    let SumReturn = 0;\r\n    let Bolean = false;\r\n\r\n    if(ProductData.price_discount !== false){\r\n        SumReturn = (ProductData.price_discount.new_price*countProduct);\r\n        Bolean = true;\r\n    }else{\r\n        SumReturn = (ProductData.price*countProduct);\r\n        Bolean = false;\r\n    }\r\n\r\n    if(returnBoleanDiscount ===true){\r\n        return Bolean;\r\n    }else{\r\n        return SumReturn;\r\n    }\r\n\r\n};\r\n\r\nexport const GetTypePriceProductBasket = (ProductData = {}) => {\r\n\r\n    if(ProductData.price_discount !== false){\r\n        return true;\r\n    }else{\r\n        return false;\r\n    }\r\n};\r\n\r\n\r\n\r\nconst styles = {\r\n    PriceBlock: {\r\n        display:\"flex\",\r\n        flexDirection:\"row\",\r\n        justifyContent:\"flex-start\",\r\n        alignItems:\"stretch\"\r\n    },\r\n    PriceText:{\r\n\r\n    },\r\n    price: {\r\n        color: \"#252622\",\r\n        fontWeight: 'bold',\r\n        fontSize:18\r\n    },\r\n    Newprice: {\r\n        color: \"#FF7300\",\r\n        fontWeight: 'bold',\r\n        fontSize:18,\r\n        paddingRight:5\r\n    },\r\n    Oldprice:{\r\n        fontSize: 10,\r\n        textDecorationLine:\"line-through\"\r\n    }\r\n};\r\n","// globals/index.js\r\n\r\nglobal.URLCite = 'https://суши-тайм.рф/';\r\n\r\n\r\n// global.CityIdSystem = '&CityIdSystem=1';\r\n// global.phonenumberCollVisual = '+7 (4722) 777-498';\r\n//\r\n// global.phonenumberColl = 'tel:+74722777498';\r\n// global.linkSocSeti = '//vk.com/im?sel=-87074888';\r\n\r\nglobal.CityIdSystem = '&CityIdSystem=4';\r\n\r\nglobal.phonenumberColl = 'tel:+74732030128';\r\nglobal.phonenumberCollVisual = '+7 (473) 203-01-28';\r\nglobal.linkSocSeti = '//vk.com/im?sel=-202333296';\r\n\r\nglobal.ApiKey = '03478f08258a5b0e7f4a1e83dae33da9'+global.CityIdSystem;\r\n\r\nglobal.CityListBind = [];\r\n\r\nglobal.searchProduct = '';\r\n\r\nglobal.settingsFilterSearch = {\r\n    typeSearch:0,\r\n    typeProduct: false\r\n};\r\n\r\nglobal.ii =0;\r\n\r\nglobal.Metrika = {};","import React from 'react';\r\nimport { Div } from '@vkontakte/vkui';\r\n\r\n\r\nexport default function ButtonInCart({CartProducts,typeProduct2,setCarts}){\r\n\r\n    function getInCarts(typeProduct,setCart){\r\n        // console.log(setCart);\r\n        const Buttons =\r\n            <button onClick={() => {setCart(typeProduct);}}>\r\n                В корзину\r\n            </button>;\r\n\r\n        return Buttons;\r\n    }\r\n\r\n    function getCountButton(typeProduct,counts,setCart){\r\n        const Buttons =\r\n            <div className=\"CounterInCart\">\r\n                <div className=\"minus\" onClick={() => {setCart(typeProduct,'-');}}>\r\n                    -\r\n                </div>\r\n                {counts}\r\n                <div className=\"pluse\" onClick={() => {setCart(typeProduct);}}>\r\n                    +\r\n                </div>\r\n            </div>;\r\n\r\n        return Buttons;\r\n    }\r\n\r\n    function getButtonInCartProduct(typeProduct,setCart){\r\n       // console.log(CartProducts,'---0---',typeProduct,setCart);\r\n        if(!!CartProducts){\r\n            var ButOk = false;\r\n            var id_CartPr = '';\r\n            CartProducts.map((data,key)=>{\r\n                //console.log(data.id_Product,typeProduct.id_Product, data.type_product,typeProduct.type_product,'++++++++++++++++++');\r\n                if(data.id_Product === typeProduct.id_Product & data.type_product === typeProduct.type_product){\r\n                    ButOk = true;\r\n                    id_CartPr = key;\r\n                }\r\n            });\r\n\r\n            if(ButOk === true){\r\n                //console.log('Выполняется условие товар есть');\r\n                return  getCountButton(typeProduct,CartProducts[id_CartPr]['count'],setCart);\r\n            }else{\r\n                //console.log('Выполняется условие товара нет');\r\n                return getInCarts(typeProduct,setCart);\r\n            }\r\n        }else{\r\n            //console.log('Выполняется условие корзина пуста, вывод просто кнопки');\r\n            return getInCarts(typeProduct,setCart);\r\n        }\r\n\r\n\r\n    }\r\n\r\n    return(getButtonInCartProduct(typeProduct2,setCarts));\r\n\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/persik.4e1ec840.png\";","import React from 'react';\r\nimport { Div, Search, Cell } from '@vkontakte/vkui';\r\n// import Icon28ChevronBack from '@vkontakte/icons/dist/28/chevron_back';\r\n// import Icon24Back from '@vkontakte/icons/dist/24/back';\r\n// import ModalProduct from '../ModalProduct.js';\r\nimport OneProduct from \"./OneProduct\";\r\nimport ym from 'react-yandex-metrika';\r\n\r\nimport axios from \"axios\";\r\nimport Icon24Filter from '@vkontakte/icons/dist/24/filter';\r\nrequire('../../panels/global/index.js');\r\n\r\nclass ProductList extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            activePanel: 'panel1',\r\n            nameCategory: 'none',\r\n            productsLists: null,\r\n            products:[{\"1\":{\"title\":\"ЕКАРНЫЙ БАБАЙ\"}}]\r\n        }\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        function ReverceCatalog(Pr){\r\n            var res = Object.keys(Pr).reduceRight(function (arr, last, index, coll) {\r\n                // console.log(last, index);\r\n                return (arr = arr.concat(last))\r\n            }, []);\r\n            return res;\r\n        }\r\n\r\n        function SearchProductTitle(Pr,DSr){\r\n            //console.log(Pr);\r\n\r\n            const Objs = Object.keys(Pr);\r\n\r\n            const retr = [];\r\n\r\n           Objs.forEach(function (oneProduct, keyId, array) {\r\n               if(testInput(DSr, Pr[oneProduct][0]['title'])){\r\n                   retr[keyId] = oneProduct;\r\n                  // console.log(Pr[oneProduct][0]);\r\n               }\r\n                }\r\n            );\r\n            return retr;\r\n        }\r\n\r\n\r\n        function SearchProductDescription(Pr,DSr){\r\n            //console.log(Pr);\r\n\r\n            const Objs = Object.keys(Pr);\r\n\r\n            const retr = [];\r\n\r\n           Objs.forEach(function (oneProduct, keyId, array) {\r\n               if(testInput(DSr, Pr[oneProduct][0]['description'])){\r\n                   retr[keyId] = oneProduct;\r\n               }\r\n                }\r\n            );\r\n            return retr;\r\n        }\r\n\r\n\r\n        function SearchProductType(Pr,DSr,ListIdProduct){\r\n            const retr = [];\r\n\r\n            ListIdProduct.forEach(function (oneProduct, keyId, array) {\r\n               if(testType(DSr, Pr[oneProduct][0]['modyficate'])){\r\n                   retr[keyId] = oneProduct;\r\n               }\r\n           }\r\n            );\r\n            return retr;\r\n        }\r\n\r\n        function testType(re,modyficate) {\r\n            var status = false;\r\n            if(modyficate.length <=0){\r\n                status = false;\r\n            }else{\r\n                modyficate.forEach(function(oneProduct, keyId, array){\r\n                    if(oneProduct.mod === re){\r\n                        status = true;\r\n                    }\r\n                });\r\n            }\r\n\r\n            return status;\r\n        }\r\n\r\n        function testInput(re, str) {\r\n            re = re.replace(/\\\\/g,\"\").replace(/ /g,\"_\").replace(/-/g,\"_\").toLowerCase();\r\n            str = str.replace(/\\\\/g,\"\").replace(/ /g,\"_\").replace(/-/g,\"_\").toLowerCase();\r\n\r\n            var midstring;\r\n            if (str.search(re) != -1) {\r\n                midstring = true;\r\n            } else {\r\n                midstring = false;\r\n            }\r\n\r\n            return midstring;\r\n        }\r\n\r\n        function compare(a, b) {\r\n            if (a.price < b.price) {\r\n                return -1;\r\n            }\r\n            if (a.price > b.price) {\r\n                return 1;\r\n            }\r\n            // a должно быть равным b\r\n            return 0;\r\n        }\r\n\r\n        function comparePrice(Pr){\r\n            //console.log(Pr);\r\n            return Object.keys(Pr).sort(compare)\r\n        }\r\n\r\n\r\n        function ArrayProducts(Pr,ClickProductF,setProductModal,setCart, getButtonInCartProduct,ReverceStatus = 0,SearchText = null) {\r\n            var CatalogLists = [];\r\n            if(ReverceStatus === 0){\r\n                CatalogLists = ReverceCatalog(Pr);\r\n            }\r\n            if(ReverceStatus === 1){\r\n                CatalogLists = comparePrice(Pr);\r\n            }\r\n\r\n            if(ReverceStatus === 2){\r\n                CatalogLists = Object.keys(Pr);\r\n            }\r\n\r\n            if(ReverceStatus === 3){\r\n                if(global.settingsFilterSearch.typeSearch === 0) {\r\n                    CatalogLists = SearchProductTitle(Pr, SearchText);\r\n                }else{\r\n                    CatalogLists = SearchProductDescription(Pr, SearchText);\r\n                }\r\n                try {\r\n                    if (global.Metrika.Markers[2].active == '1') {\r\n                        ym('reachGoal', global.Metrika.Markers[2].marker);\r\n                    }\r\n                }catch (e) {\r\n\r\n                }\r\n            }\r\n\r\n            if(global.settingsFilterSearch.typeProduct === false){}else{\r\n                CatalogLists = SearchProductType(Pr, global.settingsFilterSearch.typeProduct,CatalogLists);\r\n            }\r\n\r\n\r\n            //console.log('|||||||||||||||||||||||||||||||',CatalogLists.length);\r\n\r\n            const ArrayPr = CatalogLists.map((oneProduct, keyId) =>\r\n                <OneProduct\r\n                    key={'Products_'+keyId}\r\n                    product={Pr[oneProduct]}\r\n                    ClickProduct={ClickProductF.bind(this)}\r\n                    setCart={setCart.bind(this)}\r\n                    setProductModal={setProductModal.bind(this)}\r\n                    getButtonInCartProduct={getButtonInCartProduct.bind(this)}\r\n                />\r\n            );\r\n\r\n            if(ArrayPr.length <=0){\r\n               return false;\r\n            }else{\r\n                return ArrayPr;\r\n            }\r\n\r\n        }\r\n\r\n\r\n        function ShowProductCategory(nameCategorys){\r\n            //console.log('ShowProductCategory ',nameCategorys);\r\n            if(nameCategorys.nameCategorys === 'sets'){\r\n                // console.log('d-d-d-d-',nameCategorys.productsLists[nameCategorys.idCategory]);\r\n                const resGetSets = <GetSets\r\n                    SearchState={nameCategorys.SearchState}\r\n                    key={nameCategorys.key}\r\n                    names={nameCategorys.nameCategorys}\r\n                    ProductArray={nameCategorys.productsLists}\r\n                    ClickProduct={nameCategorys.ClickProduct.bind(this)}\r\n                    setCart={nameCategorys.setCart.bind(this)}\r\n                    setProductModal={nameCategorys.setProductModal.bind(this)}\r\n                    getButtonInCartProduct={nameCategorys.getButtonInCartProduct.bind(this)}\r\n                    clrStatus={nameCategorys.clrStatus}\r\n                />;\r\n                if(resGetSets === false){\r\n\r\n                    return false;\r\n                }else{\r\n                    //console.log(resGetSets);\r\n                    return (resGetSets);\r\n                }\r\n\r\n            }\r\n            if(nameCategorys.nameCategorys === 'sushi'){\r\n                return (<GetSushi names={nameCategorys.nameCategorys}/>);\r\n            }\r\n            if(nameCategorys.nameCategorys === 'roli'){\r\n                return (<GetRoli names={nameCategorys.nameCategorys}/>);\r\n            }else{\r\n                return (<GetNoneCat names={nameCategorys.nameCategorys}/>);\r\n            }\r\n\r\n        }\r\n\r\n\r\n        function GetSets(ArrayPr) {\r\n          // console.log('SearchState ',ArrayPr.SearchState );\r\n            if(ArrayPr.SearchState == '' || ArrayPr.SearchState === false || ArrayPr.SearchState === undefined){\r\n                return (\r\n                    <div>\r\n                        {ArrayPr.clrStatus === true ? <div className=\"clrHeight\"></div> : \"\" }\r\n                        <Div id={\"block_categorys_\"+ArrayPr.names} key={\"block_categorys_\"+ArrayPr.names} className=\"blockCategoryFlex\">\r\n                            {ArrayProducts(ArrayPr.ProductArray,ArrayPr.ClickProduct.bind(this),ArrayPr.setProductModal.bind(this),ArrayPr.setCart.bind(this),ArrayPr.getButtonInCartProduct.bind(this),0)}\r\n                        </Div>\r\n                    </div>\r\n                );\r\n            }else{\r\n\r\n                const ResPrVal = ArrayProducts(ArrayPr.ProductArray,ArrayPr.ClickProduct.bind(this),ArrayPr.setProductModal.bind(this),ArrayPr.setCart.bind(this),ArrayPr.getButtonInCartProduct.bind(this),3,ArrayPr.SearchState);\r\n\r\n                if(ResPrVal === false){\r\n                   //console.log('Нет данных',ResPrVal);\r\n                    return false;\r\n                }else{\r\n                    return (\r\n                        <div>\r\n                        {ArrayPr.clrStatus === true ? <div className=\"clrHeight\"></div> : \"\" }\r\n                            <Div id={\"block_categorys_\"+ArrayPr.names} key={\"block_categorys_\"+ArrayPr.names} className=\"blockCategoryFlex\">\r\n                                {ResPrVal}\r\n                            </Div>\r\n                        </div>\r\n                    );\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n\r\n        function SearchFn(ArrayPr,SrText) {\r\n           //console.log('ArrayPr ',ArrayPr);\r\n            return (\r\n                <Div id={\"block_categorys_\"+ArrayPr.names} key={\"block_categorys_\"+ArrayPr.names} className=\"blockCategoryFlex\">\r\n                    {ArrayProducts(ArrayPr.ProductArray,ArrayPr.ClickProduct.bind(this),ArrayPr.setProductModal.bind(this),ArrayPr.setCart.bind(this),ArrayPr.getButtonInCartProduct.bind(this),3,SrText)}\r\n                </Div>\r\n            );\r\n        }\r\n\r\n        function GetSushi(names) {\r\n            return (\r\n                <Div id={names.names} className=\"blockCategoryFlex\">\r\n                    <Div className=\"blockProduct\"><Div className=\"imgPrewieProduct\"><img alt=\"Суши\" src=\"https://суши-тайм.рф/images/tovars/croppedImg_93445642.png\"/></Div><Div className=\"titleProduct\">Суши с креветкой</Div><Div className=\"DescrProduct\">Описание товара</Div><Div className=\"priceProductBig\">Стоимость <span className=\"priceProduct\">1 000 руб.</span></Div></Div>\r\n                    <Div className=\"blockProduct\"><Div className=\"imgPrewieProduct\"><img alt=\"Суши\" src=\"https://суши-тайм.рф/images/tovars/croppedImg_93445642.png\"/></Div><Div className=\"titleProduct\">Суши с лососем</Div><Div className=\"DescrProduct\">Описание товара</Div><Div className=\"priceProductBig\">Стоимость <span className=\"priceProduct\">1 000 руб.</span></Div></Div>\r\n                    <Div className=\"blockProduct\"><Div className=\"imgPrewieProduct\"><img alt=\"Суши\" src=\"https://суши-тайм.рф/images/tovars/croppedImg_93445642.png\"/></Div><Div className=\"titleProduct\">Суши краб</Div><Div className=\"DescrProduct\">Описание товара</Div><Div className=\"priceProductBig\">Стоимость <span className=\"priceProduct\">1 000 руб.</span></Div></Div>\r\n                    <Div className=\"blockProduct\"><Div className=\"imgPrewieProduct\"><img alt=\"Суши\" src=\"https://суши-тайм.рф/images/tovars/croppedImg_93445642.png\"/></Div><Div className=\"titleProduct\">Суши копченый лосот</Div><Div className=\"DescrProduct\">Описание товара</Div><Div className=\"priceProductBig\">Стоимость <span className=\"priceProduct\">1 000 руб.</span></Div></Div>\r\n                </Div>\r\n            );\r\n        }\r\n\r\n        function GetRoli(names) {\r\n            return (\r\n                <Div id={names.names} className=\"blockCategoryFlex\">\r\n                    <Div className=\"blockProduct\"><Div className=\"imgPrewieProduct\"><img alt=\"Роллы\" src=\"https://суши-тайм.рф/images/tovars/croppedImg_1061187804.jpeg\"/></Div><Div className=\"titleProduct\">Ролл с тунцом</Div><Div className=\"DescrProduct\">Описание товара</Div><Div className=\"priceProductBig\"> <span className=\"priceProduct\">1 000 руб.</span></Div></Div>\r\n                    <Div className=\"blockProduct\"><Div className=\"imgPrewieProduct\"><img alt=\"Роллы\" src=\"https://суши-тайм.рф/images/tovars/croppedImg_1061187804.jpeg\"/></Div><Div className=\"titleProduct\">Ролл с лососем</Div><Div className=\"DescrProduct\">Описание товара</Div><Div className=\"priceProductBig\"> <span className=\"priceProduct\">1 000 руб.</span></Div></Div>\r\n                    <Div className=\"blockProduct\"><Div className=\"imgPrewieProduct\"><img alt=\"Роллы\" src=\"https://суши-тайм.рф/images/tovars/croppedImg_1061187804.jpeg\"/></Div><Div className=\"titleProduct\">Ролл Филадельфия</Div><Div className=\"DescrProduct\">Описание товара</Div><Div className=\"priceProductBig\"> <span className=\"priceProduct\">1 000 руб.</span></Div></Div>\r\n                    <Div className=\"blockProduct\"><Div className=\"imgPrewieProduct\"><img alt=\"Роллы\" src=\"https://суши-тайм.рф/images/tovars/croppedImg_1061187804.jpeg\"/></Div><Div className=\"titleProduct\">Филадельфия с крабом</Div><Div className=\"DescrProduct\">Описание товара</Div><Div className=\"priceProductBig\"> <span className=\"priceProduct\">1 000 руб.</span></Div></Div>\r\n                </Div>\r\n            );\r\n        }\r\n\r\n        function GetNoneCat(names){\r\n            return (\r\n                <Div id={names} className=\"blockCategoryFlex\">\r\n                <h1>К сожаление категория пуста!</h1>\r\n                </Div>\r\n            );\r\n        }\r\n\r\n        // function GetModalProduct(product){\r\n        //     return(\r\n        //\r\n        //     )\r\n        // }\r\n\r\n        if(this.props.clrStatus === undefined){\r\n            var clrStatus = true;\r\n        }else{\r\n            var clrStatus = this.props.clrStatus;\r\n        }\r\n\r\n        const ResultCategoryReturn = <ShowProductCategory\r\n            SearchState={this.props.searchProduct}\r\n            productsLists={this.props.productsLists}\r\n            nameCategorys={this.props.nameCategory}\r\n            idCategory={this.props.idCategorys}\r\n            ClickProduct={this.props.onClickProduct.bind(this,'Panels_Product')}\r\n            setCart={this.props.setCart.bind(this)}\r\n            setProductModal={this.props.setProductModal.bind(this)}\r\n            getButtonInCartProduct={this.props.getButtonInCartProduct.bind(this)}\r\n            clrStatus={clrStatus}\r\n        />;\r\n\r\n        if(ResultCategoryReturn === false){\r\n            return (\"\");\r\n        }else{\r\n            //console.log(ResultCategoryReturn);\r\n            return (\r\n                ResultCategoryReturn\r\n            );\r\n        }\r\n\r\n\r\n    }\r\n}\r\n\r\nexport default ProductList;","import React, { useState, useEffect } from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport {Alert, Div,Input,FormLayout, Button, Select, Search, Footer, Cell } from '@vkontakte/vkui';\r\nimport axios from \"axios\";\r\nimport ScreenSpinner from '@vkontakte/vkui/dist/components/ScreenSpinner/ScreenSpinner';\r\n\r\nclass FormNewAddress extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n                city: '',\r\n                street: '',\r\n                streetSearch: '',\r\n                home: '',\r\n                entrance: '',\r\n                level: '',\r\n                flat: '',\r\n                comment:'',\r\n            streetCityVisual:'',\r\n            streetName:null,\r\n            streetList:{},\r\n            search:'',\r\n            pauseLoadStreet:true\r\n        }\r\n\r\n        this.addressItems = [\r\n            // { label: 'Город', name: 'city', statusChech:'yes', minValue:5, valPls:'' },\r\n            //{ label: 'Название улицы', name: 'street', statusChech:'yes', minValue:4, valPls:'' },\r\n            { label: '№ дома', name: 'home', statusChech:'yes', minValue:0, valPls:'' },\r\n            { label: '№ квартиры/офиса', name: 'flat', statusChech:'', minValue:0, valPls:'' },\r\n            { label: '№ подъезда', name: 'entrance', statusChech:'', minValue:0, valPls:'' },\r\n            { label: 'Этаж', name: 'level', statusChech:'', minValue:0, valPls:''},\r\n            { label: 'Примечание', name: 'comment', statusChech:'', minValue:0, valPls:'Пример: Квартира сестры' }\r\n        ];\r\n\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onInput = this.onInput.bind(this);\r\n        this.openDefault = this.openDefault.bind(this);\r\n\r\n        this.closePopout = this.closePopout.bind(this);\r\n\r\n        if(this.props.AddressEdit){\r\n            this.state = {\r\n                    id:this.props.AddressEdit.id,\r\n                    city: this.props.AddressEdit.city,\r\n                    street: this.props.AddressEdit.street,\r\n                    home: this.props.AddressEdit.home,\r\n                    entrance: this.props.AddressEdit.podezd,\r\n                    level: this.props.AddressEdit.etaj,\r\n                    flat: this.props.AddressEdit.kvartira,\r\n                    comment: this.props.AddressEdit.comment,\r\n                streetCityVisual:this.props.AddressEdit.city+' '+this.props.AddressEdit.street,\r\n                streetName:this.props.AddressEdit.street,\r\n                streetList:{},\r\n                search:this.props.AddressEdit.street,\r\n                }\r\n        }\r\n    }\r\n\r\n    onChange(e) {\r\n        const { name, value } = e.currentTarget;\r\n        // if((value === null || value === '') & name === 'city'){}else {\r\n        //     this.setState({[name]: value});\r\n        // }\r\n        this.setState({[name]: value});\r\n       // console.log(this.state);\r\n    }\r\n\r\n    onInput(e) {\r\n        console.log(e);\r\n        this.setState({ search: e });\r\n        if(e.length >2) {\r\n            this.getStreetList(e, 1);\r\n        }else{\r\n            this.setStreetList({});\r\n        }\r\n        // console.log(e.target.value,'Ввели');\r\n        // this.getStreetList(e.target.value,1)\r\n        // return value;\r\n    }\r\n\r\n\r\n    openDefault () {\r\n        this.props.setPopout({ popout:\r\n                <Alert\r\n                    actions={[{\r\n                        title: 'Исправить',\r\n                        autoclose: true,\r\n                        style: 'cancel'\r\n                    }]}\r\n                    onClose={this.closePopout}\r\n                >\r\n                    <h2>Не все поля адреса заполнены</h2>\r\n                    <p>Внимательно заполните все поля, для сохранения адреса доставки!</p>\r\n                </Alert>\r\n        });\r\n    }\r\n\r\n\r\n\r\n    saveNewAddress(){\r\n        if(this.state.city === '' || this.state.street === '' || this.state.home === ''){\r\n            this.openDefault();\r\n        }else{\r\n           // console.log('Все ок, отправлем адрес на сохранение');\r\n            this.props.setPopout({ popout:<ScreenSpinner />});\r\n            //Функция для отправки адреса на сервер.\r\n\r\n            axios('https://суши-тайм.рф/api/setAddressUser&apiKey='+global.ApiKey+'',\r\n                {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n                    data: {\r\n                        addressInfo:this.state,\r\n                        idUserVK:this.props.userInfo.id\r\n                    },\r\n                    responseType:'text'\r\n                })\r\n                .then(({ data }) => {\r\n                    if(\"error\" in data){\r\n                        console.log(data.error,'|',data.errorInfo);\r\n                    }else{\r\n                        if(data.result.result_add === true){\r\n                            console.log('Обновляем адреса',data);\r\n                                this.props.getAddressUserSystem();\r\n                            this.props.setPopout({ popout:null});\r\n                            this.props.setAddressDefault(0);\r\n                        }else{\r\n                            console.log('Ошибка ',data);\r\n                        }\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.log(\"ERROR: ---Запрос Новый Адрес---  \",err);\r\n                });\r\n        }\r\n    }\r\n\r\n    saveEditAddress(){\r\n        if(this.state.city === '' || this.state.street === '' || this.state.home === ''){\r\n            this.openDefault();\r\n        }else{\r\n           // console.log('Все ок, отправлем адрес на сохранение');\r\n            this.props.setPopout({ popout:<ScreenSpinner />});\r\n            //Функция для отправки адреса на сервер.\r\n\r\n            axios('https://суши-тайм.рф/api/editAddressUser&apiKey='+global.ApiKey+'',\r\n                {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n                    data: {\r\n                        addressInfo:this.state,\r\n                        idUserVK:this.props.userInfo.id\r\n                    },\r\n                    responseType:'text'\r\n                })\r\n                .then(({ data }) => {\r\n                    if(\"error\" in data){\r\n                        console.log(data.error,'|',data.errorInfo);\r\n                    }else{\r\n                        if(data.result.result_add === true){\r\n                            console.log('Обновляем адреса',data);\r\n                                this.props.getAddressUserSystem();\r\n                            this.props.setPopout({ popout:null});\r\n                            //this.props.setAddressDefault(0);\r\n                        }else{\r\n                            console.log('Ошибка ',data);\r\n                        }\r\n                    }\r\n                })\r\n                .catch((err) => {\r\n                    console.log(\"ERROR: ---Запрос Новый Адрес---  \",err);\r\n                });\r\n        }\r\n    }\r\n\r\n    getStreetList(S,idC){\r\n        console.log(S,idC,'Передали');\r\n        this.setState({pauseLoadStreet:true});\r\n       // this.props.setPopout({ popout:<ScreenSpinner />});\r\n        axios('https://суши-тайм.рф/api/getStreetList&apiKey='+global.ApiKey+'',\r\n            {\r\n                method: 'GET',\r\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n                data: {\r\n                    nameStreet:S,\r\n                    city_users_id:idC\r\n                },\r\n                params:{\r\n                    nameStreet:S,\r\n                    city_users_id:idC\r\n                },\r\n                responseType:'text'\r\n            })\r\n            .then(({ data }) => {\r\n                if(\"error\" in data){\r\n                    console.log(data.error,'|',data.errorInfo);\r\n                }else{\r\n                    if(\"result\" in data){\r\n                        console.log('Получили список вариантов',data.result);\r\n                        this.setStreetList(data.result);\r\n                       // this.props.setPopout({ popout:null});\r\n                    }else{\r\n                        console.log('Ошибка ',data);\r\n                    }\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(\"ERROR: ---Получение списка улиц---  \",err);\r\n            });\r\n    }\r\n\r\n\r\n    closePopout () {\r\n        this.props.setPopout({ popout: null });\r\n    }\r\n\r\n    getCitySelect(idCity,def = null){\r\n        if(idCity in global.CityListBind) {\r\n            const ListCityOrigin = global.CityListBind[idCity].listCity;\r\n            const ListCitys = Object.keys(global.CityListBind[idCity].listCity);\r\n            const ListOption = ListCitys.map((data, key) => {\r\n                return (<option\r\n                    key={key}\r\n                    value={ListCityOrigin[data].title}\r\n                >\r\n                    {\r\n                        ListCityOrigin[data].title\r\n                    }\r\n                </option>);\r\n            });\r\n            return (\r\n                ListOption\r\n            );\r\n        }else{\r\n            return (\"\");\r\n        }\r\n    }\r\n\r\n    setStreetList(list){\r\n        this.setState({streetList : list,pauseLoadStreet:true});\r\n        console.log('прпрпрпр',this.state.streetList);\r\n        this.setState({pauseLoadStreet:false});\r\n    }\r\n\r\n    setStreetCityAdres(Localitytype,LocalityName,LocalityId,typeStreet,streetName) {\r\n        this.setState({\r\n            city: LocalityName,\r\n            street: typeStreet+', '+streetName,\r\n            streetSearch: streetName,\r\n            streetCityVisual: Localitytype+' '+LocalityName+' '+typeStreet + ' ' + streetName,\r\n        });\r\n    }\r\n\r\n\r\n\r\n    getFormSetStreetName(){\r\n        return(\r\n            <div className=\"searckBoxses\">\r\n                <Search value={this.state.search}  onChange={this.onInput} after={null} placeholder=\"Введите улицу\"/>\r\n                <div style={{minHeight:\"400px\"}}>\r\n                {this.state.pauseLoadStreet === true ? \"\" :\r\n                    Object.keys(this.state.streetList).length > 0 ?\r\n                        Object.keys(this.state.streetList).map((number,id) =>\r\n                            <Cell onClick={()=>{this.setStreetCityAdres(this.state.streetList[number].typeLocality,this.state.streetList[number].LocalityName,this.state.streetList[number].idLocality,this.state.streetList[number].typeStreet,this.state.streetList[number].name);}} className=\"streetCellChecker\" key={this.state.streetList[number].id}>\r\n                                <div className=\"nameCity\">{this.state.streetList[number].LocalityName}</div>\r\n                                <div className=\"nameStreet\">{this.state.streetList[number].typeStreet} {this.state.streetList[number].name}</div>\r\n                            </Cell>\r\n                        )\r\n                        :\r\n                        <Cell className=\"streetCellChecker\" key=\"noneStreet\">\r\n                            Ничего не найдено\r\n                        </Cell>\r\n                }\r\n                </div>\r\n                <div style={{padding:\"160px 0\"}}></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    getOkStreetNameValue(){\r\n        return(<FormLayout>\r\n            {/*<Select placeholder=\"Город / Населенный пункт\" onChange={this.onChange} name=\"city\" key={\"input_city\"} top=\"Город\">*/}\r\n            {/*    {this.getCitySelect(1)}*/}\r\n            {/*</Select>*/}\r\n            <Input\r\n                type=\"text\"\r\n                name=\"street\"\r\n                key={\"input_street\"}\r\n\r\n                value={\r\n                    this.state.streetCityVisual\r\n                }\r\n                status='valid'\r\n                onClick={()=>{this.setState({search:this.state.streetSearch,street:'',streetSearch:''})}}\r\n            />\r\n            {this.addressItems.map(({ label, name, statusChech, minValue, valPls }) => (\r\n                <Input\r\n                    type=\"text\"\r\n                    name={name}\r\n                    key={\"input_\"+name}\r\n                    top={label}\r\n                    onChange={this.onChange}\r\n                    value={\r\n                        this.state[name]\r\n                    }\r\n                    status={\r\n                        statusChech ?\r\n                            this.state[name] ?\r\n                                this.state[name].length >=minValue  ? 'valid' : 'error'\r\n                                : 'error'\r\n                            : \"\"\r\n                    }\r\n                    bottom={\r\n                        statusChech ?\r\n                            this.state[name] ?\r\n                                this.state[name].length >=minValue  ? '' : 'Введенные значение не корректно '+this.state[name].length\r\n                                : 'Обязательно к заполнению'\r\n                            : \"\"\r\n                    }\r\n                    placeholder={valPls}\r\n                />\r\n            ))}\r\n            <Button size=\"l\" style={{background:\"#ff7300\"}} onClick={()=>{this.saveNewAddress(); if(this.props.hideModals){this.props.hideModals()}}}>Подтвердить адрес</Button>\r\n        </FormLayout>);\r\n    }\r\n\r\n\r\n    getFormSetStreetNameEdit(){\r\n        return(\r\n            <div className=\"searckBoxses\">\r\n                <Search value={this.state.search}  onChange={this.onInput} after={null}  placeholder=\"Введите улицу\"/>\r\n                <div style={{minHeight:\"400px\"}}>\r\n                {this.state.pauseLoadStreet === true ? \"\" :\r\n                    Object.keys(this.state.streetList).length > 0 ?\r\n                        Object.keys(this.state.streetList).map((number,id) =>\r\n                            <Cell onClick={()=>{this.setStreetCityAdres(this.state.streetList[number].typeLocality,this.state.streetList[number].LocalityName,this.state.streetList[number].idLocality,this.state.streetList[number].typeStreet,this.state.streetList[number].name);}} className=\"streetCellChecker\" key={this.state.streetList[number].id}>\r\n                                <div className=\"nameCity\">{this.state.streetList[number].LocalityName}</div>\r\n                                <div className=\"nameStreet\">{this.state.streetList[number].typeStreet} {this.state.streetList[number].name}</div>\r\n                            </Cell>\r\n                        )\r\n                        :\r\n                        <Cell className=\"streetCellChecker\" key=\"noneStreet\">\r\n                            Ничего не найдено\r\n                        </Cell>\r\n                }\r\n                </div>\r\n                <div style={{padding:\"160px 0\"}}></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    getOkStreetNameValueEdit(){\r\n        return(<FormLayout>\r\n\r\n            <Input\r\n                type=\"text\"\r\n                name=\"street\"\r\n                key={\"input_street\"}\r\n\r\n                value={\r\n                    this.state.streetCityVisual\r\n                }\r\n                status='valid'\r\n                onClick={()=>{this.setState({search:this.state.streetSearch,street:'',streetSearch:''})}}\r\n            />\r\n\r\n            {this.addressItems.map(({ label, name, statusChech, minValue, valPls }) => (\r\n                <Input\r\n                    type=\"text\"\r\n                    name={name}\r\n                    key={\"input_\"+name}\r\n                    top={label}\r\n                    onChange={this.onChange}\r\n                    status={\r\n                        statusChech ?\r\n                            this.state[name] ?\r\n                                this.state[name].length >minValue  ? 'valid' : 'error'\r\n                                : 'error'\r\n                            : \"\"\r\n                    }\r\n                    value={this.state[name]}\r\n                    bottom={\r\n                        statusChech ?\r\n                            this.state[name] ?\r\n                                this.state[name].length >minValue  ? '' : 'Введенные значение не корректно'\r\n                                : 'Обязательно к заполнению'\r\n                            : \"\"\r\n                    }\r\n                    placeholder={valPls}\r\n                />\r\n            ))}\r\n            <Button size=\"l\" style={{background:\"#ff7300\"}} onClick={()=>{this.saveEditAddress(); if(this.props.hideModals){this.props.hideModals()}}}>Завершить редактирование</Button>\r\n        </FormLayout>);\r\n    }\r\n\r\n\r\n    getNulledForm(){\r\n        return(\r\n                this.state.street !== '' ? this.getOkStreetNameValue() : this.getFormSetStreetName()\r\n        );\r\n    }\r\n\r\n\r\n    getEditForm(){\r\n        return(\r\n            this.state.street !== '' ? this.getOkStreetNameValueEdit() : this.getFormSetStreetNameEdit()\r\n        );\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <Div>\r\n                {this.props.AddressEdit ? this.getEditForm() : this.getNulledForm()}\r\n            </Div>\r\n        );\r\n    };\r\n}\r\n\r\nexport default FormNewAddress;","import React from \"react\";\r\nimport {GetPriceProductBasketNumber, GetTypePriceProductBasket} from \"./getPriceProductBasket\";\r\n\r\nexport class PromokodeClass extends React.Component {\r\n\r\n    constructor(props){\r\n        super(props);\r\n        //console.log('Еп твоою');\r\n    }\r\n\r\n\r\n    // static init() {\r\n    //     return (()=>{\r\n    //         console.log('Запуск серверной базы данных');\r\n    //         //this.getSlideHeader();\r\n    //     });\r\n    // }\r\n\r\n\r\n    static getSalePromoOK(Product) {\r\n        let go_sale_ok = true;\r\n        // if (typeof PromoData == 'undefined') PromoData = {};\r\n\r\n        //Если товар уже со скидкой. то на него промокод не действует.\r\n        GetTypePriceProductBasket(Product) ? go_sale_ok = false : go_sale_ok = true;\r\n\r\n        return go_sale_ok;\r\n    }\r\n\r\n\r\n    //Вычисление скидки по промокоду\r\n    static getPriceFromPromokode(\r\n        Product, //Обьект товара в корзине (нужно передавать его совмещенным с обьектом товара в каталоге\r\n        SumReturn = 0, //Сумма возвращаемая из этой функции\r\n        type_price, //Цена товара конкретного типа (который проверяется)\r\n        countProductBasket = 0, //Кол-во товаров этого типа в корзине\r\n        Type_Product, //Тип продукта type_product 0,1,2,3 или all\r\n        PromoData = {}, //Обьект с настройками промокода полученный при проверке с сервера\r\n        countProductListBasket = 0, //Кол-во товаров под условиями промокода уже лежащих в корзине\r\n        idProduct = 0,\r\n        return_default = false// id товара тип которого проверяется\r\n    ) {\r\n\r\n        // console.log('Полученное значение возврата деф цены ',return_default);\r\n\r\n        let countReturnNext = 1;\r\n\r\n        type_price = GetPriceProductBasketNumber(Product,countReturnNext,false);\r\n\r\n        if(return_default || PromoData === null){\r\n            SumReturn = SumReturn + countProductBasket * type_price;\r\n            // console.log('Сработало это условие');\r\n            return {\"SumResult\":parseFloat(SumReturn.toFixed(0)),\"countProductListBasket\":countProductListBasket};\r\n        }\r\n\r\n        let sales = 0;\r\n        let proc_Sum = 0;\r\n\r\n        let go_sale_ok = true;\r\n\r\n        switch (PromoData.promokodeInfo.sale_type) {\r\n            case \"0\":\r\n                //скидка в %.\r\n                sales = PromoData.promokodeInfo.sale / 100;\r\n                proc_Sum = type_price * sales;\r\n                break;\r\n            case \"1\":\r\n                //скидка в рулях.\r\n                sales = PromoData.promokodeInfo.sale;\r\n                proc_Sum = sales;\r\n                if (proc_Sum < 0) {\r\n                    proc_Sum = 0;\r\n                }\r\n                break;\r\n        }\r\n\r\n        !return_default ?\r\n            go_sale_ok = this.getSalePromoOK(Product)\r\n            :\r\n            go_sale_ok = false;\r\n\r\n\r\n        //console.log('Получаем type_price ',Product,countReturnNext,type_price);\r\n\r\n//            console.log(type_price);\r\n\r\n        //промокод для категории\r\n        if (PromoData.promokodeInfo.type === \"sale_category\") {\r\n            // console.log('Скидка на категорию, поэтому вот');\r\n            if (go_sale_ok === true) {\r\n                //Товар проходит по условиям совмещения скидок (данный товар можно провести по промокоду)\r\n                if (Product.categoryId === PromoData.promokodeInfo.id_category) {\r\n                    //Категория товара совпадает с категорий в настройках промокода, условие соблюдено\r\n                    if (countProductListBasket >= PromoData.productInfo.count_product && PromoData.productInfo.count_product !== 0) {\r\n                        //Кол-во товаров по промокоду лежащих в корзине больше или равно кол-ву проверяемого типа товара (в корзине больше чем может быть по промокоду), вернули деф. цэену\r\n                        SumReturn = SumReturn + countProductBasket * type_price;\r\n                    } else {\r\n                        //Кол-во товаров по промокоду лежащих в корзине меньше проверяемого, можно провести еще товар(ы)\r\n                        if (countProductBasket <= PromoData.productInfo.count_product) {\r\n                            //Кол-во товаров проверяемого типа, меньше или равно кол-ву разрешенному в настройках промокода\r\n                            if (Type_Product === PromoData.productInfo.type_product || PromoData.productInfo.type_product === \"all\") {\r\n                                //Тип товара соответствует типу товара по промокоду (или в настройках не указан конкретный тип товара), проводим скидку\r\n                                SumReturn = SumReturn + countProductBasket * (type_price - proc_Sum);\r\n                            } else {\r\n                                //Тип товара не соответствует типу товара в настройках промокода, возвращаем деф. цену\r\n                                SumReturn = SumReturn + countProductBasket * type_price;\r\n                            }\r\n                        } else {\r\n                            //Кол-во товаров проверяемого типа, больше кол-ва разрешенного в настройках промокода\r\n                            if (Type_Product === PromoData.productInfo.type_product || PromoData.productInfo.type_product === \"all\") {\r\n                                //Тип товара соответствует типу товара по промокоду (или в настройках не указан конкретный тип товара), проводим скидку\r\n                                let difference = 0; // Создается переменная для кол-ва (разницы) товаров\r\n                                difference = countProductBasket - PromoData.productInfo.count_product;\r\n                                //Проверяем какое кол-во можно провести по скидке\r\n                                SumReturn = SumReturn + PromoData.productInfo.count_product * (type_price - proc_Sum);\r\n                                SumReturn = SumReturn + difference * type_price;\r\n                                //Высчитали разницу и скидку по ней.\r\n                            } else {\r\n                                //Тип товара не соответствует типу товара в настройках промокода, возвращаем деф. цену\r\n                                SumReturn = SumReturn + countProductBasket * type_price;\r\n                            }\r\n                        }\r\n                        //Увеличиваем кол-во товаров по промокоду, лежащих в корзине, чтобы вернуть из функции и продолжить расчет с новым товаром или типом товара\r\n                        countProductListBasket++;\r\n                    }\r\n                } else {\r\n                    //id категории товара не совпадает с id категории в настройках промокода, условие не соблюдено\r\n                    SumReturn = SumReturn + countProductBasket * type_price;\r\n                }\r\n            } else {\r\n                //Устанавливаем цену дефолтного товара, без скидки по промокоду, так как он не подходит под условия совмещения цен скидка+промокод\r\n                SumReturn = SumReturn + countProductBasket * type_price;\r\n            }\r\n        }\r\n\r\n        //промокод для товара\r\n        if (PromoData.promokodeInfo.type === \"sale_product\") {\r\n            // console.log('Скидка на товар поэтому вот');\r\n            if (go_sale_ok === true) {\r\n                //Товар проходит по условиям совмещения скидок (данный товар можно провести по промокоду)\r\n                if (idProduct === PromoData.productInfo.id_product) {\r\n                    //id Товара совпадает с id товара в настройках промокода\r\n                    if (countProductBasket <= PromoData.productInfo.count_product || PromoData.productInfo.count_product === 0) {\r\n                        //Кол-во товаров проверяемого типа, меньше или равно кол-ву разрешенному в настройках промокода\r\n                        if (Type_Product === PromoData.productInfo.type_product || PromoData.productInfo.type_product === \"all\") {\r\n                            //Тип товара соответствует типу товара по промокоду (или в настройках не указан конкретный тип товара), проводим скидку\r\n                            SumReturn = SumReturn + countProductBasket * (type_price - proc_Sum);\r\n                        } else {\r\n                            //Тип товара не соответствует типу товара в настройках промокода, возвращаем деф. цену\r\n                            SumReturn = SumReturn + countProductBasket * type_price;\r\n                        }\r\n                    } else {\r\n                        //Кол-во товаров проверяемого типа, больше  кол-ва разрешеннаго в настройках промокода\r\n                        if (Type_Product === PromoData.productInfo.type_product || PromoData.productInfo.type_product === \"all\") {\r\n                            //Тип товара соответствует типу товара по промокоду (или в настройках не указан конкретный тип товара), проводим скидку\r\n                            let difference = 0; // Создается переменная для кол-ва (разницы) товаров\r\n                            difference = countProductBasket - PromoData.productInfo.count_product;\r\n                            //Проверяем какое кол-во можно провести по скидке\r\n                            SumReturn = SumReturn + PromoData.productInfo.count_product * (type_price - proc_Sum);\r\n                            SumReturn = SumReturn + difference * type_price;\r\n                            //Высчитали разницу и скидку по ней.\r\n                        } else {\r\n                            //Тип товара не соответствует типу товара в настройках промокода, возвращаем деф. цену\r\n                            SumReturn = SumReturn + countProductBasket * type_price;\r\n                        }\r\n                    }\r\n                } else {\r\n                    // console.log('Каким интересно местом блять, ',SumReturn, countProductBasket, type_price);\r\n                    //id Товара не совпадает с id товара в настройках промокода\r\n                    SumReturn = SumReturn + countProductBasket * type_price;\r\n                }\r\n            } else {\r\n                //Устанавливаем цену дефолтного товара, без скидки по промокоду, так как он не подходит под условия совмещения цен скидка+промокод\r\n                SumReturn = SumReturn + countProductBasket * type_price;\r\n            }\r\n        }\r\n        //Промокод без привязки\r\n        if (PromoData.promokodeInfo.type === \"sale_all\") {\r\n            //Скидка по промокоду распространяется на все товары из любой категории\r\n            console.log('Скидка по промокоду на все типы товаров');\r\n            if (go_sale_ok === true) {\r\n                console.log(\"Товар прошел по условиям, считаем скидку\");\r\n                //Товар проходит по условиям совмещения скидок (данный товар можно провести по промокоду)\r\n                if (countProductListBasket >= PromoData.productInfo.count_product && PromoData.productInfo.count_product !== 0) {\r\n                    //Кол-во товаров по промокоду лежащих в корзине больше или равно кол-ву проверяемого типа товара (в корзине больше чем может быть по промокоду), вернули деф. цэену\r\n                    SumReturn = SumReturn + countProductBasket * type_price;\r\n                } else {\r\n                    //Кол-во товаров по промокоду лежащих в корзине меньше проверяемого, можно провести еще товар(ы)\r\n                    if (countProductBasket <= PromoData.productInfo.count_product || PromoData.productInfo.count_product === 0) {\r\n                        //Кол-во товаров проверяемого типа, меньше или равно кол-ву разрешенному в настройках промокода\r\n                        if (Type_Product === PromoData.productInfo.type_product || PromoData.productInfo.type_product === \"all\") {\r\n                            //Тип товара соответствует типу товара по промокоду (или в настройках не указан конкретный тип товара), проводим скидку\r\n                            SumReturn = SumReturn + countProductBasket * (type_price - proc_Sum);\r\n                        } else {\r\n                            //Тип товара не соответствует типу товара в настройках промокода, возвращаем деф. цену\r\n                            SumReturn = SumReturn + countProductBasket * type_price;\r\n                        }\r\n                    } else {\r\n                        //Кол-во товаров проверяемого типа, больше  кол-ва разрешеннаго в настройках промокода\r\n                        if (Type_Product === PromoData.productInfo.type_product || PromoData.productInfo.type_product === \"all\") {\r\n                            //Тип товара соответствует типу товара по промокоду (или в настройках не указан конкретный тип товара), проводим скидку\r\n                            let difference = 0; // Создается переменная для кол-ва (разницы) товаров\r\n                            difference = countProductBasket - PromoData.productInfo.count_product;\r\n                            //Проверяем какое кол-во можно провести по скидке\r\n                            SumReturn = SumReturn + PromoData.productInfo.count_product * (type_price - proc_Sum);\r\n                            SumReturn = SumReturn + difference * type_price;\r\n                            //Высчитали разницу и скидку по ней.\r\n                        } else {\r\n                            //Тип товара не соответствует типу товара в настройках промокода, возвращаем деф. цену\r\n                            SumReturn = SumReturn + countProductBasket * type_price;\r\n                        }\r\n                    }\r\n                }\r\n                //Увеличиваем кол-во товаров по промокоду, лежащих в корзине, чтобы вернуть из функции и продолжить расчет с новым товаром или типом товара\r\n                countProductListBasket++;\r\n            } else {\r\n                //Устанавливаем цену дефолтного товара, без скидки по промокоду, так как он не подходит под условия совмещения цен скидка+промокод\r\n                console.log('Товар не прошел по условиям, не считаем скидку');\r\n                SumReturn = SumReturn + countProductBasket * type_price;\r\n            }\r\n        }\r\n\r\n\r\n        return {\"SumResult\":parseFloat(SumReturn.toFixed(0)),\"countProductListBasket\":countProductListBasket};\r\n    }\r\n}","import {PromokodeClass} from \"./PromokodeClass\";\r\n\r\n\r\nlet countProductListBasket = 0;\r\n\r\n    export const handleSetProductArrayPromokode = (Product, type_price, countProductBasket, Type_Product, idProduct, return_default = true, PromoData) => {\r\n        //     Product, //Обьект товара в корзине (нужно передавать его совмещенным с обьектом товара в каталоге\r\n        //     SumReturn = 0, //Сумма возвращаемая из этой функции\r\n        //     type_price, //Цена товара конкретного типа (который проверяется)\r\n        //     countProductBasket, //Кол-во товаров этого типа в корзине\r\n        //     Type_Product, //Тип продукта type_product 0,1,2,3 или all\r\n        //     PromoData = {}, //Обьект с настройками промокода полученный при проверке с сервера\r\n        //     countProductListBasket = 0, //Кол-во товаров под условиями промокода уже лежащих в корзине\r\n        //     idProduct = 0 // id товара тип которого проверяется\r\n\r\n        //console.log(Product);\r\n\r\n        let ResultCHeckPromokode = PromokodeClass.getPriceFromPromokode(Product, 0, type_price, countProductBasket, Type_Product, PromoData, countProductListBasket, idProduct, return_default);\r\n\r\n        console.log('Высчитанная скидка получается', ResultCHeckPromokode);\r\n\r\n        return ResultCHeckPromokode;\r\n    };\r\n\r\n//Нужно проверять активность промокода, и создавать новую переменную (метод) в обьекте, с ценой по промокоду и кол-вом товароа по промокоду.\r\n// И выводить их либо вместо стандартных данных в цене товара, либо в итоговой таблице ниже первого экрана корзины\r\n\r\n    export const getTypeProductData = (type_product, ProductDataAll) => {\r\n        let Returns = {};\r\n        ProductDataAll.forEach((type, number) => {\r\n            if (type_product === type.type_product) {\r\n                Returns = type;\r\n            }\r\n        });\r\n\r\n        return Returns;\r\n    };\r\n\r\n    export const getBasketPromokodeActive = async (def = true, basket = [], allProducts = [], PromoData, handleSetAddDiscountPromokodeData = ()=>{}) => {\r\n        //  console.log('def = ',def, PromokodeErrorInfo.showIconError);\r\n        let ReturnBasketArray = [];\r\n        let AllDiscount = 0;\r\n        let AllPrice = 0;\r\n        await basket.forEach((type, number) => {\r\n            //  console.log('Товар ',type.id);\r\n\r\n                // console.log(allProducts[type.id_Category].ProductList[type.id]);\r\n                let TypeProductData = getTypeProductData(type.type_product, allProducts[type.id_Category].ProductList[type.id_Product]);\r\n                // console.log('Получаем данные по конкретному типу товара ----======-----======-=-=-=-----====',TypeProductData);\r\n                let ReturnResult = handleSetProductArrayPromokode(TypeProductData, TypeProductData.price, type.count, type.type_product, type.id_Product, def, PromoData);\r\n                // console.log('После просчета данных по промокоду по товару вернулось это: -==--==--==--==--==--==--==--==--==--==--==--==--==--==--==--==--==-',ReturnResult);\r\n                countProductListBasket = ReturnResult.countProductListBasket;\r\n\r\n\r\n                let PriceDef = TypeProductData.price * type.count;\r\n                AllPrice = AllPrice + PriceDef;\r\n                let PriceDiscount = PriceDef - ReturnResult.SumResult;\r\n                PriceDiscount < 0 ? PriceDiscount = 0 : PriceDiscount = PriceDiscount;\r\n                AllDiscount = AllDiscount + PriceDiscount;\r\n\r\n                let ArrayPush = {\r\n                    id_product: type.id_Product,\r\n                    type_product: type.type_product,\r\n                    sumDiscount: PriceDiscount, //Сумма скидки по товару\r\n                    sumPriceDef: PriceDef, //Сумма товара без скидки\r\n                    sumPriceSale: ReturnResult.SumResult, //Стоимость товара с учетом скидки\r\n                    count: type.count\r\n                };\r\n\r\n                ReturnBasketArray.push(ArrayPush);\r\n\r\n        });\r\n\r\n        if (PromoData !== null) {\r\n            if (PromoData.dop_settings.type_summa_check == '0') {\r\n\r\n                let Check1 = (AllPrice - AllDiscount)*1;\r\n                let Check2 = PromoData.dop_settings.summa_min_active*1;\r\n\r\n                if (Check1 < (Check2)) {\r\n                    AllDiscount = 0;\r\n                    ReturnBasketArray = [];\r\n                    // console.log('анулировали все, почему то', PromoData.dop_settings.type_summa_check);\r\n                    // console.log('Check1 < Check2', Check1,  Check2);\r\n                }\r\n            }\r\n        }\r\n\r\n        let DispatchData = {\r\n            allSumDiscount: AllDiscount,\r\n            arrayProductDiscount: ReturnBasketArray,\r\n            // sumPreorderToppting: SumReturnsTopping\r\n            sumPreorderToppting: 0\r\n        };\r\n\r\n        // console.log('Итоговая корзина скидок равна: ',ReturnBasketArray, 'сего по скидке: ',AllDiscount);\r\n        // dispatch(setArrayPricePromokodeProduct(DispatchData));\r\n        console.log('После перерасчета по промокоду получаем следующее ',def,DispatchData);\r\n        handleSetAddDiscountPromokodeData(DispatchData);\r\n    };\r\n\r\n    export const getSumItogButton = (PromokodeErrorInfo,PromokodeActiveStatus,sumItogBasket,DataPromokodeDiscountProduct, handleReturnSumBasket = ()=>{}) => {\r\n        // let sumItog = sumItogBasket-DataPromokodeDiscountProduct.allSumDiscount;\r\n        let sumItog = 0;\r\n        if (PromokodeErrorInfo.showIconError === true) {\r\n            sumItog = sumItogBasket;\r\n        } else {\r\n            if (PromokodeActiveStatus) {\r\n                sumItog = sumItogBasket - DataPromokodeDiscountProduct.allSumDiscount;\r\n                console.log('Сумма итого для вывода в кнопку ',sumItogBasket,DataPromokodeDiscountProduct,DataPromokodeDiscountProduct.allSumDiscount,sumItog);\r\n            } else {\r\n                sumItog = sumItogBasket;\r\n            }\r\n        }\r\n        handleReturnSumBasket(sumItog);\r\n        return true;\r\n    };\r\n"],"sourceRoot":""}